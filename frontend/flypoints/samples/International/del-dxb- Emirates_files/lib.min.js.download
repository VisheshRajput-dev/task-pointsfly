(()=>{var __webpack_modules__={675:function(n){
/**!

 @license
 handlebars v4.7.8

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var e;e=function(){return function(n){var e={};function __nested_webpack_require_1638__(t){if(e[t])return e[t].exports;var r=e[t]={exports:{},id:t,loaded:!1};return n[t].call(r.exports,r,r.exports,__nested_webpack_require_1638__),r.loaded=!0,r.exports}return __nested_webpack_require_1638__.m=n,__nested_webpack_require_1638__.c=e,__nested_webpack_require_1638__.p="",__nested_webpack_require_1638__(0)}([function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0;var a=r(t(2)),o=r(t(84)),i=t(85),s=t(90),l=r(t(91)),c=r(t(88)),d=r(t(83)),p=a.default.create;function create(){var n=p();return n.compile=function(e,t){return s.compile(e,t,n)},n.precompile=function(e,t){return s.precompile(e,t,n)},n.AST=o.default,n.Compiler=s.Compiler,n.JavaScriptCompiler=l.default,n.Parser=i.parser,n.parse=i.parse,n.parseWithoutProcessing=i.parseWithoutProcessing,n}var u=create();u.create=create,d.default(u),u.Visitor=c.default,u.default=u,e.default=u,n.exports=e.default},function(n,e){"use strict";e.default=function(n){return n&&n.__esModule?n:{default:n}},e.__esModule=!0},function(n,e,t){"use strict";var r=t(3).default,a=t(1).default;e.__esModule=!0;var o=r(t(4)),i=a(t(77)),s=a(t(6)),l=r(t(5)),c=r(t(78)),d=a(t(83));function create(){var n=new o.HandlebarsEnvironment;return l.extend(n,o),n.SafeString=i.default,n.Exception=s.default,n.Utils=l,n.escapeExpression=l.escapeExpression,n.VM=c,n.template=function(e){return c.template(e,n)},n}var p=create();p.create=create,d.default(p),p.default=p,e.default=p,n.exports=e.default},function(n,e){"use strict";e.default=function(n){if(n&&n.__esModule)return n;var e={};if(null!=n)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e},e.__esModule=!0},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0,e.HandlebarsEnvironment=HandlebarsEnvironment;var a=t(5),o=r(t(6)),i=t(10),s=t(70),l=r(t(72)),c=t(73);function HandlebarsEnvironment(n,e,t){this.helpers=n||{},this.partials=e||{},this.decorators=t||{},i.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}e.VERSION="4.7.8",e.COMPILER_REVISION=8,e.LAST_COMPATIBLE_COMPILER_REVISION=7,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:l.default,log:l.default.log,registerHelper:function(n,e){if("[object Object]"===a.toString.call(n)){if(e)throw new o.default("Arg not supported with multiple helpers");a.extend(this.helpers,n)}else this.helpers[n]=e},unregisterHelper:function(n){delete this.helpers[n]},registerPartial:function(n,e){if("[object Object]"===a.toString.call(n))a.extend(this.partials,n);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+n+'" as undefined');this.partials[n]=e}},unregisterPartial:function(n){delete this.partials[n]},registerDecorator:function(n,e){if("[object Object]"===a.toString.call(n)){if(e)throw new o.default("Arg not supported with multiple decorators");a.extend(this.decorators,n)}else this.decorators[n]=e},unregisterDecorator:function(n){delete this.decorators[n]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var d=l.default.log;e.log=d,e.createFrame=a.createFrame,e.logger=l.default},function(n,e){"use strict";e.__esModule=!0,e.extend=extend,e.indexOf=function(n,e){for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1},e.escapeExpression=function(n){if("string"!=typeof n){if(n&&n.toHTML)return n.toHTML();if(null==n)return"";if(!n)return n+"";n=""+n}return a.test(n)?n.replace(r,escapeChar):n},e.isEmpty=function(n){return!n&&0!==n||!(!i(n)||0!==n.length)},e.createFrame=function(n){var e=extend({},n);return e._parent=n,e},e.blockParams=function(n,e){return n.path=e,n},e.appendContextPath=function(n,e){return(n?n+".":"")+e};var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,a=/[&<>"'`=]/;function escapeChar(n){return t[n]}function extend(n){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&(n[t]=arguments[e][t]);return n}var o=Object.prototype.toString;e.toString=o;var isFunction=function(n){return"function"==typeof n};isFunction(/x/)&&(e.isFunction=isFunction=function(n){return"function"==typeof n&&"[object Function]"===o.call(n)}),e.isFunction=isFunction;var i=Array.isArray||function(n){return!(!n||"object"!=typeof n)&&"[object Array]"===o.call(n)};e.isArray=i},function(n,e,t){"use strict";var r=t(7).default;e.__esModule=!0;var a=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function Exception(n,e){var t=e&&e.loc,o=void 0,i=void 0,s=void 0,l=void 0;t&&(o=t.start.line,i=t.end.line,s=t.start.column,l=t.end.column,n+=" - "+o+":"+s);for(var c=Error.prototype.constructor.call(this,n),d=0;d<a.length;d++)this[a[d]]=c[a[d]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{t&&(this.lineNumber=o,this.endLineNumber=i,r?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=s,this.endColumn=l))}catch(n){}}Exception.prototype=new Error,e.default=Exception,n.exports=e.default},function(n,e,t){n.exports={default:t(8),__esModule:!0}},function(n,e,t){var r=t(9);n.exports=function(n,e,t){return r.setDesc(n,e,t)}},function(n,e){var t=Object;n.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(n){a.default(n),o.default(n),i.default(n),s.default(n),l.default(n),c.default(n),d.default(n)},e.moveHelperToHooks=function(n,e,t){n.helpers[e]&&(n.hooks[e]=n.helpers[e],t||delete n.helpers[e])};var a=r(t(11)),o=r(t(12)),i=r(t(65)),s=r(t(66)),l=r(t(67)),c=r(t(68)),d=r(t(69))},function(n,e,t){"use strict";e.__esModule=!0;var r=t(5);e.default=function(n){n.registerHelper("blockHelperMissing",(function(e,t){var a=t.inverse,o=t.fn;if(!0===e)return o(this);if(!1===e||null==e)return a(this);if(r.isArray(e))return e.length>0?(t.ids&&(t.ids=[t.name]),n.helpers.each(e,t)):a(this);if(t.data&&t.ids){var i=r.createFrame(t.data);i.contextPath=r.appendContextPath(t.data.contextPath,t.name),t={data:i}}return o(e,t)}))},n.exports=e.default},function(n,e,t){"use strict";var r=t(13).default,a=t(43).default,o=t(55).default,i=t(60).default,s=t(1).default;e.__esModule=!0;var l=t(5),c=s(t(6));e.default=function(n){n.registerHelper("each",(function(n,e){if(!e)throw new c.default("Must pass iterator to #each");var t,s=e.fn,d=e.inverse,p=0,u="",g=void 0,b=void 0;function execIteration(e,t,r){g&&(g.key=e,g.index=t,g.first=0===t,g.last=!!r,b&&(g.contextPath=b+e)),u+=s(n[e],{data:g,blockParams:l.blockParams([n[e],e],[b+e,null])})}if(e.data&&e.ids&&(b=l.appendContextPath(e.data.contextPath,e.ids[0])+"."),l.isFunction(n)&&(n=n.call(this)),e.data&&(g=l.createFrame(e.data)),n&&"object"==typeof n)if(l.isArray(n))for(var m=n.length;p<m;p++)p in n&&execIteration(p,p,p===n.length-1);else if("function"==typeof r&&n[a]){for(var h=[],f=o(n),y=f.next();!y.done;y=f.next())h.push(y.value);for(m=(n=h).length;p<m;p++)execIteration(p,p,p===n.length-1)}else t=void 0,i(n).forEach((function(n){void 0!==t&&execIteration(t,p-1),t=n,p++})),void 0!==t&&execIteration(t,p-1,!0);return 0===p&&(u=d(this)),u}))},n.exports=e.default},function(n,e,t){n.exports={default:t(14),__esModule:!0}},function(n,e,t){t(15),t(42),n.exports=t(21).Symbol},function(n,e,t){"use strict";var r=t(9),a=t(16),o=t(17),i=t(18),s=t(20),l=t(24),c=t(19),d=t(27),p=t(28),u=t(30),g=t(29),b=t(31),m=t(36),h=t(37),f=t(38),y=t(39),x=t(32),_=t(26),v=r.getDesc,w=r.setDesc,M=r.create,I=m.get,C=a.Symbol,D=a.JSON,N=D&&D.stringify,S=!1,A=g("_hidden"),L=r.isEnum,k=d("symbol-registry"),T=d("symbols"),E="function"==typeof C,j=Object.prototype,P=i&&c((function(){return 7!=M(w({},"a",{get:function(){return w(this,"a",{value:7}).a}})).a}))?function(n,e,t){var r=v(j,e);r&&delete j[e],w(n,e,t),r&&n!==j&&w(j,e,r)}:w,wrap=function(n){var e=T[n]=M(C.prototype);return e._k=n,i&&S&&P(j,n,{configurable:!0,set:function(e){o(this,A)&&o(this[A],n)&&(this[A][n]=!1),P(this,n,_(1,e))}}),e},isSymbol=function(n){return"symbol"==typeof n},$defineProperty=function(n,e,t){return t&&o(T,e)?(t.enumerable?(o(n,A)&&n[A][e]&&(n[A][e]=!1),t=M(t,{enumerable:_(0,!1)})):(o(n,A)||w(n,A,_(1,{})),n[A][e]=!0),P(n,e,t)):w(n,e,t)},$defineProperties=function(n,e){y(n);for(var t,r=h(e=x(e)),a=0,o=r.length;o>a;)$defineProperty(n,t=r[a++],e[t]);return n},$create=function(n,e){return void 0===e?M(n):$defineProperties(M(n),e)},$propertyIsEnumerable=function(n){var e=L.call(this,n);return!(e||!o(this,n)||!o(T,n)||o(this,A)&&this[A][n])||e},$getOwnPropertyDescriptor=function(n,e){var t=v(n=x(n),e);return!t||!o(T,e)||o(n,A)&&n[A][e]||(t.enumerable=!0),t},$getOwnPropertyNames=function(n){for(var e,t=I(x(n)),r=[],a=0;t.length>a;)o(T,e=t[a++])||e==A||r.push(e);return r},$getOwnPropertySymbols=function(n){for(var e,t=I(x(n)),r=[],a=0;t.length>a;)o(T,e=t[a++])&&r.push(T[e]);return r},z=c((function(){var n=C();return"[null]"!=N([n])||"{}"!=N({a:n})||"{}"!=N(Object(n))}));E||(l((C=function(){if(isSymbol(this))throw TypeError("Symbol is not a constructor");return wrap(u(arguments.length>0?arguments[0]:void 0))}).prototype,"toString",(function(){return this._k})),isSymbol=function(n){return n instanceof C},r.create=$create,r.isEnum=$propertyIsEnumerable,r.getDesc=$getOwnPropertyDescriptor,r.setDesc=$defineProperty,r.setDescs=$defineProperties,r.getNames=m.get=$getOwnPropertyNames,r.getSymbols=$getOwnPropertySymbols,i&&!t(41)&&l(j,"propertyIsEnumerable",$propertyIsEnumerable,!0));var B={for:function(n){return o(k,n+="")?k[n]:k[n]=C(n)},keyFor:function(n){return b(k,n)},useSetter:function(){S=!0},useSimple:function(){S=!1}};r.each.call("hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),(function(n){var e=g(n);B[n]=E?e:wrap(e)})),S=!0,s(s.G+s.W,{Symbol:C}),s(s.S,"Symbol",B),s(s.S+s.F*!E,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),D&&s(s.S+s.F*(!E||z),"JSON",{stringify:function(n){if(void 0!==n&&!isSymbol(n)){for(var e,t,r=[n],a=1,o=arguments;o.length>a;)r.push(o[a++]);return"function"==typeof(e=r[1])&&(t=e),!t&&f(e)||(e=function(n,e){if(t&&(e=t.call(this,n,e)),!isSymbol(e))return e}),r[1]=e,N.apply(D,r)}}}),p(C,"Symbol"),p(Math,"Math",!0),p(a.JSON,"JSON",!0)},function(n,e){var t=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(n,e){var t={}.hasOwnProperty;n.exports=function(n,e){return t.call(n,e)}},function(n,e,t){n.exports=!t(19)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(n,e){n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){var r=t(16),a=t(21),o=t(22),$export=function(n,e,t){var i,s,l,c=n&$export.F,d=n&$export.G,p=n&$export.S,u=n&$export.P,g=n&$export.B,b=n&$export.W,m=d?a:a[e]||(a[e]={}),h=d?r:p?r[e]:(r[e]||{}).prototype;for(i in d&&(t=e),t)(s=!c&&h&&i in h)&&i in m||(l=s?h[i]:t[i],m[i]=d&&"function"!=typeof h[i]?t[i]:g&&s?o(l,r):b&&h[i]==l?function(n){var F=function(e){return this instanceof n?new n(e):n(e)};return F.prototype=n.prototype,F}(l):u&&"function"==typeof l?o(Function.call,l):l,u&&((m.prototype||(m.prototype={}))[i]=l))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,n.exports=$export},function(n,e){var t=n.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(n,e,t){var r=t(23);n.exports=function(n,e,t){if(r(n),void 0===e)return n;switch(t){case 1:return function(t){return n.call(e,t)};case 2:return function(t,r){return n.call(e,t,r)};case 3:return function(t,r,a){return n.call(e,t,r,a)}}return function(){return n.apply(e,arguments)}}},function(n,e){n.exports=function(n){if("function"!=typeof n)throw TypeError(n+" is not a function!");return n}},function(n,e,t){n.exports=t(25)},function(n,e,t){var r=t(9),a=t(26);n.exports=t(18)?function(n,e,t){return r.setDesc(n,e,a(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e){n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){var r=t(16),a=r["__core-js_shared__"]||(r["__core-js_shared__"]={});n.exports=function(n){return a[n]||(a[n]={})}},function(n,e,t){var r=t(9).setDesc,a=t(17),o=t(29)("toStringTag");n.exports=function(n,e,t){n&&!a(n=t?n:n.prototype,o)&&r(n,o,{configurable:!0,value:e})}},function(n,e,t){var r=t(27)("wks"),a=t(30),o=t(16).Symbol;n.exports=function(n){return r[n]||(r[n]=o&&o[n]||(o||a)("Symbol."+n))}},function(n,e){var t=0,r=Math.random();n.exports=function(n){return"Symbol(".concat(void 0===n?"":n,")_",(++t+r).toString(36))}},function(n,e,t){var r=t(9),a=t(32);n.exports=function(n,e){for(var t,o=a(n),i=r.getKeys(o),s=i.length,l=0;s>l;)if(o[t=i[l++]]===e)return t}},function(n,e,t){var r=t(33),a=t(35);n.exports=function(n){return r(a(n))}},function(n,e,t){var r=t(34);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(n){return"String"==r(n)?n.split(""):Object(n)}},function(n,e){var t={}.toString;n.exports=function(n){return t.call(n).slice(8,-1)}},function(n,e){n.exports=function(n){if(null==n)throw TypeError("Can't call method on  "+n);return n}},function(n,e,t){var r=t(32),a=t(9).getNames,o={}.toString,i="object"==typeof window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.get=function(n){return i&&"[object Window]"==o.call(n)?function(n){try{return a(n)}catch(n){return i.slice()}}(n):a(r(n))}},function(n,e,t){var r=t(9);n.exports=function(n){var e=r.getKeys(n),t=r.getSymbols;if(t)for(var a,o=t(n),i=r.isEnum,s=0;o.length>s;)i.call(n,a=o[s++])&&e.push(a);return e}},function(n,e,t){var r=t(34);n.exports=Array.isArray||function(n){return"Array"==r(n)}},function(n,e,t){var r=t(40);n.exports=function(n){if(!r(n))throw TypeError(n+" is not an object!");return n}},function(n,e){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},function(n,e){n.exports=!0},function(n,e){},function(n,e,t){n.exports={default:t(44),__esModule:!0}},function(n,e,t){t(45),t(51),n.exports=t(29)("iterator")},function(n,e,t){"use strict";var r=t(46)(!0);t(48)(String,"String",(function(n){this._t=String(n),this._i=0}),(function(){var n,e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(n=r(e,t),this._i+=n.length,{value:n,done:!1})}))},function(n,e,t){var r=t(47),a=t(35);n.exports=function(n){return function(e,t){var o,i,s=String(a(e)),l=r(t),c=s.length;return l<0||l>=c?n?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(i=s.charCodeAt(l+1))<56320||i>57343?n?s.charAt(l):o:n?s.slice(l,l+2):i-56320+(o-55296<<10)+65536}}},function(n,e){var t=Math.ceil,r=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?r:t)(n)}},function(n,e,t){"use strict";var r=t(41),a=t(20),o=t(24),i=t(25),s=t(17),l=t(49),c=t(50),d=t(28),p=t(9).getProto,u=t(29)("iterator"),g=!([].keys&&"next"in[].keys()),returnThis=function(){return this};n.exports=function(n,e,t,b,m,h,f){c(t,e,b);var y,x,getMethod=function(n){if(!g&&n in M)return M[n];switch(n){case"keys":case"values":return function(){return new t(this,n)}}return function(){return new t(this,n)}},_=e+" Iterator",v="values"==m,w=!1,M=n.prototype,I=M[u]||M["@@iterator"]||m&&M[m],C=I||getMethod(m);if(I){var D=p(C.call(new n));d(D,_,!0),!r&&s(M,"@@iterator")&&i(D,u,returnThis),v&&"values"!==I.name&&(w=!0,C=function(){return I.call(this)})}if(r&&!f||!g&&!w&&M[u]||i(M,u,C),l[e]=C,l[_]=returnThis,m)if(y={values:v?C:getMethod("values"),keys:h?C:getMethod("keys"),entries:v?getMethod("entries"):C},f)for(x in y)x in M||o(M,x,y[x]);else a(a.P+a.F*(g||w),e,y);return y}},function(n,e){n.exports={}},function(n,e,t){"use strict";var r=t(9),a=t(26),o=t(28),i={};t(25)(i,t(29)("iterator"),(function(){return this})),n.exports=function(n,e,t){n.prototype=r.create(i,{next:a(1,t)}),o(n,e+" Iterator")}},function(n,e,t){t(52);var r=t(49);r.NodeList=r.HTMLCollection=r.Array},function(n,e,t){"use strict";var r=t(53),a=t(54),o=t(49),i=t(32);n.exports=t(48)(Array,"Array",(function(n,e){this._t=i(n),this._i=0,this._k=e}),(function(){var n=this._t,e=this._k,t=this._i++;return!n||t>=n.length?(this._t=void 0,a(1)):a(0,"keys"==e?t:"values"==e?n[t]:[t,n[t]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(n,e){n.exports=function(){}},function(n,e){n.exports=function(n,e){return{value:e,done:!!n}}},function(n,e,t){n.exports={default:t(56),__esModule:!0}},function(n,e,t){t(51),t(45),n.exports=t(57)},function(n,e,t){var r=t(39),a=t(58);n.exports=t(21).getIterator=function(n){var e=a(n);if("function"!=typeof e)throw TypeError(n+" is not iterable!");return r(e.call(n))}},function(n,e,t){var r=t(59),a=t(29)("iterator"),o=t(49);n.exports=t(21).getIteratorMethod=function(n){if(null!=n)return n[a]||n["@@iterator"]||o[r(n)]}},function(n,e,t){var r=t(34),a=t(29)("toStringTag"),o="Arguments"==r(function(){return arguments}());n.exports=function(n){var e,t,i;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=(e=Object(n))[a])?t:o?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(n,e,t){n.exports={default:t(61),__esModule:!0}},function(n,e,t){t(62),n.exports=t(21).Object.keys},function(n,e,t){var r=t(63);t(64)("keys",(function(n){return function(e){return n(r(e))}}))},function(n,e,t){var r=t(35);n.exports=function(n){return Object(r(n))}},function(n,e,t){var r=t(20),a=t(21),o=t(19);n.exports=function(n,e){var t=(a.Object||{})[n]||Object[n],i={};i[n]=e(t),r(r.S+r.F*o((function(){t(1)})),"Object",i)}},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0;var a=r(t(6));e.default=function(n){n.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new a.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},n.exports=e.default},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0;var a=t(5),o=r(t(6));e.default=function(n){n.registerHelper("if",(function(n,e){if(2!=arguments.length)throw new o.default("#if requires exactly one argument");return a.isFunction(n)&&(n=n.call(this)),!e.hash.includeZero&&!n||a.isEmpty(n)?e.inverse(this):e.fn(this)})),n.registerHelper("unless",(function(e,t){if(2!=arguments.length)throw new o.default("#unless requires exactly one argument");return n.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})}))},n.exports=e.default},function(n,e){"use strict";e.__esModule=!0,e.default=function(n){n.registerHelper("log",(function(){for(var e=[void 0],t=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var a=1;null!=t.hash.level?a=t.hash.level:t.data&&null!=t.data.level&&(a=t.data.level),e[0]=a,n.log.apply(n,e)}))},n.exports=e.default},function(n,e){"use strict";e.__esModule=!0,e.default=function(n){n.registerHelper("lookup",(function(n,e,t){return n?t.lookupProperty(n,e):n}))},n.exports=e.default},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0;var a=t(5),o=r(t(6));e.default=function(n){n.registerHelper("with",(function(n,e){if(2!=arguments.length)throw new o.default("#with requires exactly one argument");a.isFunction(n)&&(n=n.call(this));var t=e.fn;if(a.isEmpty(n))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=a.createFrame(e.data)).contextPath=a.appendContextPath(e.data.contextPath,e.ids[0])),t(n,{data:r,blockParams:a.blockParams([n],[r&&r.contextPath])})}))},n.exports=e.default},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(n){a.default(n)};var a=r(t(71))},function(n,e,t){"use strict";e.__esModule=!0;var r=t(5);e.default=function(n){n.registerDecorator("inline",(function(n,e,t,a){var o=n;return e.partials||(e.partials={},o=function(a,o){var i=t.partials;t.partials=r.extend({},i,e.partials);var s=n(a,o);return t.partials=i,s}),e.partials[a.args[0]]=a.fn,o}))},n.exports=e.default},function(n,e,t){"use strict";e.__esModule=!0;var r=t(5),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(n){if("string"==typeof n){var e=r.indexOf(a.methodMap,n.toLowerCase());n=e>=0?e:parseInt(n,10)}return n},log:function(n){if(n=a.lookupLevel(n),"undefined"!=typeof console&&a.lookupLevel(a.level)<=n){var e=a.methodMap[n];console[e]||(e="log");for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];console[e].apply(console,r)}}};e.default=a,n.exports=e.default},function(n,e,t){"use strict";var r=t(74).default,a=t(60).default,o=t(1).default;e.__esModule=!0,e.createProtoAccessControl=function(n){var e=r(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var t=r(null);return t.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(t,n.allowedProtoProperties),defaultValue:n.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(e,n.allowedProtoMethods),defaultValue:n.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(n,e,t){return checkWhiteList("function"==typeof n?e.methods:e.properties,t)},e.resetLoggedProperties=function(){a(l).forEach((function(n){delete l[n]}))};var i=t(76),s=o(t(72)),l=r(null);function checkWhiteList(n,e){return void 0!==n.whitelist[e]?!0===n.whitelist[e]:void 0!==n.defaultValue?n.defaultValue:(function(n){!0!==l[n]&&(l[n]=!0,s.default.log("error",'Handlebars: Access has been denied to resolve the property "'+n+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},function(n,e,t){n.exports={default:t(75),__esModule:!0}},function(n,e,t){var r=t(9);n.exports=function(n,e){return r.create(n,e)}},function(n,e,t){"use strict";var r=t(74).default;e.__esModule=!0,e.createNewLookupObject=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return a.extend.apply(void 0,[r(null)].concat(e))};var a=t(5)},function(n,e){"use strict";function SafeString(n){this.string=n}e.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},e.default=SafeString,n.exports=e.default},function(n,e,t){"use strict";var r=t(79).default,a=t(60).default,o=t(3).default,i=t(1).default;e.__esModule=!0,e.checkRevision=function(n){var e=n&&n[0]||1,t=c.COMPILER_REVISION;if(!(e>=c.LAST_COMPATIBLE_COMPILER_REVISION&&e<=c.COMPILER_REVISION)){if(e<c.LAST_COMPATIBLE_COMPILER_REVISION){var r=c.REVISION_CHANGES[t],a=c.REVISION_CHANGES[e];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+a+").")}throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+n[1]+").")}},e.template=function(n,e){if(!e)throw new l.default("No environment passed to template");if(!n||!n.main)throw new l.default("Unknown template object: "+typeof n);n.main.decorator=n.main_d,e.VM.checkRevision(n.compiler);var t=n.compiler&&7===n.compiler[0],o={strict:function(n,e,t){if(!(n&&e in n))throw new l.default('"'+e+'" not defined in '+n,{loc:t});return o.lookupProperty(n,e)},lookupProperty:function(n,e){var t=n[e];return null==t?t:Object.prototype.hasOwnProperty.call(n,e)?t:u.resultIsAllowed(t,o.protoAccessControl,e)?t:void 0},lookup:function(n,e){for(var t=n.length,r=0;r<t;r++)if(null!=(n[r]&&o.lookupProperty(n[r],e)))return n[r][e]},lambda:function(n,e){return"function"==typeof n?n.call(e):n},escapeExpression:s.escapeExpression,invokePartial:function(t,r,a){a.hash&&(r=s.extend({},r,a.hash),a.ids&&(a.ids[0]=!0)),t=e.VM.resolvePartial.call(this,t,r,a);var o=s.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),i=e.VM.invokePartial.call(this,t,r,o);if(null==i&&e.compile&&(a.partials[a.name]=e.compile(t,n.compilerOptions,e),i=a.partials[a.name](r,o)),null!=i){if(a.indent){for(var c=i.split("\n"),d=0,p=c.length;d<p&&(c[d]||d+1!==p);d++)c[d]=a.indent+c[d];i=c.join("\n")}return i}throw new l.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var t=n[e];return t.decorator=n[e+"_d"],t},programs:[],program:function(n,e,t,r,a){var o=this.programs[n],i=this.fn(n);return e||a||r||t?o=wrapProgram(this,n,i,e,t,r,a):o||(o=this.programs[n]=wrapProgram(this,n,i)),o},data:function(n,e){for(;n&&e--;)n=n._parent;return n},mergeIfNeeded:function(n,e){var t=n||e;return n&&e&&n!==e&&(t=s.extend({},e,n)),t},nullContext:r({}),noop:e.VM.noop,compilerInfo:n.compiler};function ret(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.data;ret._setup(t),!t.partial&&n.useData&&(r=function(n,e){return e&&"root"in e||((e=e?c.createFrame(e):{}).root=n),e}(e,r));var a=void 0,i=n.useBlockParams?[]:void 0;function main(e){return""+n.main(o,e,o.helpers,o.partials,r,i,a)}return n.useDepths&&(a=t.depths?e!=t.depths[0]?[e].concat(t.depths):t.depths:[e]),(main=executeDecorators(n.main,main,o,t.depths||[],r,i))(e,t)}return ret.isTop=!0,ret._setup=function(r){if(r.partial)o.protoAccessControl=r.protoAccessControl,o.helpers=r.helpers,o.partials=r.partials,o.decorators=r.decorators,o.hooks=r.hooks;else{var i=s.extend({},e.helpers,r.helpers);!function(n,e){a(n).forEach((function(t){var r=n[t];n[t]=function(n,e){var t=e.lookupProperty;return p.wrapHelper(n,(function(n){return s.extend({lookupProperty:t},n)}))}(r,e)}))}(i,o),o.helpers=i,n.usePartial&&(o.partials=o.mergeIfNeeded(r.partials,e.partials)),(n.usePartial||n.useDecorators)&&(o.decorators=s.extend({},e.decorators,r.decorators)),o.hooks={},o.protoAccessControl=u.createProtoAccessControl(r);var l=r.allowCallsToHelperMissing||t;d.moveHelperToHooks(o,"helperMissing",l),d.moveHelperToHooks(o,"blockHelperMissing",l)}},ret._child=function(e,t,r,a){if(n.useBlockParams&&!r)throw new l.default("must pass block params");if(n.useDepths&&!a)throw new l.default("must pass parent depths");return wrapProgram(o,e,n[e],t,0,r,a)},ret},e.wrapProgram=wrapProgram,e.resolvePartial=function(n,e,t){return n?n.call||t.name||(t.name=n,n=t.partials[n]):n="@partial-block"===t.name?t.data["partial-block"]:t.partials[t.name],n},e.invokePartial=function(n,e,t){var r=t.data&&t.data["partial-block"];t.partial=!0,t.ids&&(t.data.contextPath=t.ids[0]||t.data.contextPath);var a=void 0;if(t.fn&&t.fn!==noop&&function(){t.data=c.createFrame(t.data);var n=t.fn;a=t.data["partial-block"]=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.data=c.createFrame(t.data),t.data["partial-block"]=r,n(e,t)},n.partials&&(t.partials=s.extend({},t.partials,n.partials))}(),void 0===n&&a&&(n=a),void 0===n)throw new l.default("The partial "+t.name+" could not be found");if(n instanceof Function)return n(e,t)},e.noop=noop;var s=o(t(5)),l=i(t(6)),c=t(4),d=t(10),p=t(82),u=t(73);function wrapProgram(n,e,t,r,a,o,i){function prog(e){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=i;return!i||e==i[0]||e===n.nullContext&&null===i[0]||(s=[e].concat(i)),t(n,e,n.helpers,n.partials,a.data||r,o&&[a.blockParams].concat(o),s)}return(prog=executeDecorators(t,prog,n,i,r,o)).program=e,prog.depth=i?i.length:0,prog.blockParams=a||0,prog}function noop(){return""}function executeDecorators(n,e,t,r,a,o){if(n.decorator){var i={};e=n.decorator(e,i,t,r&&r[0],a,o,r),s.extend(e,i)}return e}},function(n,e,t){n.exports={default:t(80),__esModule:!0}},function(n,e,t){t(81),n.exports=t(21).Object.seal},function(n,e,t){var r=t(40);t(64)("seal",(function(n){return function(e){return n&&r(e)?n(e):e}}))},function(n,e){"use strict";e.__esModule=!0,e.wrapHelper=function(n,e){return"function"!=typeof n?n:function(){var t=arguments[arguments.length-1];return arguments[arguments.length-1]=e(t),n.apply(this,arguments)}}},function(n,e){"use strict";e.__esModule=!0,e.default=function(n){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",(function(){return this})),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var e=globalThis.Handlebars;n.noConflict=function(){return globalThis.Handlebars===n&&(globalThis.Handlebars=e),n}},n.exports=e.default},function(n,e){"use strict";e.__esModule=!0;var t={helpers:{helperExpression:function(n){return"SubExpression"===n.type||("MustacheStatement"===n.type||"BlockStatement"===n.type)&&!!(n.params&&n.params.length||n.hash)},scopedId:function(n){return/^\.|this\b/.test(n.original)},simpleId:function(n){return 1===n.parts.length&&!t.helpers.scopedId(n)&&!n.depth}}};e.default=t,n.exports=e.default},function(n,e,t){"use strict";var r=t(1).default,a=t(3).default;e.__esModule=!0,e.parseWithoutProcessing=parseWithoutProcessing,e.parse=function(n,e){var t=parseWithoutProcessing(n,e);return new i.default(e).accept(t)};var o=r(t(86)),i=r(t(87)),s=a(t(89)),l=t(5);e.parser=o.default;var c={};function parseWithoutProcessing(n,e){return"Program"===n.type?n:(o.default.yy=c,c.locInfo=function(n){return new c.SourceLocation(e&&e.srcName,n)},o.default.parse(n))}l.extend(c,s)},function(n,e){"use strict";e.__esModule=!0;var t=function(){var n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(n,e,t,r,a,o,i){var s=o.length-1;switch(a){case 1:return o[s-1];case 2:this.$=r.prepareProgram(o[s]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[s];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(o[s]),strip:r.stripFlags(o[s],o[s]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[s],value:o[s],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(o[s-2],o[s-1],o[s],this._$);break;case 12:this.$={path:o[s-3],params:o[s-2],hash:o[s-1]};break;case 13:this.$=r.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 14:this.$=r.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 15:this.$={open:o[s-5],path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:r.stripFlags(o[s-5],o[s])};break;case 16:case 17:this.$={path:o[s-4],params:o[s-3],hash:o[s-2],blockParams:o[s-1],strip:r.stripFlags(o[s-5],o[s])};break;case 18:this.$={strip:r.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 19:var l=r.prepareBlock(o[s-2],o[s-1],o[s],o[s],!1,this._$),c=r.prepareProgram([l],o[s-1].loc);c.chained=!0,this.$={strip:o[s-2].strip,program:c,chain:!0};break;case 20:this.$=o[s];break;case 21:this.$={path:o[s-1],strip:r.stripFlags(o[s-2],o[s])};break;case 22:case 23:this.$=r.prepareMustache(o[s-3],o[s-2],o[s-1],o[s-4],r.stripFlags(o[s-4],o[s]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[s-3],params:o[s-2],hash:o[s-1],indent:"",strip:r.stripFlags(o[s-4],o[s]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(o[s-2],o[s-1],o[s],this._$);break;case 26:this.$={path:o[s-3],params:o[s-2],hash:o[s-1],strip:r.stripFlags(o[s-4],o[s])};break;case 27:case 28:this.$=o[s];break;case 29:this.$={type:"SubExpression",path:o[s-3],params:o[s-2],hash:o[s-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[s],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(o[s-2]),value:o[s],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(o[s-1]);break;case 33:case 34:this.$=o[s];break;case 35:this.$={type:"StringLiteral",value:o[s],original:o[s],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[s]),original:Number(o[s]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[s],original:"true"===o[s],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:case 41:this.$=o[s];break;case 42:this.$=r.preparePath(!0,o[s],this._$);break;case 43:this.$=r.preparePath(!1,o[s],this._$);break;case 44:o[s-2].push({part:r.id(o[s]),original:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 45:this.$=[{part:r.id(o[s]),original:o[s]}];break;case 46:this.$=[];break;case 47:o[s-1].push(o[s]);break;case 48:this.$=[];break;case 49:o[s-1].push(o[s]);break;case 50:this.$=[];break;case 51:o[s-1].push(o[s]);break;case 58:this.$=[];break;case 59:o[s-1].push(o[s]);break;case 64:this.$=[];break;case 65:o[s-1].push(o[s]);break;case 70:this.$=[];break;case 71:o[s-1].push(o[s]);break;case 78:this.$=[];break;case 79:o[s-1].push(o[s]);break;case 82:this.$=[];break;case 83:o[s-1].push(o[s]);break;case 86:this.$=[];break;case 87:o[s-1].push(o[s]);break;case 90:this.$=[];break;case 91:o[s-1].push(o[s]);break;case 94:this.$=[];break;case 95:o[s-1].push(o[s]);break;case 98:this.$=[o[s]];break;case 99:o[s-1].push(o[s]);break;case 100:this.$=[o[s]];break;case 101:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(n,e){throw new Error(n)},parse:function(n){var e=this,t=[0],r=[null],a=[],o=this.table,i="",s=0,l=0,c=0;this.lexer.setInput(n),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;a.push(d);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,g,b,m,h,f,y,x,_,v,w={};;){if(b=t[t.length-1],this.defaultActions[b]?m=this.defaultActions[b]:(null==u&&(v=void 0,"number"!=typeof(v=e.lexer.lex()||1)&&(v=e.symbols_[v]||v),u=v),m=o[b]&&o[b][u]),void 0===m||!m.length||!m[0]){var M="";if(!c){for(f in _=[],o[b])this.terminals_[f]&&f>2&&_.push("'"+this.terminals_[f]+"'");M=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(M,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:d,expected:_})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+u);switch(m[0]){case 1:t.push(u),r.push(this.lexer.yytext),a.push(this.lexer.yylloc),t.push(m[1]),u=null,g?(u=g,g=null):(l=this.lexer.yyleng,i=this.lexer.yytext,s=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[m[1]][1],w.$=r[r.length-y],w._$={first_line:a[a.length-(y||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(y||1)].first_column,last_column:a[a.length-1].last_column},p&&(w._$.range=[a[a.length-(y||1)].range[0],a[a.length-1].range[1]]),void 0!==(h=this.performAction.call(w,i,l,s,this.yy,m[1],r,a)))return h;y&&(t=t.slice(0,-1*y*2),r=r.slice(0,-1*y),a=a.slice(0,-1*y)),t.push(this.productions_[m[1]][0]),r.push(w.$),a.push(w._$),x=o[t[t.length-2]][t[t.length-1]],t.push(x);break;case 3:return!0}}return!0}},e=function(){var n={EOF:1,parseError:function(n,e){if(!this.yy.parser)throw new Error(n);this.yy.parser.parseError(n,e)},setInput:function(n){return this._input=n,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var n=this._input[0];return this.yytext+=n,this.yyleng++,this.offset++,this.match+=n,this.matched+=n,n.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),n},unput:function(n){var e=n.length,t=n.split(/(?:\r\n?|\n)/g);this._input=n+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),t.length-1&&(this.yylineno-=t.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:t?(t.length===r.length?this.yylloc.first_column:0)+r[r.length-t.length].length-t[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var n=this.matched.substr(0,this.matched.length-this.match.length);return(n.length>20?"...":"")+n.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var n=this.match;return n.length<20&&(n+=this._input.substr(0,20-n.length)),(n.substr(0,20)+(n.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var n=this.pastInput(),e=new Array(n.length+1).join("-");return n+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var n,e,t,r,a;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),i=0;i<o.length&&(!(t=this._input.match(this.rules[o[i]]))||e&&!(t[0].length>e[0].length)||(e=t,r=i,this.options.flex));i++);return e?((a=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var n=this.next();return void 0!==n?n:this.lex()},begin:function(n){this.conditionStack.push(n)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(n){this.begin(n)},options:{},performAction:function(n,e,t,r){function strip(n,t){return e.yytext=e.yytext.substring(n,e.yyleng-t+n)}switch(t){case 0:if("\\\\"===e.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(strip(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return n}();function Parser(){this.yy={}}return n.lexer=e,Parser.prototype=n,n.Parser=Parser,new Parser}();e.default=t,n.exports=e.default},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0;var a=r(t(88));function WhitespaceControl(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=n}function isPrevWhitespace(n,e,t){void 0===e&&(e=n.length);var r=n[e-1],a=n[e-2];return r?"ContentStatement"===r.type?(a||!t?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:t}function isNextWhitespace(n,e,t){void 0===e&&(e=-1);var r=n[e+1],a=n[e+2];return r?"ContentStatement"===r.type?(a||!t?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:t}function omitRight(n,e,t){var r=n[null==e?0:e+1];if(r&&"ContentStatement"===r.type&&(t||!r.rightStripped)){var a=r.value;r.value=r.value.replace(t?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==a}}function omitLeft(n,e,t){var r=n[null==e?n.length-1:e-1];if(r&&"ContentStatement"===r.type&&(t||!r.leftStripped)){var a=r.value;return r.value=r.value.replace(t?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==a,r.leftStripped}}WhitespaceControl.prototype=new a.default,WhitespaceControl.prototype.Program=function(n){var e=!this.options.ignoreStandalone,t=!this.isRootSeen;this.isRootSeen=!0;for(var r=n.body,a=0,o=r.length;a<o;a++){var i=r[a],s=this.accept(i);if(s){var l=isPrevWhitespace(r,a,t),c=isNextWhitespace(r,a,t),d=s.openStandalone&&l,p=s.closeStandalone&&c,u=s.inlineStandalone&&l&&c;s.close&&omitRight(r,a,!0),s.open&&omitLeft(r,a,!0),e&&u&&(omitRight(r,a),omitLeft(r,a)&&"PartialStatement"===i.type&&(i.indent=/([ \t]+$)/.exec(r[a-1].original)[1])),e&&d&&(omitRight((i.program||i.inverse).body),omitLeft(r,a)),e&&p&&(omitRight(r,a),omitLeft((i.inverse||i.program).body))}}return n},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(n){this.accept(n.program),this.accept(n.inverse);var e=n.program||n.inverse,t=n.program&&n.inverse,r=t,a=t;if(t&&t.chained)for(r=t.body[0].program;a.chained;)a=a.body[a.body.length-1].program;var o={open:n.openStrip.open,close:n.closeStrip.close,openStandalone:isNextWhitespace(e.body),closeStandalone:isPrevWhitespace((r||e).body)};if(n.openStrip.close&&omitRight(e.body,null,!0),t){var i=n.inverseStrip;i.open&&omitLeft(e.body,null,!0),i.close&&omitRight(r.body,null,!0),n.closeStrip.open&&omitLeft(a.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(e.body)&&isNextWhitespace(r.body)&&(omitLeft(e.body),omitRight(r.body))}else n.closeStrip.open&&omitLeft(e.body,null,!0);return o},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(n){return n.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(n){var e=n.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=WhitespaceControl,n.exports=e.default},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0;var a=r(t(6));function Visitor(){this.parents=[]}function visitSubExpression(n){this.acceptRequired(n,"path"),this.acceptArray(n.params),this.acceptKey(n,"hash")}function visitBlock(n){visitSubExpression.call(this,n),this.acceptKey(n,"program"),this.acceptKey(n,"inverse")}function visitPartial(n){this.acceptRequired(n,"name"),this.acceptArray(n.params),this.acceptKey(n,"hash")}Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function(n,e){var t=this.accept(n[e]);if(this.mutating){if(t&&!Visitor.prototype[t.type])throw new a.default('Unexpected node type "'+t.type+'" found when accepting '+e+" on "+n.type);n[e]=t}},acceptRequired:function(n,e){if(this.acceptKey(n,e),!n[e])throw new a.default(n.type+" requires "+e)},acceptArray:function(n){for(var e=0,t=n.length;e<t;e++)this.acceptKey(n,e),n[e]||(n.splice(e,1),e--,t--)},accept:function(n){if(n){if(!this[n.type])throw new a.default("Unknown type: "+n.type,n);this.current&&this.parents.unshift(this.current),this.current=n;var e=this[n.type](n);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?n:void 0}},Program:function(n){this.acceptArray(n.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function(n){visitPartial.call(this,n),this.acceptKey(n,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:visitSubExpression,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(n){this.acceptArray(n.pairs)},HashPair:function(n){this.acceptRequired(n,"value")}},e.default=Visitor,n.exports=e.default},function(n,e,t){"use strict";var r=t(1).default;e.__esModule=!0,e.SourceLocation=function(n,e){this.source=n,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(n){return/^\[.*\]$/.test(n)?n.substring(1,n.length-1):n},e.stripFlags=function(n,e){return{open:"~"===n.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(n){return n.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(n,e,t){t=this.locInfo(t);for(var r=n?"@":"",o=[],i=0,s=0,l=e.length;s<l;s++){var c=e[s].part,d=e[s].original!==c;if(r+=(e[s].separator||"")+c,d||".."!==c&&"."!==c&&"this"!==c)o.push(c);else{if(o.length>0)throw new a.default("Invalid path: "+r,{loc:t});".."===c&&i++}}return{type:"PathExpression",data:n,depth:i,parts:o,original:r,loc:t}},e.prepareMustache=function(n,e,t,r,a,o){var i=r.charAt(3)||r.charAt(2),s="{"!==i&&"&"!==i;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:n,params:e,hash:t,escaped:s,strip:a,loc:this.locInfo(o)}},e.prepareRawBlock=function(n,e,t,r){validateClose(n,t),r=this.locInfo(r);var a={type:"Program",body:e,strip:{},loc:r};return{type:"BlockStatement",path:n.path,params:n.params,hash:n.hash,program:a,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},e.prepareBlock=function(n,e,t,r,o,i){r&&r.path&&validateClose(n,r);var s=/\*/.test(n.open);e.blockParams=n.blockParams;var l=void 0,c=void 0;if(t){if(s)throw new a.default("Unexpected inverse block on decorator",t);t.chain&&(t.program.body[0].closeStrip=r.strip),c=t.strip,l=t.program}return o&&(o=l,l=e,e=o),{type:s?"DecoratorBlock":"BlockStatement",path:n.path,params:n.params,hash:n.hash,program:e,inverse:l,openStrip:n.strip,inverseStrip:c,closeStrip:r&&r.strip,loc:this.locInfo(i)}},e.prepareProgram=function(n,e){if(!e&&n.length){var t=n[0].loc,r=n[n.length-1].loc;t&&r&&(e={source:t.source,start:{line:t.start.line,column:t.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:n,strip:{},loc:e}},e.preparePartialBlock=function(n,e,t,r){return validateClose(n,t),{type:"PartialBlockStatement",name:n.path,params:n.params,hash:n.hash,program:e,openStrip:n.strip,closeStrip:t&&t.strip,loc:this.locInfo(r)}};var a=r(t(6));function validateClose(n,e){if(e=e.path?e.path.original:e,n.path.original!==e){var t={loc:n.path.loc};throw new a.default(n.path.original+" doesn't match "+e,t)}}},function(n,e,t){"use strict";var r=t(74).default,a=t(1).default;e.__esModule=!0,e.Compiler=Compiler,e.precompile=function(n,e,t){if(null==n||"string"!=typeof n&&"Program"!==n.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+n);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var r=t.parse(n,e),a=(new t.Compiler).compile(r,e);return(new t.JavaScriptCompiler).compile(a,e)},e.compile=function(n,e,t){if(void 0===e&&(e={}),null==n||"string"!=typeof n&&"Program"!==n.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);"data"in(e=i.extend({},e))||(e.data=!0),e.compat&&(e.useDepths=!0);var r=void 0;function compileInput(){var r=t.parse(n,e),a=(new t.Compiler).compile(r,e),o=(new t.JavaScriptCompiler).compile(a,e,void 0,!0);return t.template(o)}function ret(n,e){return r||(r=compileInput()),r.call(this,n,e)}return ret._setup=function(n){return r||(r=compileInput()),r._setup(n)},ret._child=function(n,e,t,a){return r||(r=compileInput()),r._child(n,e,t,a)},ret};var o=a(t(6)),i=t(5),s=a(t(84)),l=[].slice;function Compiler(){}function argEquals(n,e){if(n===e)return!0;if(i.isArray(n)&&i.isArray(e)&&n.length===e.length){for(var t=0;t<n.length;t++)if(!argEquals(n[t],e[t]))return!1;return!0}}function transformLiteralToPath(n){if(!n.path.parts){var e=n.path;n.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}Compiler.prototype={compiler:Compiler,equals:function(n){var e=this.opcodes.length;if(n.opcodes.length!==e)return!1;for(var t=0;t<e;t++){var r=this.opcodes[t],a=n.opcodes[t];if(r.opcode!==a.opcode||!argEquals(r.args,a.args))return!1}for(e=this.children.length,t=0;t<e;t++)if(!this.children[t].equals(n.children[t]))return!1;return!0},guid:0,compile:function(n,e){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[],e.knownHelpers=i.extend(r(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},e.knownHelpers),this.accept(n)},compileProgram:function(n){var e=(new this.compiler).compile(n,this.options),t=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[t]=e,this.useDepths=this.useDepths||e.useDepths,t},accept:function(n){if(!this[n.type])throw new o.default("Unknown type: "+n.type,n);this.sourceNode.unshift(n);var e=this[n.type](n);return this.sourceNode.shift(),e},Program:function(n){this.options.blockParams.unshift(n.blockParams);for(var e=n.body,t=e.length,r=0;r<t;r++)this.accept(e[r]);return this.options.blockParams.shift(),this.isSimple=1===t,this.blockParams=n.blockParams?n.blockParams.length:0,this},BlockStatement:function(n){transformLiteralToPath(n);var e=n.program,t=n.inverse;e=e&&this.compileProgram(e),t=t&&this.compileProgram(t);var r=this.classifySexpr(n);"helper"===r?this.helperSexpr(n,e,t):"simple"===r?(this.simpleSexpr(n),this.opcode("pushProgram",e),this.opcode("pushProgram",t),this.opcode("emptyHash"),this.opcode("blockValue",n.path.original)):(this.ambiguousSexpr(n,e,t),this.opcode("pushProgram",e),this.opcode("pushProgram",t),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(n){var e=n.program&&this.compileProgram(n.program),t=this.setupFullMustacheParams(n,e,void 0),r=n.path;this.useDecorators=!0,this.opcode("registerDecorator",t.length,r.original)},PartialStatement:function(n){this.usePartial=!0;var e=n.program;e&&(e=this.compileProgram(n.program));var t=n.params;if(t.length>1)throw new o.default("Unsupported number of partial arguments: "+t.length,n);t.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):t.push({type:"PathExpression",parts:[],depth:0}));var r=n.name.original,a="SubExpression"===n.name.type;a&&this.accept(n.name),this.setupFullMustacheParams(n,e,void 0,!0);var i=n.indent||"";this.options.preventIndent&&i&&(this.opcode("appendContent",i),i=""),this.opcode("invokePartial",a,r,i),this.opcode("append")},PartialBlockStatement:function(n){this.PartialStatement(n)},MustacheStatement:function(n){this.SubExpression(n),n.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(n){this.DecoratorBlock(n)},ContentStatement:function(n){n.value&&this.opcode("appendContent",n.value)},CommentStatement:function(){},SubExpression:function(n){transformLiteralToPath(n);var e=this.classifySexpr(n);"simple"===e?this.simpleSexpr(n):"helper"===e?this.helperSexpr(n):this.ambiguousSexpr(n)},ambiguousSexpr:function(n,e,t){var r=n.path,a=r.parts[0],o=null!=e||null!=t;this.opcode("getContext",r.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",t),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",a,o)},simpleSexpr:function(n){var e=n.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(n,e,t){var r=this.setupFullMustacheParams(n,e,t),a=n.path,i=a.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",r.length,i);else{if(this.options.knownHelpersOnly)throw new o.default("You specified knownHelpersOnly, but used the unknown helper "+i,n);a.strict=!0,a.falsy=!0,this.accept(a),this.opcode("invokeHelper",r.length,a.original,s.default.helpers.simpleId(a))}},PathExpression:function(n){this.addDepth(n.depth),this.opcode("getContext",n.depth);var e=n.parts[0],t=s.default.helpers.scopedId(n),r=!n.depth&&!t&&this.blockParamIndex(e);r?this.opcode("lookupBlockParam",r,n.parts):e?n.data?(this.options.data=!0,this.opcode("lookupData",n.depth,n.parts,n.strict)):this.opcode("lookupOnContext",n.parts,n.falsy,n.strict,t):this.opcode("pushContext")},StringLiteral:function(n){this.opcode("pushString",n.value)},NumberLiteral:function(n){this.opcode("pushLiteral",n.value)},BooleanLiteral:function(n){this.opcode("pushLiteral",n.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(n){var e=n.pairs,t=0,r=e.length;for(this.opcode("pushHash");t<r;t++)this.pushParam(e[t].value);for(;t--;)this.opcode("assignToHash",e[t].key);this.opcode("popHash")},opcode:function(n){this.opcodes.push({opcode:n,args:l.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(n){n&&(this.useDepths=!0)},classifySexpr:function(n){var e=s.default.helpers.simpleId(n.path),t=e&&!!this.blockParamIndex(n.path.parts[0]),r=!t&&s.default.helpers.helperExpression(n),a=!t&&(r||e);if(a&&!r){var o=n.path.parts[0],i=this.options;i.knownHelpers[o]?r=!0:i.knownHelpersOnly&&(a=!1)}return r?"helper":a?"ambiguous":"simple"},pushParams:function(n){for(var e=0,t=n.length;e<t;e++)this.pushParam(n[e])},pushParam:function(n){var e=null!=n.value?n.value:n.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",e,n.type),"SubExpression"===n.type&&this.accept(n);else{if(this.trackIds){var t=void 0;if(!n.parts||s.default.helpers.scopedId(n)||n.depth||(t=this.blockParamIndex(n.parts[0])),t){var r=n.parts.slice(1).join(".");this.opcode("pushId","BlockParam",t,r)}else(e=n.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",n.type,e)}this.accept(n)}},setupFullMustacheParams:function(n,e,t,r){var a=n.params;return this.pushParams(a),this.opcode("pushProgram",e),this.opcode("pushProgram",t),n.hash?this.accept(n.hash):this.opcode("emptyHash",r),a},blockParamIndex:function(n){for(var e=0,t=this.options.blockParams.length;e<t;e++){var r=this.options.blockParams[e],a=r&&i.indexOf(r,n);if(r&&a>=0)return[e,a]}}}},function(n,e,t){"use strict";var r=t(60).default,a=t(1).default;e.__esModule=!0;var o=t(4),i=a(t(6)),s=t(5),l=a(t(92));function Literal(n){this.value=n}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function(n,e){return this.internalNameLookup(n,e)},depthedLookup:function(n){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(n),")"]},compilerInfo:function(){var n=o.COMPILER_REVISION;return[n,o.REVISION_CHANGES[n]]},appendToBuffer:function(n,e,t){return s.isArray(n)||(n=[n]),n=this.source.wrap(n,e),this.environment.isSimple?["return ",n,";"]:t?["buffer += ",n,";"]:(n.appendToBuffer=!0,n)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(n,e){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",n,",",JSON.stringify(e),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(n,e,t,r){this.environment=n,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!t,this.context=t||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(n,e),this.useDepths=this.useDepths||n.useDepths||n.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||n.useBlockParams;var a=n.opcodes,o=void 0,s=void 0,l=void 0,c=void 0;for(l=0,c=a.length;l<c;l++)o=a[l],this.source.currentLocation=o.loc,s=s||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var d=this.createFunctionContext(r);if(this.isChild)return d;var p={compiler:this.compilerInfo(),main:d};this.decorators&&(p.main_d=this.decorators,p.useDecorators=!0);var u=this.context,g=u.programs,b=u.decorators;for(l=0,c=g.length;l<c;l++)g[l]&&(p[l]=g[l],b[l]&&(p[l+"_d"]=b[l],p.useDecorators=!0));return this.environment.usePartial&&(p.usePartial=!0),this.options.data&&(p.useData=!0),this.useDepths&&(p.useDepths=!0),this.useBlockParams&&(p.useBlockParams=!0),this.options.compat&&(p.compat=!0),r?p.compilerOptions=this.options:(p.compiler=JSON.stringify(p.compiler),this.source.currentLocation={start:{line:1,column:0}},p=this.objectLiteral(p),e.srcName?(p=p.toStringWithSourceMap({file:e.destName})).map=p.map&&p.map.toString():p=p.toString()),p},preamble:function(){this.lastContext=0,this.source=new l.default(this.options.srcName),this.decorators=new l.default(this.options.srcName)},createFunctionContext:function(n){var e=this,t="",a=this.stackVars.concat(this.registers.list);a.length>0&&(t+=", "+a.join(", "));var o=0;r(this.aliases).forEach((function(n){var r=e.aliases[n];r.children&&r.referenceCount>1&&(t+=", alias"+ ++o+"="+n,r.children[0]="alias"+o)})),this.lookupPropertyFunctionIsUsed&&(t+=", "+this.lookupPropertyFunctionVarDeclaration());var i=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths");var s=this.mergeSource(t);return n?(i.push(s),Function.apply(this,i)):this.source.wrap(["function(",i.join(","),") {\n  ",s,"}"])},mergeSource:function(n){var e=this.environment.isSimple,t=!this.forceBuffer,r=void 0,a=void 0,o=void 0,i=void 0;return this.source.each((function(n){n.appendToBuffer?(o?n.prepend("  + "):o=n,i=n):(o&&(a?o.prepend("buffer += "):r=!0,i.add(";"),o=i=void 0),a=!0,e||(t=!1))})),t?o?(o.prepend("return "),i.add(";")):a||this.source.push('return "";'):(n+=", buffer = "+(r?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),i.add(";")):this.source.push("return buffer;")),n&&this.source.prepend("var "+n.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(n){var e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs(n,0,t);var r=this.popStack();t.splice(1,0,r),this.push(this.source.functionCall(e,"call",t))},ambiguousBlockValue:function(){var n=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var t=this.topStack();e.splice(1,0,t),this.pushSource(["if (!",this.lastHelper,") { ",t," = ",this.source.functionCall(n,"call",e),"}"])},appendContent:function(n){this.pendingContent?n=this.pendingContent+n:this.pendingLocation=this.source.currentLocation,this.pendingContent=n},append:function(){if(this.isInline())this.replaceStack((function(n){return[" != null ? ",n,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var n=this.popStack();this.pushSource(["if (",n," != null) { ",this.appendToBuffer(n,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(n){this.lastContext=n},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(n,e,t,r){var a=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(n[a++])),this.resolvePath("context",n,a,e,t)},lookupBlockParam:function(n,e){this.useBlockParams=!0,this.push(["blockParams[",n[0],"][",n[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(n,e,t){n?this.pushStackLiteral("container.data(data, "+n+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,t)},resolvePath:function(n,e,t,r,a){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(n,e,t,r,a){var o=e.popStack(),i=t.length;for(n&&i--;r<i;r++)o=e.nameLookup(o,t[r],a);return n?[e.aliasable("container.strict"),"(",o,", ",e.quotedString(t[r]),", ",JSON.stringify(e.source.currentLocation)," )"]:o}(this.options.strict&&a,this,e,t,n));else for(var i=e.length;t<i;t++)this.replaceStack((function(a){var i=o.nameLookup(a,e[t],n);return r?[" && ",i]:[" != null ? ",i," : ",a]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(n,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof n?this.pushString(n):this.pushStackLiteral(n))},emptyHash:function(n){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(n?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var n=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(n.ids)),this.stringParams&&(this.push(this.objectLiteral(n.contexts)),this.push(this.objectLiteral(n.types))),this.push(this.objectLiteral(n.values))},pushString:function(n){this.pushStackLiteral(this.quotedString(n))},pushLiteral:function(n){this.pushStackLiteral(n)},pushProgram:function(n){null!=n?this.pushStackLiteral(this.programExpression(n)):this.pushStackLiteral(null)},registerDecorator:function(n,e){var t=this.nameLookup("decorators",e,"decorator"),r=this.setupHelperArgs(e,n);this.decorators.push(["fn = ",this.decorators.functionCall(t,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(n,e,t){var r=this.popStack(),a=this.setupHelper(n,e),o=[];t&&o.push(a.name),o.push(r),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var i=["(",this.itemsSeparatedBy(o,"||"),")"],s=this.source.functionCall(i,"call",a.callParams);this.push(s)},itemsSeparatedBy:function(n,e){var t=[];t.push(n[0]);for(var r=1;r<n.length;r++)t.push(e,n[r]);return t},invokeKnownHelper:function(n,e){var t=this.setupHelper(n,e);this.push(this.source.functionCall(t.name,"call",t.callParams))},invokeAmbiguous:function(n,e){this.useRegister("helper");var t=this.popStack();this.emptyHash();var r=this.setupHelper(0,n,e),a=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",n,"helper")," || ",t,")"];this.options.strict||(a[0]="(helper = ",a.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",a,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(n,e,t){var r=[],a=this.setupParams(e,1,r);n&&(e=this.popStack(),delete a.name),t&&(a.indent=JSON.stringify(t)),a.helpers="helpers",a.partials="partials",a.decorators="container.decorators",n?r.unshift(e):r.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(a.depths="depths"),a=this.objectLiteral(a),r.push(a),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(n){var e=this.popStack(),t=void 0,r=void 0,a=void 0;this.trackIds&&(a=this.popStack()),this.stringParams&&(r=this.popStack(),t=this.popStack());var o=this.hash;t&&(o.contexts[n]=t),r&&(o.types[n]=r),a&&(o.ids[n]=a),o.values[n]=e},pushId:function(n,e,t){"BlockParam"===n?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(t?" + "+JSON.stringify("."+t):"")):"PathExpression"===n?this.pushString(e):"SubExpression"===n?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function(n,e){for(var t=n.children,r=void 0,a=void 0,o=0,i=t.length;o<i;o++){r=t[o],a=new this.compiler;var s=this.matchExistingProgram(r);if(null==s){this.context.programs.push("");var l=this.context.programs.length;r.index=l,r.name="program"+l,this.context.programs[l]=a.compile(r,e,this.context,!this.precompile),this.context.decorators[l]=a.decorators,this.context.environments[l]=r,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=s.index,r.name="program"+s.index,this.useDepths=this.useDepths||s.useDepths,this.useBlockParams=this.useBlockParams||s.useBlockParams}},matchExistingProgram:function(n){for(var e=0,t=this.context.environments.length;e<t;e++){var r=this.context.environments[e];if(r&&r.equals(n))return r}},programExpression:function(n){var e=this.environment.children[n],t=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&t.push("blockParams"),this.useDepths&&t.push("depths"),"container.program("+t.join(", ")+")"},useRegister:function(n){this.registers[n]||(this.registers[n]=!0,this.registers.list.push(n))},push:function(n){return n instanceof Literal||(n=this.source.wrap(n)),this.inlineStack.push(n),n},pushStackLiteral:function(n){this.push(new Literal(n))},pushSource:function(n){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),n&&this.source.push(n)},replaceStack:function(n){var e=["("],t=void 0,r=void 0,a=void 0;if(!this.isInline())throw new i.default("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof Literal)e=["(",t=[o.value]],a=!0;else{r=!0;var s=this.incrStack();e=["((",this.push(s)," = ",o,")"],t=this.topStack()}var l=n.call(this,t);a||this.popStack(),r&&this.stackSlot--,this.push(e.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var n=this.inlineStack;this.inlineStack=[];for(var e=0,t=n.length;e<t;e++){var r=n[e];if(r instanceof Literal)this.compileStack.push(r);else{var a=this.incrStack();this.pushSource([a," = ",r,";"]),this.compileStack.push(a)}}},isInline:function(){return this.inlineStack.length},popStack:function(n){var e=this.isInline(),t=(e?this.inlineStack:this.compileStack).pop();if(!n&&t instanceof Literal)return t.value;if(!e){if(!this.stackSlot)throw new i.default("Invalid stack pop");this.stackSlot--}return t},topStack:function(){var n=this.isInline()?this.inlineStack:this.compileStack,e=n[n.length-1];return e instanceof Literal?e.value:e},contextName:function(n){return this.useDepths&&n?"depths["+n+"]":"depth"+n},quotedString:function(n){return this.source.quotedString(n)},objectLiteral:function(n){return this.source.objectLiteral(n)},aliasable:function(n){var e=this.aliases[n];return e?(e.referenceCount++,e):((e=this.aliases[n]=this.source.wrap(n)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(n,e,t){var r=[];return{params:r,paramsInit:this.setupHelperArgs(e,n,r,t),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(n,e,t){var r={},a=[],o=[],i=[],s=!t,l=void 0;s&&(t=[]),r.name=this.quotedString(n),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var c=this.popStack(),d=this.popStack();(d||c)&&(r.fn=d||"container.noop",r.inverse=c||"container.noop");for(var p=e;p--;)l=this.popStack(),t[p]=l,this.trackIds&&(i[p]=this.popStack()),this.stringParams&&(o[p]=this.popStack(),a[p]=this.popStack());return s&&(r.args=this.source.generateArray(t)),this.trackIds&&(r.ids=this.source.generateArray(i)),this.stringParams&&(r.types=this.source.generateArray(o),r.contexts=this.source.generateArray(a)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(n,e,t,r){var a=this.setupParams(n,e,t);return a.loc=JSON.stringify(this.source.currentLocation),a=this.objectLiteral(a),r?(this.useRegister("options"),t.push("options"),["options=",a]):t?(t.push(a),""):a}},function(){for(var n="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=JavaScriptCompiler.RESERVED_WORDS={},t=0,r=n.length;t<r;t++)e[n[t]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(n){return!JavaScriptCompiler.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)},e.default=JavaScriptCompiler,n.exports=e.default},function(n,e,t){"use strict";var r=t(60).default;e.__esModule=!0;var a=t(5),o=void 0;function castChunk(n,e,t){if(a.isArray(n)){for(var r=[],o=0,i=n.length;o<i;o++)r.push(e.wrap(n[o],t));return r}return"boolean"==typeof n||"number"==typeof n?n+"":n}function CodeGen(n){this.srcFile=n,this.source=[]}o||((o=function(n,e,t,r){this.src="",r&&this.add(r)}).prototype={add:function(n){a.isArray(n)&&(n=n.join("")),this.src+=n},prepend:function(n){a.isArray(n)&&(n=n.join("")),this.src=n+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),CodeGen.prototype={isEmpty:function(){return!this.source.length},prepend:function(n,e){this.source.unshift(this.wrap(n,e))},push:function(n,e){this.source.push(this.wrap(n,e))},merge:function(){var n=this.empty();return this.each((function(e){n.add(["  ",e,"\n"])})),n},each:function(n){for(var e=0,t=this.source.length;e<t;e++)n(this.source[e])},empty:function(){var n=this.currentLocation||{start:{}};return new o(n.start.line,n.start.column,this.srcFile)},wrap:function(n){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return n instanceof o?n:(n=castChunk(n,this,e),new o(e.start.line,e.start.column,this.srcFile,n))},functionCall:function(n,e,t){return t=this.generateList(t),this.wrap([n,e?"."+e+"(":"(",t,")"])},quotedString:function(n){return'"'+(n+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(n){var e=this,t=[];r(n).forEach((function(r){var a=castChunk(n[r],e);"undefined"!==a&&t.push([e.quotedString(r),":",a])}));var a=this.generateList(t);return a.prepend("{"),a.add("}"),a},generateList:function(n){for(var e=this.empty(),t=0,r=n.length;t<r;t++)t&&e.add(","),e.add(castChunk(n[t],this));return e},generateArray:function(n){var e=this.generateList(n);return e.prepend("["),e.add("]"),e}},e.default=CodeGen,n.exports=e.default}])},n.exports=e()},595:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});const src_finally=function(n){var e=this.constructor;return this.then((function(t){return e.resolve(n()).then((function(){return t}))}),(function(t){return e.resolve(n()).then((function(){return e.reject(t)}))}))};var r=setTimeout;function isArray(n){return Boolean(n&&void 0!==n.length)}function noop(){}function Promise(n){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(n,this)}function handle(n,e){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,Promise._immediateFn((function(){var t=1===n._state?e.onFulfilled:e.onRejected;if(null!==t){var r;try{r=t(n._value)}catch(n){return void reject(e.promise,n)}resolve(e.promise,r)}else(1===n._state?resolve:reject)(e.promise,n._value)}))):n._deferreds.push(e)}function resolve(n,e){try{if(e===n)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if(e instanceof Promise)return n._state=3,n._value=e,void finale(n);if("function"==typeof t)return void doResolve((r=t,a=e,function(){r.apply(a,arguments)}),n)}n._state=1,n._value=e,finale(n)}catch(e){reject(n,e)}var r,a}function reject(n,e){n._state=2,n._value=e,finale(n)}function finale(n){2===n._state&&0===n._deferreds.length&&Promise._immediateFn((function(){n._handled||Promise._unhandledRejectionFn(n._value)}));for(var e=0,t=n._deferreds.length;e<t;e++)handle(n,n._deferreds[e]);n._deferreds=null}function Handler(n,e,t){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof e?e:null,this.promise=t}function doResolve(n,e){var t=!1;try{n((function(n){t||(t=!0,resolve(e,n))}),(function(n){t||(t=!0,reject(e,n))}))}catch(n){if(t)return;t=!0,reject(e,n)}}Promise.prototype.catch=function(n){return this.then(null,n)},Promise.prototype.then=function(n,e){var t=new this.constructor(noop);return handle(this,new Handler(n,e,t)),t},Promise.prototype.finally=src_finally,Promise.all=function(n){return new Promise((function(e,t){if(!isArray(n))return t(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(n);if(0===r.length)return e([]);var a=r.length;function res(n,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var i=o.then;if("function"==typeof i)return void i.call(o,(function(e){res(n,e)}),t)}r[n]=o,0==--a&&e(r)}catch(n){t(n)}}for(var o=0;o<r.length;o++)res(o,r[o])}))},Promise.resolve=function(n){return n&&"object"==typeof n&&n.constructor===Promise?n:new Promise((function(e){e(n)}))},Promise.reject=function(n){return new Promise((function(e,t){t(n)}))},Promise.race=function(n){return new Promise((function(e,t){if(!isArray(n))return t(new TypeError("Promise.race accepts an array"));for(var r=0,a=n.length;r<a;r++)Promise.resolve(n[r]).then(e,t)}))},Promise._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){r(n,0)},Promise._unhandledRejectionFn=function(n){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};const a=Promise},147:(n,e,t)=>{"use strict";var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(n){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(n){return n&&a.indexOf(Object.prototype.toString.call(n))>-1};function normalizeName(n){if("string"!=typeof n&&(n=String(n)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(n))throw new TypeError("Invalid character in header field name");return n.toLowerCase()}function normalizeValue(n){return"string"!=typeof n&&(n=String(n)),n}function iteratorFor(n){var e={next:function(){var e=n.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function Headers(n){this.map={},n instanceof Headers?n.forEach((function(n,e){this.append(e,n)}),this):Array.isArray(n)?n.forEach((function(n){this.append(n[0],n[1])}),this):n&&Object.getOwnPropertyNames(n).forEach((function(e){this.append(e,n[e])}),this)}function consumed(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function fileReaderReady(n){return new Promise((function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}}))}function readBlobAsArrayBuffer(n){var e=new FileReader,t=fileReaderReady(e);return e.readAsArrayBuffer(n),t}function bufferClone(n){if(n.slice)return n.slice(0);var e=new Uint8Array(n.byteLength);return e.set(new Uint8Array(n)),e.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(n){var e;this._bodyInit=n,n?"string"==typeof n?this._bodyText=n:r.blob&&Blob.prototype.isPrototypeOf(n)?this._bodyBlob=n:r.formData&&FormData.prototype.isPrototypeOf(n)?this._bodyFormData=n:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)?this._bodyText=n.toString():r.arrayBuffer&&r.blob&&((e=n)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=bufferClone(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||o(n))?this._bodyArrayBuffer=bufferClone(n):this._bodyText=n=Object.prototype.toString.call(n):this._bodyText="",this.headers.get("content-type")||("string"==typeof n?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var n=consumed(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var n,e,t,r=consumed(this);if(r)return r;if(this._bodyBlob)return n=this._bodyBlob,e=new FileReader,t=fileReaderReady(e),e.readAsText(n),t;if(this._bodyArrayBuffer)return Promise.resolve(function(n){for(var e=new Uint8Array(n),t=new Array(e.length),r=0;r<e.length;r++)t[r]=String.fromCharCode(e[r]);return t.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(n,e){n=normalizeName(n),e=normalizeValue(e);var t=this.map[n];this.map[n]=t?t+", "+e:e},Headers.prototype.delete=function(n){delete this.map[normalizeName(n)]},Headers.prototype.get=function(n){return n=normalizeName(n),this.has(n)?this.map[n]:null},Headers.prototype.has=function(n){return this.map.hasOwnProperty(normalizeName(n))},Headers.prototype.set=function(n,e){this.map[normalizeName(n)]=normalizeValue(e)},Headers.prototype.forEach=function(n,e){for(var t in this.map)this.map.hasOwnProperty(t)&&n.call(e,this.map[t],t,this)},Headers.prototype.keys=function(){var n=[];return this.forEach((function(e,t){n.push(t)})),iteratorFor(n)},Headers.prototype.values=function(){var n=[];return this.forEach((function(e){n.push(e)})),iteratorFor(n)},Headers.prototype.entries=function(){var n=[];return this.forEach((function(e,t){n.push([t,e])})),iteratorFor(n)},r.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(n,e){var t,r,a=(e=e||{}).body;if(n instanceof Request){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url,this.credentials=n.credentials,e.headers||(this.headers=new Headers(n.headers)),this.method=n.method,this.mode=n.mode,this.signal=n.signal,a||null==n._bodyInit||(a=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new Headers(e.headers)),this.method=(t=e.method||this.method||"GET",r=t.toUpperCase(),i.indexOf(r)>-1?r:t),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function decode(n){var e=new FormData;return n.trim().split("&").forEach((function(n){if(n){var t=n.split("="),r=t.shift().replace(/\+/g," "),a=t.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(a))}})),e}function Response(n,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new Headers(e.headers),this.url=e.url||"",this._initBody(n)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var n=new Response(null,{status:0,statusText:""});return n.type="error",n};var s=[301,302,303,307,308];Response.redirect=function(n,e){if(-1===s.indexOf(e))throw new RangeError("Invalid status code");return new Response(null,{status:e,headers:{location:n}})};var l=self.DOMException;try{new l}catch(n){(l=function(n,e){this.message=n,this.name=e;var t=Error(n);this.stack=t.stack}).prototype=Object.create(Error.prototype),l.prototype.constructor=l}function fetch(n,e){return new Promise((function(t,a){var o=new Request(n,e);if(o.signal&&o.signal.aborted)return a(new l("Aborted","AbortError"));var i=new XMLHttpRequest;function abortXhr(){i.abort()}i.onload=function(){var n,e,r={status:i.status,statusText:i.statusText,headers:(n=i.getAllResponseHeaders()||"",e=new Headers,n.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(n){var t=n.split(":"),r=t.shift().trim();if(r){var a=t.join(":").trim();e.append(r,a)}})),e)};r.url="responseURL"in i?i.responseURL:r.headers.get("X-Request-URL");var a="response"in i?i.response:i.responseText;t(new Response(a,r))},i.onerror=function(){a(new TypeError("Network request failed"))},i.ontimeout=function(){a(new TypeError("Network request failed"))},i.onabort=function(){a(new l("Aborted","AbortError"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&r.blob&&(i.responseType="blob"),o.headers.forEach((function(n,e){i.setRequestHeader(e,n)})),o.signal&&(o.signal.addEventListener("abort",abortXhr),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",abortXhr)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}fetch.polyfill=!0,self.fetch||(self.fetch=fetch,self.Headers=Headers,self.Request=Request,self.Response=Response)},177:(n,e,t)=>{"use strict";t.d(e,{Z:()=>murmur});const r=new Uint32Array([3432918353,461845907]);function rotl(n,e){return n<<e|n>>>32-e}function finalize(n,e){var t;e[0]=e[0]^n.byteLength,e[0]=(t=e[0],t^=t>>>16,t=Math.imul(t,2246822507),t^=t>>>13,t=Math.imul(t,3266489909),(t^=t>>>16)>>>0)}function murmur(n,e){if(e=e?0|e:0,"string"==typeof n&&(n=function(n){const e=[],t=n.length;for(let r=0;r<t;r++){let a=n.charCodeAt(r);if(a>=55296&&a<=56319&&t>r+1){const e=n.charCodeAt(r+1);e>=56320&&e<=57343&&(a=1024*(a-55296)+e-56320+65536,r+=1)}a<128?e.push(a):a<2048?(e.push(a>>6|192),e.push(63&a|128)):a<55296||a>=57344&&a<65536?(e.push(a>>12|224),e.push(a>>6&63|128),e.push(63&a|128)):a>=65536&&a<=1114111?(e.push(a>>18|240),e.push(a>>12&63|128),e.push(a>>6&63|128),e.push(63&a|128)):e.push(239,191,189)}return new Uint8Array(e).buffer}(n)),!(n instanceof ArrayBuffer))throw new TypeError("Expected key to be ArrayBuffer or string");const t=new Uint32Array([e]);return function(n,e){const t=n.byteLength/4|0,a=new Uint32Array(n,0,t);for(let n=0;n<t;n++)a[n]=Math.imul(a[n],r[0]),a[n]=rotl(a[n],15),a[n]=Math.imul(a[n],r[1]),e[0]=e[0]^a[n],e[0]=rotl(e[0],13),e[0]=Math.imul(e[0],5)+3864292196}(n,t),function(n,e){const t=n.byteLength/4|0,a=n.byteLength%4;let o=0;const i=new Uint8Array(n,4*t,a);switch(a){case 3:o^=i[2]<<16;case 2:o^=i[1]<<8;case 1:o^=i[0]<<0,o=rotl(o=Math.imul(o,r[0]),15),o=Math.imul(o,r[1]),e[0]=e[0]^o}}(n,t),finalize(n,t),t.buffer}}},__webpack_module_cache__={};function __webpack_require__(n){var e=__webpack_module_cache__[n];if(void 0!==e)return e.exports;var t=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n].call(t.exports,t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(n,e)=>{for(var t in e)__webpack_require__.o(e,t)&&!__webpack_require__.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},__webpack_require__.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var __webpack_exports__={};(()=>{"use strict";var promise_polyfill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(595),murmur_32__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(177),whatwg_fetch__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(147),Handlebars=__webpack_require__(675);function BoxeverWebLib(){var API_PATH="https://api.boxever.com";if(_boxever_settings&&_boxever_settings.target){var apiTarget=_boxever_settings.target.split("/v")[0];-1!==apiTarget.indexOf("http")&&-1!==apiTarget.indexOf("api")&&(API_PATH=apiTarget)}var Boxever=window.Boxever||{};if(Boxever.webFlowDebug={flows:{production:[],sandbox:[],config:{}}},Boxever.pointOfSale=_boxever_settings.pointOfSale||"unknown",Boxever.channel=_boxever_settings.channel||"WEB",Boxever.params=_boxever_settings.params||{},Boxever.runJS=function(n){return new Function("(function () { "+n+"\n})()")()},Boxever.loadLatestWebVersion=function(n){getCurrentVersionNumber().then((function(e){e.json().then((function(e){if(e&&e.libVersion){if(e.libVersion>Boxever.currentWebLibVersion){document.getElementsByTagName("head")[0].removeChild(document.getElementById("boxever-web-flows-version"));var t=_boxever_settings.web_flow_target+"/web-flow-libs/"+_boxever_settings.client_key+"/"+e.libVersion+"/lib.min.js",r=document.createElement("script");r.type="application/javascript",r.id="boxever-web-flows-version",r.src=t,r.async=scriptAsync,r.defer=scriptDefer,document.head.appendChild(r)}Boxever.currentWebLibVersion=e.libVersion,n&&"function"==typeof n&&n()}}))}))},Boxever.browser_id&&Boxever.client_key){try{var allFlows=[{ref:"f20133fb-6a88-469d-9c68-085140defae9",name:"BOX - 479 Dubai stopover SRP V1",revision:34,archived:!1,target:{script:'// let inclusions = [\n//     \'/ IBE / Search Results / Select a Price\',\n//     \'/ IBE / Confirmation / Purchase Confirmation\'\n// ];\n\nlet eligibleCountries = [\'AU\', \'NZ\'];\n  \nlet pageName = dataLayer[0].pageName;\nlet countryCode = dataLayer[0].countryCode;\n\nfunction pagePassed() {\n    for (let i=0; i<inclusions.length; i++) {\n        if (pageName === inclusions[i]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction countriesPassed() {\n    for (let i=0; i<eligibleCountries.length; i++) {\n        if (countryCode === eligibleCountries[i]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction isEnglish() {\n    return dataLayer[0].languageCode.substr(0,2) === "EN";\n}\n\n// Cookie Functions\n// Function to get cookie\nfunction getCookie(name) {\n    const value = "; " + document.cookie;\n    const parts = value.split("; " + name + "=");\n    if (parts.length === 2) \n      return parts.pop().split(";").shift();\n}\n\n// Function to set a cookie with an expiry and domain scope\nfunction setCookie(name, value, time=1) {\n    const date = new Date();\n    date.setTime(date.getTime() + time); // Set expiry time in milliseconds\n    const expires = "expires=" + date.toUTCString();\n    const domain = "domain=" + window.location.hostname.split(\'.\').slice(-2).join(\'.\') + ";";\n    document.cookie = name + "=" + value + ";" + expires + ";" + domain + "path=/";\n}\n\n// Function to check if flight_search is there in datalayer\nfunction getflight_search_event_data () {\n    const dl = dataLayer;\n    event = dataLayer.filter(x => x.event === "flight_search"); \n    return event;\n}\n\n// Get data from API\nfunction getDataFromAPI(url) {\n    var xhr = new XMLHttpRequest();\n    xhr.open(\'GET\', url, false); // false makes the request synchronous\n\n    xhr.send();\n\n    if (xhr.status === 200) {\n        var data = JSON.parse(xhr.responseText);\n        return data;\n    } else {\n        console.error(\'Error:\', xhr.statusText);\n        return null;\n    }\n}\n\nlet invalid_flight_routes = [\n    "BKK-HKG|HKG-BKK",\n    "HKG-BKK|BKK-HKG",\n    "BCN-MEX|MEX-BCN",\n    "MEX-BCN|BCN-MEX",\n    "SYD-CHC|CHC-SYD",\n    "CHC-SYD|SYD-CHC",\n    "MXP-JFK|JFK-MXP",\n    "JFK-MXP|MXP-JFK",\n    "ATH-EWR|EWR-ATH",\n    "EWR-ATH|ATH-EWR",\n    "LUN-HRE|HRE-LUN",\n    "HRE-LUN|LUN-HRE",\n    "SEZ-TNR|TNR-SEZ",\n    "TNR-SEZ|SEZ-TNR",\n    "CMB-MLE|MLE-CMB",\n    "MLE-CMB|CMB-MLE",\n    "MIA-BOG|BOG-MIA",\n    "BOG-MIA|MIA-BOG",\n    "LCA-MLA|MLA-LCA",\n    "MLA-LCA|LCA-MLA",\n    "GIG-EZE|EZE-GIG",\n    "EZE-GIG|GIG-EZE",\n    "BKK-DAD|DAD-BKK",\n    "DAD-BKK|BKK-DAD",\n    "PNH-SIN|SIN-PNH",\n    "SIN-PNH|PNH-SIN",\n    "BKK-SAI|SAI-BKK",\n    "SAI-BKK|BKK-SAI",\n    "ABJ-ACC|ACC-ABJ",\n    "ACC-ABJ|ABJ-ACC",\n    "DSS-CKY|CKY-DSS",\n    "CKY-DSS|DSS-CKY"\n]\n\nlet search_stopover_boolean = false;\nlet count = 0;\nconst maxCount = 50;\nlet data = {};\nlet search_data_boolean = false;\n\nif (window.location.href.indexOf("emirates.com/booking/search-results/") > -1) {\n        \n    setCookie(\'dso_srp\', \'\');\n    \n    // Wait for flight results in the first leg to load\n    const observer = new MutationObserver((mutationsList, observer) => {\n        \n      // Flight Search Result Div after which stopover widget will be added\n      const targetDiv = document.querySelector(\'.flight-card-collapsed__wrapper\');\n      \n      // Once Div from first search result page is loaded\n      if (targetDiv) {\n            \n        observer.disconnect(); // Stop observing\n          \n        //  Check for flight_seach event in datalayer every 100 milliseconds for max 5 seconds\n        const intervalId = setInterval(() => {\n            count++;\n            const flight_search_data = getflight_search_event_data();\n            \n            if (flight_search_data && flight_search_data.length > 0) {\n                \n                // Clear Interval if flight_search event is found in datalayer\n                clearInterval(intervalId);\n                \n                search_data_boolean = true;\n                data = {\n                    "cash_or_redemption"        : flight_search_data[0].cash_or_redemption,\n                    "class_of_travel"           : flight_search_data[0].class_of_travel,\n                    "destination_airport"       : flight_search_data[0].destination_airport,\n                    "destination_country"       : flight_search_data[0].destination_country,\n                    "flight_route"              : flight_search_data[0].flight_route,\n                    "flight_search_method"      : flight_search_data[0].flight_search_method,\n                    "flight_search_type"        : flight_search_data[0].flight_search_type,\n                    "inbound_date"              : flight_search_data[0].inbound_date,\n                    "number_of_adults_flight"   : flight_search_data[0].number_of_adults_flight,\n                    "number_of_children_flight" : flight_search_data[0].number_of_children_flight,\n                    "number_of_infant_flight"   : flight_search_data[0].number_of_infant_flight,\n                    "number_of_ofw_flight"      : flight_search_data[0].number_of_ofw_flight,\n                    "number_of_teenager_flight" : flight_search_data[0].number_of_teenager_flight,\n                    "origin_airport"            : flight_search_data[0].origin_airport,\n                    "origin_country"            : flight_search_data[0].origin_country,\n                    "outbound_date"             : flight_search_data[0].outbound_date,\n                    "passenger_count"           : flight_search_data[0].passenger_count,\n                    "passenger_type"            : flight_search_data[0].passenger_type,\n                    "trip_type"                 : flight_search_data[0].trip_type\n                };\n\n                // Variables extracted from flight_search_event\n                let origin                          = data.origin_airport;\n                let destination                     = data.destination_airport;\n                let extra_day_outbound_initial      = 0;\n                let extra_day_inbound_initial       = 0;\n                let outbound_date                   = data.outbound_date;\n                let inbound_date                    = data.inbound_date;\n                let origin_city                     = origin;\n                let destination_city                = destination;\n                let class_of_travel                 = data.class_of_travel;\n                let origin_city_found               = false;\n                let destination_city_found          = false;\n                let no_of_adults                    = data.number_of_adults_flight;\n                let no_of_children                  = data.number_of_children_flight;\n                let no_of_infant                    = data.number_of_infant_flight;\n                let no_of_ofw                       = data.number_of_ofw_flight;\n                let no_of_teenager                  = data.number_of_teenager_flight;\n                let city_codes_found                = false;\n                let trip_type                       = data.trip_type;\n                let flight_route                    = data.flight_route;\n                let show_stopover_inital            = true;\n\n                let outbound_date_initial_value = new Date(outbound_date)\n                let inbound_date_initial_value = new Date(inbound_date)\n                let initial_trip_days = ((inbound_date_initial_value - outbound_date_initial_value) / (24 * 60 * 60 * 1000));\n                \n                if (initial_trip_days < 7) {\n                    show_stopover_inital = false;\n                }\n                \n                // Updating boolean to display data only for connecting flights\n                if (trip_type === "Return") {\n                    if (origin === "DXB" || destination == "DXB" || invalid_flight_routes.includes(flight_route)) {\n                      search_stopover_boolean = false;\n                    } else {\n                      search_stopover_boolean = true;\n                    }\n                }\n                \n                // First Search Result, Dubai stopover widget is inserted after end of this component\n                // Change the 0 value to required number to change the position of the dubai stopover component\n                let first_search_result = document.querySelectorAll(".flight-card-collapsed__wrapper")[0];\n                \n                // Checking Promo Code Variable, if found do not show Dubai Stopover\n                let promo_code_found = false;\n                \n                function update_promo_code_boolean () {\n                \n                    let promo_code_variable = dataLayer[0].cugo_promo_code;\n                    \n                    if (promo_code_variable) {\n                        promo_code_found = (promo_code_variable.length > 0);\n                    }\n                }\n                \n                update_promo_code_boolean();\n                \n                // Check if first search result is displayed in UI, search data from dataLayer is present and is valid flight route\n                // Then, add Dubai Stopover Widget\n                if (first_search_result && search_stopover_boolean && search_data_boolean && !promo_code_found && show_stopover_inital) {\n                    if (isEnglish() && countriesPassed()) {\n                        setCookie(\'dso_srp\', \'1\', 15 * 60 * 1000);\n                        targetingPassed();\n                    }\n                }\n            }\n            \n            // Check if condition is met\n            if (count >= maxCount) {\n                clearInterval(intervalId);\n            }\n        }, 100);\n      }\n    });\n    observer.observe(document.body, { childList: true, subtree: true });\n}\n\nfunction triggerExperiment() {\n    if ((pageName === \'/ IBE / Confirmation / Purchase Confirmation\') && isEnglish() && countriesPassed() && (getCookie(\'dso_srp\') !== undefined)) {\n        targetingPassed();\n    }\n}\n\ntriggerExperiment();',targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2025-11-14T09:22:53.098Z",allocationLow:61,allocationHigh:120,splits:[{ref:"4e4ff46a-2552-4776-bde2-c473cc9903f1",lowSplit:61,highSplit:90},{ref:"2bf474f3-46de-463b-a93d-5ac38ed82a94",lowSplit:91,highSplit:120}],coupled:!0},variants:[{ref:"4e4ff46a-2552-4776-bde2-c473cc9903f1",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'function initializeControl() \r\n{\r\n    // If already executed, no need to run again\r\n    if (window.__BX479_Control_Executed) \r\n    {\r\n        return true;\r\n    }\r\n\r\n    try {\r\n        if (typeof dataLayer === "undefined" || !dataLayer[0] || !dataLayer[0].pageName) \r\n        {\r\n            return false;\r\n        }\r\n\r\n        var pageName = dataLayer[0].pageName || "";\r\n        var pageCode = "";\r\n        var lowerName = pageName.toLowerCase();\r\n        \r\n        // Determine page code\r\n        if (lowerName.indexOf("/ ibe") > -1 || lowerName.indexOf("searchresults") > -1) pageCode = "SRP";\r\n        \r\n        // Determine form_details\r\n        var form_details = "";\r\n        if (window.location.href.indexOf("emirates.com/booking/search-results/") > -1) {\r\n            form_details = "SRP";\r\n        }\r\n        else if (window.location.href.indexOf("emirates.com/booking/confirmation/") > -1) {\r\n            form_details = "BCP";\r\n        }\r\n\r\n        var controlLabel = "BX:479:STOPOVER:Control" + pageCode;\r\n\r\n        // Fire Control View event to CDP\r\n        var bxControlEvent = {\r\n            channel: "WEB",\r\n            type: "BOX479_SUPPRESSED_" + pageCode,\r\n            page: pageName,\r\n            pos: _boxever_settings.pointOfSale,\r\n            browser_id: Boxever.getID(),\r\n        };\r\n        Boxever.eventCreate(bxControlEvent, function(data) {}, "json");\r\n\r\n        // Push Control event to dataLayer\r\n        var suppressionEvent = {\r\n            event: "EventTrigger.PageBody_PromotionSuppressed",\r\n            category: "A/B Testing and Personalisation",\r\n            action: "Promotion Suppressed",\r\n            label: controlLabel,\r\n            formDetails : form_details,\r\n            value: 0\r\n        };\r\n        dataLayer.push(suppressionEvent);\r\n\r\n        // Mark as executed only after successful run\r\n        window.__BX479_Control_Executed = true;\r\n\r\n        return true;\r\n    } catch (err) {\r\n        console.error("BX479 Control script error:", err);\r\n        return false;\r\n    }\r\n}\r\n\r\n// Retry until ready (in case dataLayer loads late)\r\nvar tryCount = 0;\r\nvar waitInterval = setInterval(function() {\r\n    tryCount++;\r\n    var ready = initializeControl();\r\n    if (ready || tryCount > 15) {\r\n        clearInterval(waitInterval);\r\n    }\r\n}, 1000);'}},{ref:"2bf474f3-46de-463b-a93d-5ac38ed82a94",name:"srp_variant",assets:{css:"\n/*Widget CSS*/\n\n.dxb-srp-hidden { \n    display: none !important;\n}\n\n.dxb-srp-promo-outer-container {\n    margin: 0;\n    background-color: #fff;\n    border-radius: .8rem;\n    transition: box-shadow .3s;\n    position: relative;\n}\n\n@media only screen and (max-width: 1023px) {\n    .dxb-srp-promo-outer-container {\n        margin: 0 15px;\n    }\n}\n\n.dxb-srp-close-button {\n    position: absolute;\n    top: 2%;\n    right: 2%;\n    font-size: 40px;\n    color: #666;\n    cursor: pointer;\n}\n\n.dxb-srp-close-button::before {\n    content: url(data:image/svg+xml;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAcCAYAAACUJBTQAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAANJSURBVEhLtZbRS1NRHMe/roYwYi/twQmj2ItDljAkEUVUcIUFKjipSShyQRdcB9qDr/0FFm6lgfdBKRZkpBJK2cN8mMhKJBhlVJdCcMMm0dCBXdLO2c5t7u7e6yz6PIydL2d8zs45v9+9JYcE/GcMmc/9JDaWF7C0KiIlZZJ/REI6IUJMpDOjksOf3w6jD+9AWE1mApPTg2HODZspMzw5B2mIiwGMzotEZYardwSneLft9v2FLyTIIm2/w5uPBzhf5YCllIXFkieg7COxscW2S0FaXEBwLITYdxYUQ4GAsU8kllovvA1WluSQNsMI3J1GdLuIQ6KC5yoCguViBzkTersOUog9G8fEy8JJOOtCD8+hvtzIAgXsHwSIIHvMOSx1HIa6a5iEQie/EhB4GiuYDLMTHiJyn1PcBh2BtYEDf60GFrI2RZ1IiK9MIzgVRfauHcHkQLtvAFcqmEhP0OgD3+XKCCgqxSghuT6DCSGMTeXeldrg7vfDU3laQ2CErZmDv9MF85Hd1az41Ic5jE8sQFQu02CBo9KIz7G44vyIoMUHf4czT0DRlFDSX8MQxou5ykbYW3ncbHPArFIUuhKKlIgiNC4gkmBBAfoCikacw1hWA++AF84zLMiDCK7yGNQRUI6VYFfE0qM5xHbZOA8J4usIYkn9gtWXpDexNBnA3KeCysmxHYUQ0O8M2pL9OMLTY5h5ryOQyYhCmiJ1CRFEpkYRWk+xQIa07u4RjNwglcySP2xHINwLYV1FVCiRkog+DmJ6TU3gB9doh72hB3yviigRwYSKKF8ipbD+JAhhRdlUzHBepwIbuU8UI6x1RNSnI9rJiXIS2olnxyAsx1kgY4Kzyw9fsyyQIaLaHgz11cOi3A8qIs8jWZQtRtLsNuYDCC4qWz0VDINrsZFvWpBetxZCcDKC+AGLZMqb4OM9RPJr71B88QCB2Q1FszPB0TmIgUt2HYEMFc0QUVhVZEi9nYGgJugggpZiBBQjLNUe8P1NsCqaI7aiMOztxPGDjbMQQRsRXCYC9QuuARG5yJuOUmSugMFa0w63XV4v6UVU0HpSgYwR5ipvVkR/X1YP7hbHDp683MVWo4ibLqC+mhzyXwm0ObbV/zvAb2BkjMq2suhnAAAAAElFTkSuQmCC);\n}\n\n/*.dxb-srp-close-button {*/\n/*    position: absolute;*/\n/*    top: 2%;*/\n/*    right: 5%;*/\n/*    font-size: 20px;*/\n/*    color: #444;*/\n/*    padding: 0 5px;*/\n/*    cursor: pointer;*/\n/*}*/\n\n.dxb-srp-promo-container {\n    padding: 24px;\n    display: flex;\n    flex-direction: row;\n    margin: 3rem 0 0;\n    cursor: default;\n}\n\n.dxb-srp-image-container {\n    margin-right: 20px;\n}\n\n.dxb-srp-image-container img {\n    border-radius: 8px;\n}\n\n.dxb-srp-info-container {\n    align-self: stretch;\n    flex: 1;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-between;\n}\n\n.dxb-srp-text-container {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    padding-right: 20px;\n    max-width: 395px;\n}\n\n.dxb-srp-text-container h2 {\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-size: 1.6rem;\n    color: #444;\n    margin-bottom: 15px;\n    font-weight: 500;\n}\n\n.dxb-srp-text-container p {\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-size: 1.4rem;\n    font-weight: 300;\n    color: #444;\n}\n\n.dxb-srp-button-container-add-button {\n    border: none;\n    color: #d71921;\n    background-color: transparent;\n    cursor: pointer;\n    padding: 10px;\n    border-radius: 5px;\n    text-align: left;\n}\n\n.dxb-srp-button-container-add-button:hover {\n    color: #fff;\n    background-color: #d71921;\n}\n\n@media only screen and (max-width: 700px) {\n    .dxb-srp-info-container {\n        flex-direction: column;\n        align-items: flex-start;\n    }\n}\n\n/*Modal CSS*/\n\n.overflow_hidden {\n    overflow: hidden;\n}\n\n#dxb-srp-modal-container {\n    display: none;    \n}\n\n.dxb-srp-modal-overlay {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  z-index: 999999;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  /*overflow-y: scroll;*/\n  -webkit-backdrop-filter: blur(10px);\n  backdrop-filter: blur(10px);\n  background-color: rgba(0,0,0,0.1);\n  font-family: Arial,HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n}\n\n.dxb-srp-modal-content {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background-color: #FFF;\n  margin: 0px auto;\n  border-radius: 10px;\n  height: 100%;\n  max-width: 800px;\n  width: 90%;\n  border: none;\n  height: auto;\n  text-align: center;\n}\n\n/* Modal Content CSS */\n\n.dxb-srp-modal-content-outer-container {\n  display: flex;  \n  flex-direction: column;\n  padding: 16px;\n  max-height: 90vh;\n  width: 100%;\n  font-family: Noto Sans Display, Arial, sans-serif;\n}\n\n.dxb-srp-modal-content-container {\n  display: flex;  \n  flex-direction: column;\n  gap: 32px;\n  text-align: left;\n  overflow-y: auto;\n  padding: 16px;\n  line-height: 150%;\n}\n\n@media only screen and (max-width: 600px) {\n    .dxb-srp-modal-content-outer-container {\n        padding: 0;\n    }\n    .dxb-srp-modal-content-container {\n        gap: 24px;\n    }\n}\n\n.dxb-srp-modal-content-close-icon {\n    position: absolute;\n    top: 2%;\n    right: 5%;\n    font-size: 20px;\n    color: #444;\n    padding: 0 5px;\n    cursor: pointer;\n}\n\n.dxb-srp-modal-content-close-icon:hover {\n    background: #444;\n    padding: 0 5px;\n    border-radius: 50%;\n    color: white;\n}\n\n.dxb-srp-header-container {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  color: #444;\n  text-align: left;\n}\n\n.dxb-srp-header {\n  font-size: 24px;\n  font-weight: 500\n}\n\n.dxb-srp-header-info {\n  font-size: 14px;\n  font-weight: 300;\n  letter-spacing: 0.56px;\n}\n\n.dxb-srp-header-cta {\n    display: none;\n    color: #d71921;\n    cursor: pointer;\n}\n\n@media only screen and (max-width: 699px) {\n    .dxb-srp-header-container {\n        text-align: center;\n    }\n    \n    .dxb-srp-header {\n        font-size: 15.75px;;\n    }\n    .dxb-srp-header-cta {\n        display: block;\n    }\n}\n\n.dxb-srp-main-content-container {\n  display: flex;\n  gap: 32px;\n  align-items: flex-start;  \n}\n\n.dxb-srp-form-container {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.dxb-srp-route-container {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;  \n  color: #444;\n}\n\n.dxb-srp-route {\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n  border-radius: 8px;\n  border: 1px solid #e8e8e8;\n  gap: 4px;\n  text-align: left;\n}\n\n.dxb-srp-flight {\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.dxb-srp-date {\n  font-size: 14px;\n  font-weight: 300;\n}\n\n@media only screen and (max-width: 699px) {\n    .dxb-srp-form-container {\n      width: 100%;\n    }\n    \n    .dxb-srp-route {\n        padding: 8px;\n    }\n    \n    .dxb-srp-flight {\n        font-size: 14px;\n    }\n    \n    .dxb-srp-date {\n        font-size: 12px;\n    }\n}\n\n.dxb-srp-nights-left-icon-container {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  justify-content: flex-start;\n}\n\n.dxb-srp-nights-left-icon-container-svg::before {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNCAyNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9ImZsaWdodC1zdG9wb3ZlciI+CjxnIGlkPSJGbGF0dGVuZWQiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE2LjcxMTMgMTMuNTQxOEwxOS4yNDEgMTMuNTM2MUwxOS4yNDY3IDEzLjUzNjFDMTkuNzYyMiAxMy41MzI1IDIwLjQwODIgMTMuMzQwNSAyMC45MTA0IDEzLjA5NTVDMjEuMTc0IDEyLjk2NyAyMS40NzI5IDEyLjc4ODMgMjEuNzI3MSAxMi41NDc4QzIxLjk2NTcgMTIuMzIyMSAyMi4zMDAzIDExLjkxMTIgMjIuMzMwNyAxMS4zMjM4TDIyLjMzMSAxMS4zMTcxQzIyLjM1OTkgMTAuNjkxMiAyMi4wMTg4IDEwLjI0NzQgMjEuNzgxMiAxMC4wMTVDMjEuNTMwNSA5Ljc2OTc2IDIxLjIzMTggOS41OTM0MyAyMC45NzUzIDkuNDcwNDFDMjAuNDg0OCA5LjIzNTIyIDE5Ljg0NzkgOS4wNTQ4OSAxOS4zMjc5IDkuMDU5M0MxOC4zMzIxIDkuMDYxNSAxNy43MTE3IDkuMDQ2NjUgMTcuMDg3MiA5LjAzMTM4TDE3LjA2MzEgOS4wMzA3OUMxNi41MTg4IDkuMDE3NDcgMTUuOTY3IDkuMDAzOTcgMTUuMTcxNiA5LjAwMTdMMTAuMzEzOCA0LjkxMjQ3QzEwLjAzMDMgNC42NzM4NSA5LjY2Mzg5IDQuNTU3MTMgOS4yOTQ2MSA0LjU4NzgzTDguMDkzMTkgNC42ODc3NEM3LjcxOTY1IDQuNzE4OCA3LjM4MjA3IDQuOTIyNjMgNy4xODA2NCA1LjIzODczQzYuOTc5MiA1LjU1NDg0IDYuOTM3MDUgNS45NDY5MiA3LjA2NjY4IDYuMjk4NjJDNy40MTY1MSA3LjI0NzczIDcuNzkwMzkgOC4xOTIyIDguMTYyNDEgOS4xMjM5OEM3LjQyOTY2IDkuMTgwNDcgNi42NDcyNyA5LjI0ODE3IDYuMTIyNDIgOS4yOTQ3N0w1LjEyMjU3IDguMDk2MjJDNC44NTQzOCA3Ljc3NDc0IDQuNDU2NTcgNy41ODk5MSA0LjAzNzkyIDcuNTkyMjlMMy4wMzExIDcuNTk3OTlDMi42NDU2MiA3LjYwMDE3IDIuMjg0NjYgNy43ODc0MSAyLjA2MDg2IDguMTAxMjdDMS44MzcwNSA4LjQxNTEzIDEuNzc3NjUgOC44MTc0IDEuOTAxMTkgOS4xODI1NUwzLjA0OTE0IDEyLjU3NTZDMy4yMjk2MiAxMy4xMDkxIDMuNzMzMjcgMTMuNTI3NCA0LjM2OTg0IDEzLjUyODRDNS41MzM5NCAxMy41MzA0IDEzLjY3MTYgMTMuNTQzOCAxNi43MTEzIDEzLjU0MThaTTE3LjAzNDMgMTAuMjMwNEMxNy42NzEyIDEwLjI0NiAxOC4zMDgxIDEwLjI2MTYgMTkuMzM1IDEwLjI1OTNDMTkuOTAzNyAxMC4yNTI3IDIxLjE1NzYgMTAuNzEzNCAyMS4xMzIzIDExLjI2MThDMjEuMTAyIDExLjg0NzIgMTkuNzk5MiAxMi4zMzIyIDE5LjIzODMgMTIuMzM2MUwxNi43MTA1IDEyLjM0MThDMTMuNjcyNiAxMi4zNDM4IDUuNTM2NzIgMTIuMzMwNCA0LjM3MTg2IDEyLjMyODRDNC4yODUzIDEyLjMyODMgNC4yMTM1OSAxMi4yNzMgNC4xODU4NSAxMi4xOTExTDMuMDM3OSA4Ljc5Nzk3TDQuMDQ0NzIgOC43OTIyN0M0LjEwNTA4IDguNzkxOTIgNC4xNjI0NCA4LjgxODU3IDQuMjAxMSA4Ljg2NDkzTDUuNTM1NzkgMTAuNDY0OUM1LjU3ODQgMTAuNTE1OSA1LjY0MTU5IDEwLjU0MjkgNS43MDc4MyAxMC41MzY5QzYuMDk3NTcgMTAuNTAxMyA3LjUwNjc5IDEwLjM3NDMgOC42Mjg4NSAxMC4yOTIyTDguNjU3MzYgMTAuMjkwMUM4Ljk0OTcxIDEwLjI2ODkgOS4yMjE2NCAxMC4yNTA4IDkuNDQ5NzIgMTAuMjM4M0M5LjU1OTg2IDEwLjIzMjIgOS42NTk3NyAxMC4yMjc1IDkuNzQ2ODIgMTAuMjI0NEM5LjgxNzQ1IDEwLjIyMTggOS44NjM1OSAxMC4xNTAyIDkuODM3NTQgMTAuMDg0NUw5LjczMjIxIDkuODE5MzZDOS42MzI1NCA5LjU2ODkxIDkuNTMyNDggOS4zMTg1NyA5LjQzMjQxIDkuMDY4MjNMOS40MjAzOSA5LjAzODE2QzkuMTU2IDguMzc2NzUgOC44OTE2NiA3LjcxNTIxIDguNjM0NTMgNy4wNTEwMUM4LjQ4NDMgNi42NjI5NSA4LjMzNjUyIDYuMjczOTkgOC4xOTI2MyA1Ljg4MzYxTDkuMzk0MDUgNS43ODM3MUM5LjQwODEzIDUuNzgyNTQgOS40MjIxOSA1Ljc4Mjg1IDkuNDM2IDUuNzg0NTlDOS40NzQ0MSA1Ljc4OTQxIDkuNTEwOTQgNS44MDUyMSA5LjU0MSA1LjgzMDUxTDE0LjY3NyAxMC4xNTM5QzE0LjcxMzYgMTAuMTg0NyAxNC43NjA5IDEwLjIwMTUgMTQuODA4NyAxMC4yMDE1QzE1Ljc5MTkgMTAuMiAxNi40MTMxIDEwLjIxNTIgMTcuMDM0MyAxMC4yMzA0WiIgZmlsbD0iIzQ0NDQ0NCIvPgo8cGF0aCBkPSJNMTMuNTk5MiAxOS4yNzYyQzEzLjU5OTIgMTkuOTM4OSAxMy4wNjIgMjAuNDc2MiAxMi4zOTkyIDIwLjQ3NjJDMTEuOTU0OSAyMC40NzYyIDExLjU2NyAyMC4yMzQ3IDExLjM1OTUgMTkuODc1OEw0LjIxNTY0IDE5Ljg3NThDNC4wMTI0NCAyMC4yMjc1IDMuNjM1NTYgMjAuNDY3NSAzLjE5OTc4IDIwLjQ3NjJDMi41MzcxNyAyMC40ODk0IDEuOTg5MyAxOS45NjMgMS45NzYwOCAxOS4zMDAzQzEuOTYyODYgMTguNjM3NyAyLjQ4OTMgMTguMDg5OSAzLjE1MTkxIDE4LjA3NjdDMy42MDQyOCAxOC4wNjc2IDQuMDAzMTcgMTguMzEwMSA0LjIxNDk2IDE4LjY3NThMMTEuMzYgMTguNjc1OEMxMS41Njc1IDE4LjMxNzMgMTEuOTU1MiAxOC4wNzYyIDEyLjM5OTIgMTguMDc2MkMxMy4wNjIgMTguMDc2MiAxMy41OTkyIDE4LjYxMzQgMTMuNTk5MiAxOS4yNzYyWiIgZmlsbD0iIzQ0NDQ0NCIvPgo8cGF0aCBkPSJNMTUuMzAyMSAxOS44NzY4QzE1LjYzMzUgMTkuODc2OCAxNS45MDIxIDE5LjYwODEgMTUuOTAyMSAxOS4yNzY4QzE1LjkwMjEgMTguOTQ1NCAxNS42MzM1IDE4LjY3NjggMTUuMzAyMSAxOC42NzY4QzE0Ljk3MDggMTguNjc2OCAxNC43MDIxIDE4Ljk0NTQgMTQuNzAyMSAxOS4yNzY4QzE0LjcwMjEgMTkuNjA4MSAxNC45NzA4IDE5Ljg3NjggMTUuMzAyMSAxOS44NzY4WiIgZmlsbD0iIzQ0NDQ0NCIvPgo8cGF0aCBkPSJNMTguMzI3OSAxOS4yNzY4QzE4LjMyNzkgMTkuNjA4MSAxOC4wNTkzIDE5Ljg3NjggMTcuNzI3OSAxOS44NzY4QzE3LjM5NjYgMTkuODc2OCAxNy4xMjc5IDE5LjYwODEgMTcuMTI3OSAxOS4yNzY4QzE3LjEyNzkgMTguOTQ1NCAxNy4zOTY2IDE4LjY3NjggMTcuNzI3OSAxOC42NzY4QzE4LjA1OTMgMTguNjc2OCAxOC4zMjc5IDE4Ljk0NTQgMTguMzI3OSAxOS4yNzY4WiIgZmlsbD0iIzQ0NDQ0NCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTIwLjc3MTQgMjAuNDc0QzIwLjQ2MTQgMjAuNDc0IDIwLjE2MTQgMjAuMzU0IDE5Ljk0MTQgMjAuMTQ0QzE5LjcxMTQgMTkuOTI0IDE5LjU4MTQgMTkuNjI0IDE5LjU3MTQgMTkuMzA0QzE5LjU2MTQgMTguNjQ0IDIwLjA4MTQgMTguMDk0IDIwLjc1MTQgMTguMDg0QzIxLjA4MTQgMTguMDg0IDIxLjM3MTQgMTguMTk0IDIxLjYxMTQgMTguNDE0QzIxLjg0MTQgMTguNjM0IDIxLjk3MTQgMTguOTM0IDIxLjk4MTQgMTkuMjU0QzIxLjk5MTQgMTkuOTE0IDIxLjQ3MTQgMjAuNDY0IDIwLjgwMTQgMjAuNDc0SDIwLjc3MTRaTTIxLjM3MTQgMTkuMjY0QzIxLjM3MTQgMTguOTM0IDIxLjEwMTQgMTguNjc0IDIwLjc3MTQgMTguNjc0SDIwLjc2MTRDMjAuNjAxNCAxOC42NzQgMjAuNDUxNCAxOC43NDQgMjAuMzQxNCAxOC44NTRDMjAuMjMxNCAxOC45NzQgMjAuMTcxNCAxOS4xMjQgMjAuMTcxNCAxOS4yODRDMjAuMTcxNCAxOS42MTQgMjAuNDUxNCAxOS44ODQgMjAuNzgxNCAxOS44NzRDMjAuOTQxNCAxOS44NzQgMjEuMDkxNCAxOS44MDQgMjEuMjAxNCAxOS42OTRDMjEuMzExNCAxOS41NzQgMjEuMzcxNCAxOS40MjQgMjEuMzcxNCAxOS4yNjRaIiBmaWxsPSIjNDQ0NDQ0Ii8+CjwvZz4KPC9nPgo8L3N2Zz4K);\n}\n\n.dxb-srp-nights-left-icon-container-svg-line::before {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMiIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIgMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGlkPSJMaW5lIiBkPSJNMSAxOVYwLjUiIHN0cm9rZT0iI0Q4RDhEOCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPgo8L3N2Zz4K);\n}\n\n.dxb-srp-nights-selection-container {\n  display: flex;\n  gap: 24px;\n  align-items: flex-start;\n  justify-content: flex-start;\n}\n\n.dxb-srp-nights-selection {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  text-align: left;\n  align-items: flex-start;\n  justify-content: flex-start;\n}\n\n.dxb-srp-nights-selection-text {\n  font-size: 16px;\n  font-weight: 300;\n}\n\n.dxb-srp-nights-selection-controls {\n    display: flex;\n    flex-direction: row;\n    gap: 40px;\n    align-items: center;\n}\n\n.minus-btn, .plus-btn, .minus-btn:focus, .plus-btn:focus {\n    width: 28px;\n    height: 28px;\n    border-radius: 50%;\n    border: 1px solid #ddd;\n    background-color: white;\n    color: #666;\n    font-size: 18px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    user-select: none;\n}\n\n.minus-btn:focus, .plus-btn:focus {\n    box-shadow: none;\n}\n    \n.minus-btn:hover, .plus-btn:hover {\n    background-color: #f5f5f5;\n}\n\n.night-count {\n    font-size: 14px;\n    font-weight: 500;\n    color: #333;\n}\n\n/*#outgoing-nights-selection-increment:hover */\n/*{*/\n/*    background-color: #d8d8d8;*/\n/*    outline: #e8e8e8;*/\n/*    cursor: not-allowed;*/\n/*}*/\n\n.counter-btn:disabled { \n    background-color: #d8d8d8;\n    outline: #e8e8e8;\n    cursor: not-allowed;\n}\n.counter-btn:disabled:hover { \n    background-color: #d8d8d8;\n    outline: #e8e8e8;\n    cursor: not-allowed;\n}\n\n@media only screen and (max-width: 699px) {\n    .dxb-srp-nights-selection-text {\n        font-size: 14px;\n    }\n    \n    .night-count {\n        font-size: 14px;\n    }\n}\n\n.dxb-srp-stay-info {\n  padding: 16px;\n  font-size: 16px;\n  color: #406dc0;\n  background-color: #f0f4ff;\n  border-radius: 8px;\n}\n\n.dxb-srp-stopover-info-container {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  max-width: 300px;\n}\n\n.dxb-srp-stopover-mobile-info-container {\n    display: flex;\n    flex-direction: column;\n    max-width: 300px;\n    gap: 24px;\n}\n\n.dxb-srp-mobile-header {\n    font-size: 15.75px;\n    text-align: center;\n    font-weight: 500;\n}\n\n.dxb-srp-stopover-info-img {\n    width: 300px;\n    height: 450px;\n    object-fit: cover;\n    border-radius: 5px;\n}\n\n@media only screen and (max-width: 699px) {\n    .dxb-srp-stay-info {\n        font-size: 14px;\n    }\n    .dxb-srp-stopover-info-container {\n        display: none;\n    }\n}\n\n.dxb-srp-stopover-info-para-container {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  padding: 16px;\n  background-color: #f7f7f7;\n}\n\n.dxb-src-stopover-info-para-sub-container {\n  display: flex;\n  gap: 16px;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.dxb-src-stopover-info-hotel {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IkZyYW1lIj4KPHBhdGggaWQ9IlZlY3RvciIgZD0iTTMgMjEuMDAwMkgyMU01IDIxLjAwMDJWNy4zMDkyNkM1IDcuMTE5ODggNS4xMDcgNi45NDY3NCA1LjI3NjM5IDYuODYyMDVMMTIuMjc2NCAzLjM2MjA1QzEyLjYwODggMy4xOTU4MiAxMyAzLjQzNzU3IDEzIDMuODA5MjZWMjEuMDAwMk0xOSAyMS4wMDAyVjExLjI2NzhDMTkgMTEuMTAwNyAxOC45MTY0IDEwLjk0NDUgMTguNzc3NCAxMC44NTE4TDEzIDcuMDAwMjRNOSA5LjAwMDI0VjkuMDEwMjRNOSAxMi4wMDAyVjEyLjAxMDJNOSAxNS4wMDAyVjE1LjAxMDJNOSAxOC4wMDAyVjE4LjAxMDIiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yIDEyNCIgZD0iTTE1LjM1NzkgMTUuMTM3OUwxNi41NTc5IDE1LjEzNzkiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yIDEzMSIgZD0iTTE1LjM1NzkgMTguMTA2MkwxNi41NTc5IDE4LjEwNjIiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L2c+Cjwvc3ZnPgo=);\n}\n\n.dxb-src-stopover-info-visa {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMSAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IkZyYW1lIiBjbGlwLXBhdGg9InVybCgjY2xpcDBfNzIyXzU2MTkpIj4KPGcgaWQ9Ikdyb3VwIj4KPHBhdGggaWQ9IlZlY3RvciIgZD0iTTE2LjkyNzggMC43MTQ4NDRINC4wNzA2NkMzLjI4MTY4IDAuNzE0ODQ0IDIuNjQyMDkgMS4zNTQ0NCAyLjY0MjA5IDIuMTQzNDJWMTcuODU3N0MyLjY0MjA5IDE4LjY0NjcgMy4yODE2OCAxOS4yODYzIDQuMDcwNjYgMTkuMjg2M0gxNi45Mjc4QzE3LjcxNjggMTkuMjg2MyAxOC4zNTY0IDE4LjY0NjcgMTguMzU2NCAxNy44NTc3VjIuMTQzNDJDMTguMzU2NCAxLjM1NDQ0IDE3LjcxNjggMC43MTQ4NDQgMTYuOTI3OCAwLjcxNDg0NFoiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yXzIiIGQ9Ik0xMC40OTk2IDEyLjg1NzhDMTIuODY2NSAxMi44NTc4IDE0Ljc4NTMgMTAuOTM5IDE0Ljc4NTMgOC41NzIwOUMxNC43ODUzIDYuMjA1MTYgMTIuODY2NSA0LjI4NjM4IDEwLjQ5OTYgNC4yODYzOEM4LjEzMjY1IDQuMjg2MzggNi4yMTM4NyA2LjIwNTE2IDYuMjEzODcgOC41NzIwOUM2LjIxMzg3IDEwLjkzOSA4LjEzMjY1IDEyLjg1NzggMTAuNDk5NiAxMi44NTc4WiIgc3Ryb2tlPSIjNDQ0NDQ0IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGlkPSJWZWN0b3JfMyIgZD0iTTYuMjEzODcgOC41NzIwOUgxNC43ODUzTTEwLjQ5OTYgMTIuODU3OFY0LjI4NjM4IiBzdHJva2U9IiM0NDQ0NDQiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9nPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzcyMl81NjE5Ij4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC41IDAuMDAwMjQ0MTQxKSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=);\n}\n\n.dxb-src-stopover-info-para {\n  display: flex;\n  flex-direction: column;\n}\n\n.dxb-src-stopover-info-para-header {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.dxb-src-stopover-info-para-subtitle {\n  font-size: 14px;\n  font-weight: 300;\n}\n\n.dxb-srp-cta-container {\n  display: flex;\n  justify-content: space-between;\n}\n\n\n.dxb-srp-cta {\n  padding: 16px;\n  border-radius: 8px;\n  height: 56px;\n  width: 265px;\n  font-size: 14px;\n  font-weight: 500;\n  text-align: center;\n}\n\n@media only screen and (max-width: 699px) {\n    .dxb-srp-cta {\n        font-size: 14px;\n    }\n    \n    .dxb-srp-cta-container {\n        flex-direction: column;\n        gap: 16px;\n    }\n    \n    .dxb-srp-cta {\n        width: 100%;\n    }\n}\n\n.dxb-srp-cta-cancel {\n  border: 0.5px solid #444;\n  background-color: #fff;\n}\n\n.dxb-srp-cta-continue {\n  border: 0.5px solid #d71921;\n  background-color: #d71921;\n  color: #fff;\n}\n\n.dxb-srp-cta-continue:hover {\n    box-shadow: 0 0 .6rem 0 rgba(0, 0, 0, .5);\n    cursor: pointer;\n}\n\n.dxb-srp-cta-cancel:hover {\n    background-color: #d71921;\n    color: #fff;\n    border: 0.5px solid #d71921;\n    box-shadow: 0 0 .6rem 0 rgba(0, 0, 0, .5);\n    cursor: pointer;\n}\n\n.dxb-frp-dso-info-outer-container {\n    display: flex;\n    margin: 32px auto;\n}\n\n.dxb-frp-dso-info-inner-container {\n    /*margin: 32px auto;*/\n    display: flex;\n    flex-direction: row;\n    padding: 32px;\n    background: white;\n    width: 100%;\n    /*text-align: center;*/\n    border-radius: 10px;\n    border: 1px solid #e8e8e8;\n    align-items: center;\n    gap: 16px;\n}\n\n.dxb-frp-skyline-svg { \n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9ImNpdHktc2t5bGluZS1keGIiPgo8cGF0aCBpZD0iVmVjdG9yIDI4IiBkPSJNNiAzNS43MjEyTDM0IDM1LjcyMTIiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggaWQ9IlZlY3RvciAxMjkiIGQ9Ik0yMS4yODQ3IDM1LjcyMTFMMjEuMjg1MiAxMC43OTcxQzI3LjUyODEgMTIuNjk3MSAzNS41NzMzIDIwLjQ1NzggMzIuMTgyOCAzNS43MjExIiBzdHJva2U9IiM0NDQ0NDQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGlkPSJWZWN0b3IgMTMwIiBkPSJNMjUuMjkgMTYuNTY5NUwzMi45ODUxIDE2LjU2OTUiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggaWQ9IlZlY3RvciAxMjQiIGQ9Ik0yNS4yOSAyNi43ODU5TDI3LjkyNDQgMjYuNzg1OSIgc3Ryb2tlPSIjNDQ0NDQ0IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yIDEzMSIgZD0iTTI1LjI5IDMxLjUyODNMMjguOTc4MSAzMS41MjgzIiBzdHJva2U9IiM0NDQ0NDQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGlkPSJWZWN0b3IiIGQ9Ik03LjY0MjYgMzUuNzIxM0w2LjY0MjYgMzUuNzIxM0w2LjY0MjYgMzYuNzIwNkw3LjY0MTkzIDM2LjcyMTNMNy42NDI2IDM1LjcyMTNaTTEzLjU1NzUgMTQuMDQzN0wxNC4yMzk5IDE0Ljc3NDdDMTQuNDQyNSAxNC41ODU2IDE0LjU1NzUgMTQuMzIwOCAxNC41NTc1IDE0LjA0MzdMMTMuNTU3NSAxNC4wNDM3Wk0xNy4yODQ2IDguNjMzMTlIMTguMjg0NkMxOC4yODQ2IDguMzYwMTYgMTguMTczIDguMDk5MDEgMTcuOTc1NyA3LjkxMDM1TDE3LjI4NDYgOC42MzMxOVpNMTYuNDAyNSA0LjI1ODU0QzE2LjQwMjUgMy43MDYyNiAxNS45NTQ4IDMuMjU4NTQgMTUuNDAyNSAzLjI1ODU0QzE0Ljg1MDIgMy4yNTg1NCAxNC40MDI1IDMuNzA2MjYgMTQuNDAyNSA0LjI1ODU0SDE2LjQwMjVaTTEzLjU1NzYgOC42MjY2OEwxMi44NjA3IDcuOTA5NDlDMTIuNjY2OSA4LjA5Nzc4IDEyLjU1NzYgOC4zNTY0OCAxMi41NTc2IDguNjI2NjdMMTMuNTU3NiA4LjYyNjY4Wk04LjY2NDgyIDI5LjQ4MzdMOS4zMjk1OSAzMC4yMzA4QzkuMzM5ODUgMzAuMjIxNyA5LjM0OTkyIDMwLjIxMjMgOS4zNTk4IDMwLjIwMjhMOC42NjQ4MiAyOS40ODM3Wk0xNy4yODQ2IDM1LjcyNzhMMTcuMjg0IDM2LjcyNzhMMTguMjg0NiAzNi43Mjg0VjM1LjcyNzhIMTcuMjg0NlpNMTIuMTA0IDE1LjQwMDVMMTEuNDIxNyAxNC42Njk0TDEyLjEwNCAxNS40MDA1Wk0xMC4xMjE3IDIyLjY4MDZMOS40NDUwNyAyMS45NDQzTDEwLjEyMTcgMjIuNjgwNlpNMTEuMDgxNyAyMS43OTg0TDEwLjQwNSAyMS4wNjIxTDExLjA4MTcgMjEuNzk4NFpNOC4xNzcyOSAyOS45MTc2TDguODQyMDUgMzAuNjY0Nkw4LjE3NzI5IDI5LjkxNzZaTTguNjQyNiAzNS43MjEzTDguNjQyNTggMzEuMTA5MUw2LjY0MjU4IDMxLjEwOTFMNi42NDI2IDM1LjcyMTNMOC42NDI2IDM1LjcyMTNaTTEwLjYwNTkgMjcuODk3NVYyMy44NTVIOC42MDU5NVYyNy44OTc1SDEwLjYwNTlaTTE2LjQwMjUgNi44MzM5NlY0LjI1ODU0SDE0LjQwMjVWNi44MzM5NkgxNi40MDI1Wk0xNC41NTc1IDE0LjA0MzdMMTQuNTU3NiA4LjYyNjY5TDEyLjU1NzYgOC42MjY2N0wxMi41NTc1IDE0LjA0MzdMMTQuNTU3NSAxNC4wNDM3Wk0xNi4yODQ2IDguNjMzMTlWMjIuNTQxM0gxOC4yODQ2VjguNjMzMTlIMTYuMjg0NlpNOC44NDIwNSAzMC42NjQ2TDkuMzI5NTkgMzAuMjMwOEw4LjAwMDA2IDI4LjczNjdMNy41MTI1MiAyOS4xNzA1TDguODQyMDUgMzAuNjY0NlpNOS4zNTk4IDMwLjIwMjhMOS44MTQ0IDI5Ljc2MzRMOC40MjQ0NSAyOC4zMjUzTDcuOTY5ODQgMjguNzY0N0w5LjM1OTggMzAuMjAyOFpNMTAuNTk3NCAxNi41NjY0VjIwLjYyNEgxMi41OTc0VjE2LjU2NjRIMTAuNTk3NFpNMTAuNDA1IDIxLjA2MjFMOS40NDUwNyAyMS45NDQzTDEwLjc5ODQgMjMuNDE2OUwxMS43NTgzIDIyLjUzNDdMMTAuNDA1IDIxLjA2MjFaTTEyLjc4NjQgMTYuMTMxNUwxNC4yMzk5IDE0Ljc3NDdMMTIuODc1MSAxMy4zMTI3TDExLjQyMTcgMTQuNjY5NEwxMi43ODY0IDE2LjEzMTVaTTE0LjI1NDQgOS4zNDM4N0wxNi4wOTk0IDcuNTUxMTVMMTQuNzA1NiA2LjExNjc3TDEyLjg2MDcgNy45MDk0OUwxNC4yNTQ0IDkuMzQzODdaTTE3Ljk3NTcgNy45MTAzNUwxNi4wOTM1IDYuMTExMTJMMTQuNzExNSA3LjU1NjgxTDE2LjU5MzYgOS4zNTYwNEwxNy45NzU3IDcuOTEwMzVaTTE2LjI4NDYgMjIuNTQxM1YzNS43Mjc4SDE4LjI4NDZWMjIuNTQxM0gxNi4yODQ2Wk0xNy4yODUzIDM0LjcyNzhMNy42NDMyOCAzNC43MjEzTDcuNjQxOTMgMzYuNzIxM0wxNy4yODQgMzYuNzI3OEwxNy4yODUzIDM0LjcyNzhaTTEyLjU5NzQgMTYuNTY2NEMxMi41OTc0IDE2LjQwMTUgMTIuNjY1OSAxNi4yNDQgMTIuNzg2NCAxNi4xMzE1TDExLjQyMTcgMTQuNjY5NEMxMC44OTU5IDE1LjE2MDIgMTAuNTk3NCAxNS44NDcyIDEwLjU5NzQgMTYuNTY2NEgxMi41OTc0Wk0xMC42MDU5IDIzLjg1NUMxMC42MDU5IDIzLjY4ODUgMTAuNjc1NyAyMy41Mjk2IDEwLjc5ODQgMjMuNDE2OUw5LjQ0NTA3IDIxLjk0NDNDOC45MTAzIDIyLjQzNTcgOC42MDU5NSAyMy4xMjg3IDguNjA1OTUgMjMuODU1SDEwLjYwNTlaTTEwLjU5NzQgMjAuNjI0QzEwLjU5NzQgMjAuNzkwNSAxMC41Mjc2IDIwLjk0OTQgMTAuNDA1IDIxLjA2MjFMMTEuNzU4MyAyMi41MzQ3QzEyLjI5MzEgMjIuMDQzMyAxMi41OTc0IDIxLjM1MDMgMTIuNTk3NCAyMC42MjRIMTAuNTk3NFpNOC42NDI1OCAzMS4xMDkxQzguNjQyNTggMzAuOTM5MyA4LjcxNTE3IDMwLjc3NzUgOC44NDIwNSAzMC42NjQ2TDcuNTEyNTIgMjkuMTcwNUM2Ljk1OTE0IDI5LjY2MjkgNi42NDI1OCAzMC4zNjg0IDYuNjQyNTggMzEuMTA5MUw4LjY0MjU4IDMxLjEwOTFaTTguNjA1OTUgMjcuODk3NUM4LjYwNTk1IDI4LjA1ODggOC41NDA0NSAyOC4yMTMyIDguNDI0NDUgMjguMzI1M0w5LjgxNDQgMjkuNzYzNEMxMC4zMjAzIDI5LjI3NDQgMTAuNjA1OSAyOC42MDEgMTAuNjA1OSAyNy44OTc1SDguNjA1OTVaIiBmaWxsPSIjNDQ0NDQ0Ii8+CjwvZz4KPC9zdmc+Cg==);\n}\n\n.dxb-frp-dso-info-header {\n    font-family: Noto Sans Display, Arial, sans-serif;;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 150%;\n}\n\n.dxb-frp-dso-info {\n    font-family: Noto Sans Display, Arial, sans-serif;;\n    margin-left: 8px;\n    font-size: 14px;\n    line-height: 150%;\n    font-weight: 300;\n}\n\n.dxb-frp-dso-info-nights {\n    font-weight: 500;\n}\n\n/*Confirmation Page*/\n.cp-dxb-stopover-outer-container {\n    margin: 0;\n    padding: 0;\n    margin-bottom: 32px;\n}\n\n@media (max-width: 1023px) {\n    .cp-dxb-stopover-outer-container {\n        margin: 0 16px 32px 16px;\n    }\n}\n.cp-dxb-stopover-inner-container {\n    display: flex;\n    flex-direction: row;\n    margin: 0;\n    background-color: #fff;\n    border-radius: .8rem;\n    box-shadow: 0 .4rem 3.1rem 0 rgba(96, 96, 96, .1);\n    gap: 24px;\n    padding: 16px 24px;\n    justify-content: space-between;\n    color: #444;\n}\n\n.cp-dxb-stopover-left-container {\n    display: flex;\n    flex-direction: row;\n    gap: 24px;\n}\n\n.cp-dxb-stopover-img img {\n    border-radius: 8px;\n}\n\n.cp-dxb-stopover-text-container {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    justify-content: center;\n}\n\n.cp-dxb-stopover-header {\n    font-size: 18px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 500;\n    line-height: 27px;\n    letter-spacing: 0.36px;\n}\n\n.cp-dxb-stopover-para {\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-size: 14px;\n    font-weight: 300;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n}\n\n.cp-dxb-stopover-cta-outer-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.cp-dxb-stopover-cta-container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 8px;\n    color: #444;\n    padding: 8px 12px;\n}\n\n.cp-dxb-stopover-cta-container:hover {\n    box-shadow: 0 0 11px rgba(33, 33, 33, .2);\n    border-radius: 8px;\n}\n\n.cp-dxb-stopover-cta-button {\n    font-size: 14px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 400;\n    line-height: 21px;\n    letter-spacing: 0.28px;\n}\n\n.cp-dxb-stopover-cta-icon {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNiAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuMTgzMSAxMi4yNzg3QzUuOTM4OTcgMTIuNTU4MSA1LjkzODk3IDEzLjAxMTEgNi4xODMxIDEzLjI5MDVDNi40MjcyNCAxMy41Njk4IDYuODIzMDcgMTMuNTY5OCA3LjA2NzIgMTMuMjkwNUwxMC44MTY5IDguOTk5MThDMTEuMDYxIDguNzE5NzggMTEuMDYxIDguMjY2NzggMTAuODE2OSA3Ljk4NzM5TDcuMDc4OTQgMy43MDk1NUM2LjgzNDgxIDMuNDMwMTUgNi40Mzg5OCAzLjQzMDE1IDYuMTk0ODQgMy43MDk1NUM1Ljk1MDcxIDMuOTg4OTUgNS45NTA3MSA0LjQ0MTk0IDYuMTk0ODQgNC43MjEzNEw5LjQ5MDc1IDguNDkzMjhMNi4xODMxIDEyLjI3ODdaIiBmaWxsPSIjNjY2NjY2Ii8+Cjwvc3ZnPgo=);\n}",html:'\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\r\n{{!--<div>My Content</div>--}}\r\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\r\n\x3c!-- Type \'d\' to see decisioning helpers --\x3e\r\n\r\n\r\n<div id="dxb-srp-modal-container">\r\n    <form id="multiCitySearch" action=\'/booking/search-results/\' method=\'post\'></form>\r\n    <div class="dxb-srp-modal-overlay">\r\n        <div class="dxb-srp-modal-content">\r\n            <div class="dxb-srp-modal-content-outer-container"> \r\n                <div class="dxb-srp-modal-content-container"> \r\n                    <span class="dxb-srp-modal-content-close-icon">&times;</span>\r\n                    <div class="dxb-srp-header-container">\r\n                        <div class="dxb-srp-header">Add a stopover in Dubai</div>\r\n                        <div class="dxb-srp-header-info">When you fly Emirates you can enjoy two holidays in one. Its easy to include a stopover in your itinerary for no extra fee and add hotels, tours and transfers.</div>\r\n                        <div class="dxb-srp-header-cta">See Dubai stopover benefits</div>\r\n                      </div>\r\n                    <div class="dxb-srp-main-content-container">\r\n                    <div class="dxb-srp-form-container"> \r\n                      <div class="dxb-srp-route-container">\r\n                        <div class="dxb-srp-route">\r\n                          <div class="dxb-srp-outgoing-flight-first-leg dxb-srp-flight">\r\n                            London (LHR) to Dubai (DXB)\r\n                          </div>\r\n                          <div class="dxb-srp-outgoing-flight-first-leg-date dxb-srp-date">\r\n                            Tuesday, 10 June 2025\r\n                          </div>\r\n                        </div>\r\n                        <div class="dxb-srp-nights-selection-container">\r\n                          <div class="dxb-srp-nights-left-icon-container">\r\n                            <span class="dxb-srp-nights-left-icon-container-svg-line"></span>\r\n                            <span class="dxb-srp-nights-left-icon-container-svg"></span>\r\n                            <span class="dxb-srp-nights-left-icon-container-svg-line"></span>\r\n                          </div>\r\n                          <div class="dxb-srp-nights-selection">\r\n                            <div class="dxb-srp-nights-selection-text">How many nights would you like to stay in Dubai?</div>\r\n                            <div class="dxb-srp-nights-selection-controls">\r\n                                <button class="minus-btn counter-btn" id="outgoing-nights-selection-decrement"></button>\r\n                                <div class="night-count" id="outgoing-nights-selection-counter">0 night</div>\r\n                                <button class="plus-btn counter-btn" id="outgoing-nights-selection-increment">+</button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class="dxb-srp-route">\r\n                          <div class="dxb-srp-outgoing-flight-second-leg dxb-srp-flight">\r\n                            Dubai (DXB) to Sydney (SYD)\r\n                          </div>\r\n                          <div class="dxb-srp-outgoing-flight-second-leg-date dxb-srp-date">\r\n                            Wednesday, 11 June 2025\r\n                          </div>\r\n                        </div>\r\n                      </div>   \r\n                      <div class="dxb-srp-stay-info">Your stay in Sydney</div>\r\n                      <div class="dxb-srp-route-container">\r\n                        <div class="dxb-srp-route">\r\n                          <div class="dxb-srp-incoming-flight-first-leg dxb-srp-flight">\r\n                            Sydney (SYD) to Dubai (DXB)\r\n                          </div>\r\n                          <div class="dxb-srp-incoming-flight-first-leg-date dxb-srp-date">\r\n                            Monday, 23 June 2025\r\n                          </div>\r\n                        </div>\r\n                        <div class="dxb-srp-nights-selection-container">\r\n                          <div class="dxb-srp-nights-left-icon-container">\r\n                            <span class="dxb-srp-nights-left-icon-container-svg-line"></span>\r\n                            <span class="dxb-srp-nights-left-icon-container-svg"></span>\r\n                            <span class="dxb-srp-nights-left-icon-container-svg-line"></span>\r\n                          </div>\r\n                          <div class="dxb-srp-nights-selection">\r\n                            <div class="dxb-srp-nights-selection-text">How many nights would you like to stay in Dubai?</div>\r\n                            <div class="dxb-srp-nights-selection-controls">\r\n                                <button class="minus-btn counter-btn" id="incoming-nights-selection-decrement"></button>\r\n                                <div class="night-count" id="incoming-nights-selection-counter">0 night</div>\r\n                                <button class="plus-btn counter-btn" id="incoming-nights-selection-increment">+</button>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class="dxb-srp-route">\r\n                          <div class="dxb-srp-incoming-flight-second-leg dxb-srp-flight">\r\n                            Dubai (DXB) to London (LHR)\r\n                          </div>\r\n                          <div class="dxb-srp-incoming-flight-second-leg-date dxb-srp-date">\r\n                            Monday, 23 June 2025\r\n                          </div>\r\n                        </div>\r\n                      </div>        \r\n                    </div>\r\n                    <div class="dxb-srp-stopover-info-container">\r\n                      <div><img class="dxb-srp-stopover-info-img" src="https://c.ekstatic.net/ecl/personalized-experiences/dubai-frame-w300x450.jpg?h=eYk4F8fppoYDnl8EU4dWNw"></div>\r\n                      <div class="dxb-srp-stopover-info-para-container">\r\n                        <div class="dxb-src-stopover-info-para-sub-container">\r\n                          <div><span class="dxb-src-stopover-info-hotel"></span></div>\r\n                          <div class="dxb-src-stopover-info-para">\r\n                            <div class="dxb-src-stopover-info-para-header">Hotels, tours and transfers</div>\r\n                            <div class="dxb-src-stopover-info-para-subtitle">Add extras to your stopover once you book your flights</div>\r\n                          </div>\r\n                        </div>\r\n                        <div class="dxb-src-stopover-info-para-sub-container">\r\n                          <div><span class="dxb-src-stopover-info-visa"></span></div>\r\n                          <div class="dxb-src-stopover-info-para">\r\n                            <div class="dxb-src-stopover-info-para-header">Dubai Visa</div>\r\n                            <div class="dxb-src-stopover-info-para-subtitle">A free 96-hour visa is available for most nationalities</div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                    <div class="dxb-srp-cta-container">\r\n                      <button class="dxb-srp-cta dxb-srp-cta-cancel dxb-srp-close-modal">Cancel</button>        \r\n                      <a class="dxb-srp-cta-continue-link">\r\n                        <button class="dxb-srp-cta dxb-srp-cta-continue">Continue</button>        \r\n                      </a>\r\n                  </div>\r\n                    <div class="dxb-srp-stopover-mobile-info-container dxb-srp-hidden">\r\n                        <div class="dxb-srp-mobile-header">\r\n                            Dubai stopover benefits\r\n                        </div>\r\n                      <div><img class="dxb-srp-stopover-info-img" src="https://c.ekstatic.net/ecl/personalized-experiences/dubai-frame-w300x450.jpg?h=eYk4F8fppoYDnl8EU4dWNw"></div>\r\n                      <div class="dxb-srp-stopover-info-para-container">\r\n                        <div class="dxb-src-stopover-info-para-sub-container">\r\n                          <div><span class="dxb-src-stopover-info-hotel"></span></div>\r\n                          <div class="dxb-src-stopover-info-para">\r\n                            <div class="dxb-src-stopover-info-para-header">Hotels, tours and transfers</div>\r\n                            <div class="dxb-src-stopover-info-para-subtitle">Add extras to your stopover once you book your flights</div>\r\n                          </div>\r\n                        </div>\r\n                        <div class="dxb-src-stopover-info-para-sub-container">\r\n                          <div><span class="dxb-src-stopover-info-visa"></span></div>\r\n                          <div class="dxb-src-stopover-info-para">\r\n                            <div class="dxb-src-stopover-info-para-header">Dubai Visa</div>\r\n                            <div class="dxb-src-stopover-info-para-subtitle">A free 96-hour visa is available for most nationalities</div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                </div>     \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>',js:'// You can choose how you want to add your HTML by using insertHTMLBefore, insertHTMLAfter, or replaceHTML methods\r\n// e.g insertHTMLAfter(\'.someClassName\'); or insertHTMLAfter(\'body\'); or replaceHTML(\'#myPageId\')\r\ninsertHTMLAfter(\'body\');\r\n\r\n(function () {\r\n  \r\n    // Modal Variables\r\n    var modal_container = document.querySelector("#dxb-srp-modal-container");\r\n    var modal_overlay = document.querySelector(".dxb-srp-modal-overlay");\r\n    var modal_content = document.querySelector(".dxb-srp-modal-content");\r\n    var modal_close = document.querySelectorAll(".dxb-srp-close-modal");\r\n\r\n    // Helper Functions\r\n    function set_attribute (element_name, attribute_name, val) { element_name.setAttribute(attribute_name, val); }\r\n    function remove_attribute (element_name, attribute_name) { element_name.removeAttribute(attribute_name); }\r\n    function addClass (element_name, class_name) { element_name.classList.add(class_name); }\r\n    function removeClass (element_name, class_name) { element_name.classList.remove(class_name); }\r\n    \r\n    // Function to push tracking events into the datalayer\r\n    function dataLayer_push (event_name, action_name, label_name, formDetails) {\r\n        dataLayer.push({\r\n            event: event_name,                           //   event: "EventTrigger.PageBody_PromotionShown",\r\n            category: "A/B Testing and Personalisation",\r\n            action: action_name,                         //   action:   "Promotion Shown",\r\n            label: label_name,                           //   label:    "BX:479:STOPOVER:CustomerVariantSRP",\r\n            formDetails : formDetails,                   //   formDetails: "SRP_Widget"\r\n            value: 0\r\n        })\r\n    }\r\n    \r\n    // Function to push tracking events into the datalayer\r\n    function dataLayer_push_vpv (page_name, previous_page_name) {\r\n         dataLayer.push({\r\n            "event"               : \'virtual_page_view\',\r\n            "page_name"           : page_name,\r\n            "previous_page_name"  : previous_page_name\r\n        })\r\n    }\r\n    \r\n    // Function to Open and Close Modal\r\n    function openModal () { \r\n        modal_container.style.display = \'block\';\r\n        document.body.classList.add("overflow_hidden");\r\n        \r\n        // Push Promotion Shown for Modal and virtual_page_view event for Modal Page into datalayer\r\n        dataLayer_push ("EventTrigger.PageBody_PromotionShown", "Promotion Shown", "BX:479:STOPOVER:CustomerVariantSRP", "SRP_Search");\r\n        dataLayer_push_vpv(\'/ IBE / Search Results / Select a Price/ Dubai Stopover Modal\', \'/ IBE / Search Results / Select a Price\')\r\n    }\r\n    \r\n    function closeModal () {\r\n        modal_container.style.display = \'none\';\r\n        document.body.classList.remove("overflow_hidden");\r\n        \r\n        // Push virtual_page_view event for SRP Page into datalayer\r\n        dataLayer_push_vpv(\'/ IBE / Search Results / Select a Price\', \'/ IBE / Search Results / Select a Price/ Dubai Stopover Modal\')\r\n    }\r\n    \r\n    function close_modal_main () {\r\n        // Close Modal when clicked anywhere outside modal or any element that has dxb-srp-close-modal class\r\n        modal_overlay.addEventListener(\'click\', function (e) {\r\n          if (!modal_content.contains(e.target)) { closeModal(); }\r\n        });\r\n        \r\n        for (let i=0; i<modal_close.length; i++) {\r\n            modal_close[i].onclick = function () { closeModal(); }    \r\n        }\r\n    }\r\n    \r\n    // Cookie Functions\r\n    // Function to get cookie\r\n    function getCookie(name) {\r\n        const value = "; " + document.cookie;\r\n        const parts = value.split("; " + name + "=");\r\n        if (parts.length === 2) \r\n          return parts.pop().split(";").shift();\r\n    }\r\n  \r\n    // Function to set a cookie with an expiry and domain scope\r\n    function setCookie(name, value, time=1) {\r\n        const date = new Date();\r\n        date.setTime(date.getTime() + time); // Set expiry time in milliseconds\r\n        const expires = "expires=" + date.toUTCString();\r\n        const domain = "domain=" + window.location.hostname.split(\'.\').slice(-2).join(\'.\') + ";";\r\n        document.cookie = name + "=" + value + ";" + expires + ";" + domain + "path=/";\r\n    }\r\n    \r\n    // Function to delete a cookie\r\n    function deleteCookie(name) {\r\n        document.cookie = name + \'=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\';\r\n    }\r\n    \r\n    \r\n    // Function to calculate time difference that would be used to display Dubai Stopover\r\n    function calculateDateTimeDifference(dateTimeStr1, dateTimeStr2, assumedYearForFirstDate) {\r\n        const monthMap = {\r\n            \'Jan\': 0, \'Feb\': 1, \'Mar\': 2, \'Apr\': 3, \'May\': 4, \'Jun\': 5,\r\n            \'Jul\': 6, \'Aug\': 7, \'Sep\': 8, \'Oct\': 9, \'Nov\': 10, \'Dec\': 11\r\n        };\r\n\r\n        function parseSingleDateTime(dateTimeStr) {\r\n        const parts = dateTimeStr.split(\' \'); // e.g., ["Tue", "30", "Dec", "23:05"]\r\n        if (parts.length < 4) {\r\n            console.error("Invalid date-time string format:", dateTimeStr);\r\n            return null;\r\n        }\r\n        \r\n        const day = parseInt(parts[1], 10);\r\n        const monthStr = parts[2];\r\n        const monthIndex = monthMap[monthStr];\r\n        \r\n        const timeStr = parts[3];\r\n        const timeParts = timeStr.split(\':\');\r\n        if (timeParts.length < 2) {\r\n            console.error("Invalid time format in date-time string:", dateTimeStr);\r\n            return null;\r\n        }\r\n        const hour = parseInt(timeParts[0], 10);\r\n        const minute = parseInt(timeParts[1], 10);\r\n        \r\n        if (isNaN(day) || monthIndex === undefined || isNaN(hour) || isNaN(minute)) {\r\n            console.error("Failed to parse components from date-time string:", dateTimeStr);\r\n            return null;\r\n        }\r\n            return { day, monthIndex, hour, minute };\r\n        }\r\n        \r\n        const components1 = parseSingleDateTime(dateTimeStr1);\r\n        const components2 = parseSingleDateTime(dateTimeStr2);\r\n        \r\n        if (!components1 || !components2) {\r\n            return "Error: Invalid date-time string format provided.";\r\n        }\r\n        \r\n        // Construct the first date using the assumed year\r\n        const year1 = assumedYearForFirstDate;\r\n        const date1 = new Date(year1, components1.monthIndex, components1.day, components1.hour, components1.minute);\r\n        \r\n        // Infer the year for the second date.\r\n        // Assume date2 always comes after date1.\r\n        // If date2 (in the same year as date1) would be earlier than date1,\r\n        // then date2 must be in the following year.\r\n        let year2;\r\n        const date2_sameYearAsDate1 = new Date(year1, components2.monthIndex, components2.day, components2.hour, components2.minute);\r\n        \r\n        if (date2_sameYearAsDate1 < date1) {\r\n            year2 = year1 + 1;\r\n        } else {\r\n            year2 = year1;\r\n        }\r\n        const date2 = new Date(year2, components2.monthIndex, components2.day, components2.hour, components2.minute);\r\n        \r\n        // Final check for valid date objects\r\n        if (isNaN(date1.getTime()) || isNaN(date2.getTime())) {\r\n            return "Error: Could not create valid Date objects. Check input strings and assumed year.";\r\n        }\r\n        \r\n        // Calculate the difference in milliseconds\r\n        const diffMillis = date2.getTime() - date1.getTime();\r\n        \r\n        if (diffMillis < 0) {\r\n            // This should ideally not happen with the year adjustment logic if date2 is meant to be after date1.\r\n            return "Error: The second date appears to be earlier than the first date, even after year adjustment. Please check your inputs.";\r\n        }\r\n        \r\n        // Convert milliseconds to total hours\r\n        const totalHours = diffMillis / (1000 * 60 * 60);\r\n        \r\n        // Calculate full days and remaining full hours\r\n        const days = Math.floor(totalHours / 24);\r\n        const remainingHours = Math.floor(totalHours % 24);\r\n        \r\n        return {\r\n            days: days,\r\n            hours: remainingHours,\r\n            totalHours: parseFloat(totalHours.toFixed(2)), // For easier reading\r\n            date1Formatted: date1.toString(),\r\n            date2Formatted: date2.toString()\r\n        };\r\n    }\r\n    \r\n    // Diplay Stopover benefits on Mobile Device when clicked on \'See Dubai Stopover benefits" cta\r\n    let header_cta = document.querySelector(".dxb-srp-header-cta");\r\n    let close_icon = document.querySelector(".dxb-srp-modal-content-close-icon");\r\n    let to_hide_classes = [\r\n        \'.dxb-srp-header-container\',\r\n        \'.dxb-srp-main-content-container\',\r\n        \'.dxb-srp-cta-container\'\r\n    ]\r\n    let stopover_info_container = document.querySelector(".dxb-srp-stopover-mobile-info-container");\r\n    let display_stopover_benefits_mobile_boolean = false;\r\n    let mobile_screen = false;\r\n    let stopover_chosen = false;\r\n    \r\n    if (window.innerWidth < 700) {\r\n        mobile_screen = true;\r\n    }\r\n        \r\n    window.addEventListener("resize", () => {\r\n        if (window.innerWidth < 700) {\r\n            mobile_screen = true;\r\n        }\r\n    });\r\n    \r\n    header_cta.onclick = function () {\r\n        for (let i=0; i<to_hide_classes.length; i++) {\r\n            addClass(document.querySelector(to_hide_classes[i]), \'dxb-srp-hidden\');\r\n        }\r\n        removeClass(stopover_info_container, \'dxb-srp-hidden\');\r\n        modal_content.style.width = \'auto\';\r\n        display_stopover_benefits_mobile_boolean = true;\r\n    }\r\n    \r\n    close_icon.onclick = function () {\r\n        if (mobile_screen && display_stopover_benefits_mobile_boolean) {\r\n            for (let i=0; i<to_hide_classes.length; i++) {\r\n                removeClass(document.querySelector(to_hide_classes[i]), \'dxb-srp-hidden\');\r\n            }\r\n            addClass(stopover_info_container, \'dxb-srp-hidden\');\r\n            modal_content.style.width = \'90%\';\r\n            display_stopover_benefits_mobile_boolean = false;\r\n        } else {\r\n            closeModal();\r\n        }\r\n    }\r\n    \r\n    // Get data from API\r\n    function getDataFromAPI(url) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\'GET\', url, false); // false makes the request synchronous\r\n    \r\n        xhr.send();\r\n    \r\n        if (xhr.status === 200) {\r\n            var data = JSON.parse(xhr.responseText);\r\n            return data;\r\n        } else {\r\n            console.error(\'Error:\', xhr.statusText);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    // Function to check if flight_search is there in datalayer\r\n    function getflight_search_event_data () {\r\n        const dl = dataLayer;\r\n        event = dataLayer.filter(x => x.event === "flight_search"); \r\n        return event;\r\n    }\r\n    \r\n    // Function to add days to date\r\n    function addDays_function (date_string, days) {\r\n      var d = new Date(date_string);\r\n      d.setDate(d.getDate() + days);\r\n      return d;\r\n    }\r\n    \r\n    // Function to convert date into different date formats\r\n    function convert_date_to_required_format (date_string, add_days=0, format="display") {\r\n        \r\n        // if date is in date type \'Thu Jun 26 2025 04:00:00 GMT+0400 (Gulf Standard Time)\'\', it will need to be changed to a date_string\r\n        // From new Date("2025-06-26") to "2025-06-26"\r\n        if (date_string.length > 10) {\r\n            // Split the string into parts\r\n            const parts = date_string.split(\', \')[1].split(\' \'); // ["10", "June", "2025"]\r\n            \r\n            const day = parts[0]; // "10"\r\n            const month = new Date(`${parts[1]} 1, 2025`).getMonth() + 1; // Convert "June" to 6\r\n            const year = parts[2]; // "2025"\r\n\r\n            // Format the output as "YYYY-MM-DD"\r\n            date_string = `${year}-${String(month).padStart(2, \'0\')}-${String(day).padStart(2, \'0\')}`;\r\n        }\r\n\r\n        var new_date_string = addDays_function(date_string, add_days);\r\n        \r\n        // Format = "2025-06-20"\r\n        if (format === \'base\') {\r\n          return new_date_string.toISOString().split(\'T\')[0]\r\n        }\r\n        \r\n        // Else return in the format that needs to be displayed in UI\r\n        // i.e. Format = "Tuesday, 10 June 2025"\r\n        new_date_string = new_date_string.toLocaleDateString(\'en-GB\', { weekday: \'long\', day: \'numeric\', month: \'long\', year: \'numeric\' });\r\n        var d_split = new_date_string.split(" ");\r\n        return `${d_split[0]}, ${d_split[1]} ${d_split[2]} ${d_split[3]}`;\r\n    }\r\n    \r\n    // Function to make travel segment\r\n    function construct_travel_segment (departing_airport, arrival_airport, travel_date, class_of_travel) {\r\n        return `{"departure":"${departing_airport}","arrival":"${arrival_airport}","travelDate":"${travel_date}","cabinClass":"${class_of_travel}"}`;\r\n    }\r\n    \r\n    // Variables needed for nights selection\r\n    let totalNights = 0;\r\n    \r\n    // Variables needed for flight_search_event\r\n    let count = 0;\r\n    const maxCount = 50;\r\n    let data = {};\r\n    let search_data_boolean = false;\r\n    let search_stopover_boolean = false;\r\n    let invalid_flight_routes = [\r\n        "BKK-HKG|HKG-BKK",\r\n        "HKG-BKK|BKK-HKG",\r\n        "BCN-MEX|MEX-BCN",\r\n        "MEX-BCN|BCN-MEX",\r\n        "SYD-CHC|CHC-SYD",\r\n        "CHC-SYD|SYD-CHC",\r\n        "MXP-JFK|JFK-MXP",\r\n        "JFK-MXP|MXP-JFK",\r\n        "ATH-EWR|EWR-ATH",\r\n        "EWR-ATH|ATH-EWR",\r\n        "LUN-HRE|HRE-LUN",\r\n        "HRE-LUN|LUN-HRE",\r\n        "SEZ-TNR|TNR-SEZ",\r\n        "TNR-SEZ|SEZ-TNR",\r\n        "CMB-MLE|MLE-CMB",\r\n        "MLE-CMB|CMB-MLE",\r\n        "MIA-BOG|BOG-MIA",\r\n        "BOG-MIA|MIA-BOG",\r\n        "LCA-MLA|MLA-LCA",\r\n        "MLA-LCA|LCA-MLA",\r\n        "GIG-EZE|EZE-GIG",\r\n        "EZE-GIG|GIG-EZE",\r\n        "BKK-DAD|DAD-BKK",\r\n        "DAD-BKK|BKK-DAD",\r\n        "PNH-SIN|SIN-PNH",\r\n        "SIN-PNH|PNH-SIN",\r\n        "BKK-SAI|SAI-BKK",\r\n        "SAI-BKK|BKK-SAI",\r\n        "ABJ-ACC|ACC-ABJ",\r\n        "ACC-ABJ|ABJ-ACC",\r\n        "DSS-CKY|CKY-DSS",\r\n        "CKY-DSS|DSS-CKY"\r\n    ]\r\n    let stopover_outgoing_nights = 0;\r\n    let stopover_incoming_nights = 0;\r\n    \r\n    // Widget to be added to Search Result Page\r\n    var srp_stopover_widget_html = `<div class="dxb-srp-promo-outer-container"><div class="dxb-srp-promo-container">` + \r\n                                    `<div class="dxb-srp-image-container">` + \r\n                                    `<picture>` + \r\n                                      `<source media="(max-width: 560px)" srcset="https://c.ekstatic.net/ecl/personalized-experiences/aerial-view-palm-jumeirah-w100x100.jpg">` + \r\n                                      `<source media="(max-width: 800px)" srcset="https://c.ekstatic.net/ecl/personalized-experiences/aerial-view-palm-jumeirah-w180x100.jpg">` + \r\n                                      `<img src="https://c.ekstatic.net/ecl/personalized-experiences/aerial-view-palm-jumeirah-w270x150.jpg" alt="Responsive image">` + \r\n                                    `</picture>` + \r\n                                    `</div>` + \r\n                                    `<div class="dxb-srp-info-container"><div class="dxb-srp-text-container"><h2>Explore Dubai on a stopover</h2>` + \r\n                                    `<p>Enjoy a few days in Dubai between your flights. Its easy to include a stopover in your trip and then add hotels, tours and transfers.</p></div>` + \r\n                                    `<button class="dxb-srp-button-container-add-button">+ Add a stopover in Dubai</button></div></div>` +\r\n                                    `<span class="dxb-srp-close-button">&times;</span></div>`;\r\n        \r\n    // Widget to be added to Confirmation Page\r\n    let confirm_page_html = `<div class="cp-dxb-stopover-outer-container">` +\r\n                            `<div class="cp-dxb-stopover-inner-container">` +\r\n                            `<div class="cp-dxb-stopover-left-container">` +\r\n                            // `<div class="cp-dxb-stopover-img"><img src="https://c.ekstatic.net/ecl/personalized-experiences/dubai-night-view-w60x90.jpg?h=voKrhs9Z6wIr7Ad_5wWrMQ" /></div>` +\r\n                            `<div class="cp-dxb-stopover-img"><img src="https://c.ekstatic.net/ecl/personalized-experiences/burj-khalifa-view-w60x90.png" /></div>` +\r\n                            `<div class="cp-dxb-stopover-text-container">` +\r\n                            `<div class="cp-dxb-stopover-header">Complete your Dubai Experience</div>` +\r\n                            `<div class="cp-dxb-stopover-para">Choose from hundreds of activities, hotels and restaurants across the city. Add experiences to your planner and enjoy exclusive benefits on your Dubai itinerary.</div></div></div>` +\r\n                            `<div class="cp-dxb-stopover-cta-outer-container">` +\r\n                            `<a  href="" class="cp-dxb-stopover-cta-container">` +\r\n                            `<div class="cp-dxb-stopover-cta-button">Book</div>` +\r\n                            `<div class="cp-dxb-stopover-cta-icon"></div></a></div></div></div>`\r\n        \r\n    // Flight Search Results page\r\n    if (window.location.href.indexOf("emirates.com/booking/search-results/") > -1) {\r\n        \r\n        if (window.location.href.indexOf("dso=t") > -1) {\r\n        } else {\r\n            setCookie(\'dso\', \'\');\r\n        }\r\n        \r\n        let station_codes = getDataFromAPI(\'https://www.emirates.com/service/stations/content?siteLocale=en-GB\');\r\n        \r\n        // Wait for flight results in the first leg to load\r\n        const observer = new MutationObserver((mutationsList, observer) => {\r\n            \r\n          // Flight Search Result Div after which stopover widget will be added\r\n          const targetDiv = document.querySelector(\'.flight-card-collapsed__wrapper\');\r\n          \r\n          // Once Div from first search result page is loaded\r\n          if (targetDiv) {\r\n                \r\n            observer.disconnect(); // Stop observing\r\n              \r\n            //  Check for flight_seach event in datalayer every 100 milliseconds for max 5 seconds\r\n            const intervalId = setInterval(() => {\r\n                count++;\r\n                const flight_search_data = getflight_search_event_data();\r\n                \r\n                if (flight_search_data && flight_search_data.length > 0) {\r\n                    \r\n                    // Clear Interval if flight_search event is found in datalayer\r\n                    clearInterval(intervalId);\r\n                    \r\n                    search_data_boolean = true;\r\n                    data = {\r\n                        "cash_or_redemption"        : flight_search_data[0].cash_or_redemption,\r\n                        "class_of_travel"           : flight_search_data[0].class_of_travel,\r\n                        "destination_airport"       : flight_search_data[0].destination_airport,\r\n                        "destination_country"       : flight_search_data[0].destination_country,\r\n                        "flight_route"              : flight_search_data[0].flight_route,\r\n                        "flight_search_method"      : flight_search_data[0].flight_search_method,\r\n                        "flight_search_type"        : flight_search_data[0].flight_search_type,\r\n                        "inbound_date"              : flight_search_data[0].inbound_date,\r\n                        "number_of_adults_flight"   : flight_search_data[0].number_of_adults_flight,\r\n                        "number_of_children_flight" : flight_search_data[0].number_of_children_flight,\r\n                        "number_of_infant_flight"   : flight_search_data[0].number_of_infant_flight,\r\n                        "number_of_ofw_flight"      : flight_search_data[0].number_of_ofw_flight,\r\n                        "number_of_teenager_flight" : flight_search_data[0].number_of_teenager_flight,\r\n                        "origin_airport"            : flight_search_data[0].origin_airport,\r\n                        "origin_country"            : flight_search_data[0].origin_country,\r\n                        "outbound_date"             : flight_search_data[0].outbound_date,\r\n                        "passenger_count"           : flight_search_data[0].passenger_count,\r\n                        "passenger_type"            : flight_search_data[0].passenger_type,\r\n                        "trip_type"                 : flight_search_data[0].trip_type\r\n                    };\r\n\r\n                    // Variables extracted from flight_search_event\r\n                    let origin                          = data.origin_airport;\r\n                    let destination                     = data.destination_airport;\r\n                    let extra_day_outbound_initial      = 0;\r\n                    let extra_day_inbound_initial       = 0;\r\n                    let non_two_days_stopover_airports  = [\'DEL\',\'BOM\',\'BLR\',\'COK\',\'TRV\',\'AMD\',\'CCU\',\'MAA\',\'HYD\',\'KHI\',\'ISB\',\'PEW\',\'LHE\',\'SKT\',\'DAC\',\'BAH\',\'RUH\',\'JED\',\'MED\',\'DMM\',\'IKA\',\'BGW\',\'BSR\',\'KWI\',\'MCT\',\'BEY\', \'AMM\'];\r\n                    \r\n                    let outbound_date                   = data.outbound_date;\r\n                    let stopover_outbound_date          = convert_date_to_required_format(outbound_date, extra_day_outbound_initial, \'base\');\r\n                    let inbound_date                    = data.inbound_date;\r\n                    let stopover_cutoff_date            = convert_date_to_required_format(inbound_date, -1, \'base\');\r\n                    let stopover_inbound_date           = convert_date_to_required_format(inbound_date, extra_day_inbound_initial, \'base\')\r\n                    let origin_city                     = origin;\r\n                    let destination_city                = destination;\r\n                    let class_of_travel                 = data.class_of_travel;\r\n                    let origin_city_found               = false;\r\n                    let destination_city_found          = false;\r\n                    let no_of_adults                    = data.number_of_adults_flight;\r\n                    let no_of_children                  = data.number_of_children_flight;\r\n                    let no_of_infant                    = data.number_of_infant_flight;\r\n                    let no_of_ofw                       = data.number_of_ofw_flight;\r\n                    let no_of_teenager                  = data.number_of_teenager_flight;\r\n                    let city_codes_found                = false;\r\n                    let trip_type                       = data.trip_type;\r\n                    let flight_route                    = data.flight_route;\r\n                    let show_stopover_inital            = true;\r\n\r\n                    let outbound_date_initial_value = new Date(outbound_date)\r\n                    let inbound_date_initial_value = new Date(inbound_date)\r\n                    let initial_trip_days = ((inbound_date_initial_value - outbound_date_initial_value) / (24 * 60 * 60 * 1000));\r\n                    \r\n                    if (initial_trip_days < 7) {\r\n                        show_stopover_inital = false;\r\n                    }\r\n                            \r\n                    // Update city name from code to full name\r\n                    if (station_codes) {\r\n                        let cities = station_codes.stations;\r\n                        \r\n                        for (let i=0; i<cities.length; i++) {\r\n                            \r\n                            if (cities[i].stationCode === origin) {\r\n                                origin_city = cities[i].city;\r\n                                origin_city_found = true;\r\n                            }\r\n                            \r\n                            if (cities[i].stationCode === destination) {\r\n                                destination_city = cities[i].city;\r\n                                destination_city_found = true;\r\n                            }\r\n                            \r\n                            if (origin_city_found && destination_city_found) {\r\n                                city_codes_found = true;\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                    // Updating boolean to display data only for connecting flights\r\n                    if (trip_type === "Return") {\r\n                        if (origin === "DXB" || destination == "DXB" || invalid_flight_routes.includes(flight_route)) {\r\n                          search_stopover_boolean = false;\r\n                        } else {\r\n                          search_stopover_boolean = true;\r\n                        }\r\n                    }\r\n                    \r\n                    // First Search Result, Dubai stopover widget is inserted after end of this component\r\n                    // Change the 0 value to required number to change the position of the dubai stopover component\r\n                    let first_search_result = document.querySelectorAll(".flight-card-collapsed__wrapper")[0];\r\n                    \r\n                    \r\n                    // Checking Promo Code Variable, if found do not show Dubai Stopover\r\n                    let promo_code_found = false;\r\n                    \r\n                    function update_promo_code_boolean () {\r\n                    \r\n                        let promo_code_variable = dataLayer[0].cugo_promo_code;\r\n                        \r\n                        if (promo_code_variable) {\r\n                            promo_code_found = (promo_code_variable.length > 0);\r\n                        }\r\n                    }\r\n                    \r\n                    update_promo_code_boolean();\r\n                    \r\n\r\n                    // Check if first search result is displayed in UI, search data from dataLayer is present and is valid flight route\r\n                    // Then, add Dubai Stopover Widget\r\n                    if (first_search_result && search_stopover_boolean && search_data_boolean && !promo_code_found && show_stopover_inital) {\r\n                        \r\n                        // once loaded, insert the Widget HMTL after the first flight option \r\n                        first_search_result.insertAdjacentHTML("afterend", srp_stopover_widget_html);\r\n                        \r\n                        // Push Promotion Shown DSO Widget event into datalayer\r\n                        dataLayer_push ("EventTrigger.PageBody_PromotionShown", "Promotion Shown", "BX:479:STOPOVER:CustomerVariantSRP", "SRP_Widget");\r\n                        \r\n                        // Adding controls to open and close modal \r\n                        var add_stopover_button = document.querySelector(".dxb-srp-button-container-add-button");\r\n                        var dxb_srp_promo_outer_container = document.querySelector(".dxb-srp-promo-outer-container"); \r\n                        \r\n                        var widget_close_icon = document.querySelector(\'.dxb-srp-close-button\');\r\n                        widget_close_icon.onclick = function () {\r\n                            dxb_srp_promo_outer_container.style.display = \'none\';\r\n                        }\r\n                        \r\n                        add_stopover_button.onclick = function () { \r\n                            // Open Modal when clicked on Add Dubai Stopover option\r\n                            openModal(); \r\n                            \r\n                            // Push Click event into datalayer\r\n                            dataLayer_push ("EventTrigger.PageBody_PromotionClicked", "Promotion Clicked", "BX:479:STOPOVER:CustomerVariantSRP", "SRP_Widget");\r\n                        }\r\n                        \r\n                        // Close Modal when clicked on close icon or anywhere outside Modal\r\n                        close_modal_main();\r\n                        \r\n                        // Hiding \'Add Dubai Stopover\' Widget, if search results for second or further leg in the trip are being displayed\r\n                        const observer1 = new MutationObserver((mutationsList, observer) => {\r\n                          const targetDiv1 = document.querySelector(\'.selected-flight-amount\');\r\n                          if (targetDiv1) {\r\n                            // once confirmed, hide the Widget HTML\r\n                            addClass(dxb_srp_promo_outer_container, "dxb-srp-hidden");\r\n                            observer1.disconnect(); // Stop observing\r\n                          }\r\n                        });\r\n                        observer1.observe(document.body, { childList: true, subtree: true });\r\n                        \r\n                        // Uppdating Modal content with the selected flight origin and destinations\r\n                        document.querySelector(".dxb-srp-outgoing-flight-first-leg").innerHTML  = (city_codes_found) ? `${origin_city} (${origin}) to Dubai (DXB)`           : `${origin} to DXB`;\r\n                        document.querySelector(".dxb-srp-outgoing-flight-second-leg").innerHTML = (city_codes_found) ? `Dubai (DXB) to ${destination_city} (${destination})` : `DXB to ${destination}`;\r\n                        document.querySelector(".dxb-srp-incoming-flight-first-leg").innerHTML  = (city_codes_found) ? `${destination_city} (${destination}) to Dubai (DXB)` : `${destination} to DXB`;\r\n                        document.querySelector(".dxb-srp-incoming-flight-second-leg").innerHTML = (city_codes_found) ? `Dubai (DXB) to ${origin_city} (${origin})`           : `DXB to ${origin}`;\r\n                        document.querySelector(".dxb-srp-stay-info").innerHTML                  = (city_codes_found) ? `Your stay in ${destination_city}`                    : `Your stay in ${destination}`;\r\n\r\n                        // Updating Modal with selected flight dates\r\n                        // Showing the first leg dates for both flights\r\n                        document.querySelector(".dxb-srp-outgoing-flight-first-leg-date").innerHTML = convert_date_to_required_format(outbound_date);\r\n                        document.querySelector(".dxb-srp-incoming-flight-first-leg-date").innerHTML = convert_date_to_required_format(inbound_date);\r\n                        \r\n                        // Showing the second leg dates for both flights \r\n                        let outgoing_flight_second_leg_date         = document.querySelector(".dxb-srp-outgoing-flight-second-leg-date");\r\n                        let incoming_flight_second_leg_date         = document.querySelector(".dxb-srp-incoming-flight-second-leg-date");\r\n                        outgoing_flight_second_leg_date.innerHTML   = convert_date_to_required_format(stopover_outbound_date);\r\n                        incoming_flight_second_leg_date.innerHTML   = convert_date_to_required_format(stopover_inbound_date);\r\n                        let leg_dates_arr                           = [outgoing_flight_second_leg_date, incoming_flight_second_leg_date];          // Second Leg Date Elements Array\r\n\r\n                        // Listing night control elements that will be interacted with and need to get updated based on user interaction\r\n                        const outgoingNightsCountElement = document.querySelector(\'#outgoing-nights-selection-counter\'); // Outgoing Nights Display\r\n                        const incomingNightsCountElement = document.querySelector(\'#incoming-nights-selection-counter\'); // Incoming Nights Display\r\n                        let nights_display_elements = [outgoingNightsCountElement, incomingNightsCountElement];          // Night Display Array\r\n                        \r\n                        let outgoingNights = parseInt(outgoingNightsCountElement.textContent);                           // Outgoing Nights Value\r\n                        let incomingNights = parseInt(incomingNightsCountElement.textContent);                           // Incoming Nights Value\r\n                        let nights_display_values = [outgoingNights, incomingNights];                                    // Night Value Array\r\n                        \r\n                        // Night Control (Decrement / Increment) Buttons \r\n                        let outgoingdecrementNightsElement = document.querySelector(\'#outgoing-nights-selection-decrement\');\r\n                        let outgoingincrementNightsElement = document.querySelector(\'#outgoing-nights-selection-increment\');\r\n                        let incomingdecrementNightsElement = document.querySelector(\'#incoming-nights-selection-decrement\');\r\n                        let incomingincrementNightsElement = document.querySelector(\'#incoming-nights-selection-increment\');\r\n                        incomingdecrementNightsElement.disabled = true;\r\n                        outgoingincrementNightsElement.disabled = (stopover_outbound_date >= stopover_cutoff_date);\r\n                        let nights_control_elements = [outgoingdecrementNightsElement, outgoingincrementNightsElement, incomingdecrementNightsElement, incomingincrementNightsElement];\r\n                        \r\n                        // Update Night Selection as per user click\r\n                        function updateNightsDisplay(nightCount) {\r\n                            return nightCount <= 1 ? nightCount + \' night\' : nightCount + \' nights\';\r\n                        }\r\n                        \r\n                        function updateControlsDisplay() {\r\n                            outgoingdecrementNightsElement.disabled = outgoingNights === 0;\r\n                            outgoingincrementNightsElement.disabled = outgoingNights === 4;\r\n                            incomingdecrementNightsElement.disabled = incomingNights === 0;\r\n                            incomingincrementNightsElement.disabled = incomingNights === 4;\r\n                        }\r\n                        convert_date_to_required_format(outbound_date, outgoingNights, \'base\')\r\n                        \r\n                        function updateDates () {\r\n                            \r\n                            let extra_day_outbound = 0;\r\n                            let extra_day_inbound  = 0;\r\n                            \r\n                            let non_two_days_stopover_airports = [\'DEL\',\'BOM\',\'BLR\',\'COK\',\'TRV\',\'AMD\',\'CCU\',\'MAA\',\'HYD\',\'KHI\',\'ISB\',\'PEW\',\'LHE\',\'SKT\',\'DAC\',\'BAH\',\'RUH\',\'JED\',\'MED\',\'DMM\',\'IKA\',\'BGW\',\'BSR\',\'KWI\',\'MCT\',\'BEY\'];\r\n                            \r\n                            if (non_two_days_stopover_airports.includes(origin)) {\r\n                            } else {\r\n                                extra_day_outbound = 1;\r\n                            }\r\n                            \r\n                            if (non_two_days_stopover_airports.includes(destination)) {\r\n                            } else {\r\n                                extra_day_inbound  = 1;\r\n                            }\r\n                            \r\n                            // Dates being updated\r\n                            stopover_outbound_date = convert_date_to_required_format(outbound_date, outgoingNights + extra_day_outbound, \'base\');\r\n                            stopover_inbound_date = convert_date_to_required_format(inbound_date, incomingNights + extra_day_inbound, \'base\');\r\n                            if (stopover_outbound_date >= stopover_cutoff_date) {\r\n                                outgoingincrementNightsElement.disabled = true;\r\n                            } else {\r\n                                // outgoingincrementNightsElement.disabled = false;\r\n                            }\r\n                            \r\n                            // Stopover Date Displays being updated\r\n                            outgoingNightsCountElement.innerHTML = updateNightsDisplay(outgoingNights);\r\n                            incomingNightsCountElement.innerHTML = updateNightsDisplay(incomingNights);\r\n                            \r\n                            // Number of Nights Stay Display being updated\r\n                            outgoing_flight_second_leg_date.innerHTML = convert_date_to_required_format(stopover_outbound_date);\r\n                            incoming_flight_second_leg_date.innerHTML = convert_date_to_required_format(stopover_inbound_date);\r\n                            \r\n                            if (outgoingNights === 0) {\r\n                                outgoing_flight_second_leg_date.innerHTML = convert_date_to_required_format(outbound_date)\r\n                            }\r\n                            if (incomingNights === 0) {\r\n                                incoming_flight_second_leg_date.innerHTML = convert_date_to_required_format(inbound_date)\r\n                            }\r\n                        }\r\n                        \r\n                        for (let i=0; i<nights_control_elements.length; i++) {\r\n                            nights_control_elements[i].onclick = function () {\r\n                                \r\n                                // Using click type to define whether to increase or decrease nights\r\n                                let click_type = \'decrement\';\r\n                                if (i === 1 || i === 3) { click_type = \'increment\'; }\r\n                                \r\n                                // Using leg to define whether it is first or second leg of the return flight\r\n                                let leg = \'first\';\r\n                                if (i === 2 || i === 3) { leg = \'second\'; }\r\n                                \r\n                                if (click_type == \'decrement\' && leg == \'first\') {\r\n                                        if (outgoingNights>0) { outgoingNights--; totalNights--;}\r\n                                }\r\n                                if (click_type == \'decrement\' && leg == \'second\') {\r\n                                        if (incomingNights>0) { incomingNights--; totalNights--;}\r\n                                }\r\n                                if (click_type == \'increment\' && leg == \'first\') {\r\n                                        if (outgoingNights<4) { outgoingNights++; totalNights++;}\r\n                                }\r\n                                if (click_type == \'increment\' && leg == \'second\') {\r\n                                        if (incomingNights<4) { incomingNights++; totalNights++;}\r\n                                }\r\n                                updateControlsDisplay();\r\n                                updateDates();\r\n                            }\r\n                        }\r\n                        \r\n                        // Form params needed for making a multi-city search\r\n                        let passenger_arr = [];\r\n                        if (no_of_adults > 0)   { passenger_arr.push(`{"type":"ADT","count":${no_of_adults}}`) };\r\n                        if (no_of_children > 0) { passenger_arr.push(`{"type":"CHD","count":${no_of_children}}`) };\r\n                        if (no_of_infant > 0)   { passenger_arr.push(`{"type":"INF","count":${no_of_infant}}`) };\r\n                        if (no_of_ofw > 0)      { passenger_arr.push(`{"type":"OFW","count":${no_of_ofw}}`) };\r\n                        if (no_of_teenager > 0) { passenger_arr.push(`{"type":"GBE","count":${no_of_teenager}}`) };\r\n                        let passenger_data = `[${passenger_arr}]`;\r\n                        \r\n                        // Starting a new multi-city flight search when user has chosen stopover for atleast 1 night\r\n                        let continue_search = document.querySelector(".dxb-srp-cta-continue-link");\r\n                        \r\n                        continue_search.addEventListener(\'click\', function() {\r\n                            if (totalNights >= 1) {\r\n                                dataLayer_push ("EventTrigger.PageBody_PromotionClicked", "Promotion Clicked", "BX:479:STOPOVER:CustomerVariantSRP", "SRP_Search");\r\n                                \r\n                                let segment_arr = [];\r\n                                if (outgoingNights === 0)  {\r\n                                    segment_arr.push(construct_travel_segment(origin, destination, outbound_date, class_of_travel));\r\n                                } else {\r\n                                    segment_arr.push(construct_travel_segment(origin, "DXB", outbound_date, class_of_travel));\r\n                                    segment_arr.push(construct_travel_segment("DXB", destination, stopover_outbound_date, class_of_travel));\r\n                                    stopover_outgoing_nights = ((new Date(stopover_outbound_date)) - (new Date(outbound_date)))/(24*60*60*1000);\r\n                                }\r\n                                \r\n                                if (incomingNights === 0)  {\r\n                                    segment_arr.push(construct_travel_segment(destination, origin, inbound_date, class_of_travel));\r\n                                } else {\r\n                                    segment_arr.push(construct_travel_segment(destination, "DXB", inbound_date, class_of_travel));\r\n                                    segment_arr.push(construct_travel_segment("DXB", origin, stopover_inbound_date, class_of_travel));\r\n                                    stopover_incoming_nights = ((new Date(stopover_inbound_date)) - (new Date(inbound_date)))/(24*60*60*1000);\r\n                                }\r\n                                \r\n                                let segment_data = `[${segment_arr}]`;\r\n                                let raw_form_data = \'{"journeyType":"MULTICITY","bookingType":"REVENUE","passengers":\' + passenger_data + \',\'\r\n                                                     + \'"segments":\' + segment_data + \',\'\r\n                                                     + \'"referrer":"/booking/search-results","source":"trip-summary"}\';\r\n                                let encoded_form_data = btoa(raw_form_data);\r\n                                \r\n                                set_attribute(continue_search, \'href\', `https://www.emirates.com/booking/search-results/?searchRequest=${encoded_form_data}&dso=t`);\r\n                                setCookie(\'dso\', `srp,${stopover_outgoing_nights},${stopover_incoming_nights}`, 30 * 60 * 1000)\r\n                                \r\n                                stopover_chosen = true;\r\n                            } else {\r\n                                closeModal();\r\n                            }\r\n                            \r\n                        })\r\n                    }\r\n                    \r\n                } else {\r\n                }\r\n            \r\n                // Check if condition is met\r\n                if (count >= maxCount) {\r\n                    clearInterval(intervalId);\r\n                }\r\n            }, 500);\r\n          }\r\n        });\r\n        observer.observe(document.body, { childList: true, subtree: true });\r\n        \r\n        // Flight review page\r\n        // Adding dubai stopover info on flight review page\r\n        let dso_data = getCookie(\'dso\')\r\n        \r\n        if (dso_data !== undefined) {\r\n            const observer2 = new MutationObserver((mutationsList, observer) => {\r\n                const targetDiv2 = document.querySelector(\'.flight-card-price-review__wrapper\');\r\n                if (targetDiv2) {\r\n                    observer2.disconnect(); // Stop observing\r\n                    \r\n                    let dso_click_page = dso_data.split(\',\')[0];\r\n                    let o_nights = dso_data.split(\',\')[1];\r\n                    let i_nights = dso_data.split(\',\')[2];\r\n                    \r\n                    let dso_dates = document.querySelectorAll(\'.flight-info__date-time-details__date\');\r\n                    let dso_times = document.querySelectorAll(\'.flight-info__date-time-details__time\');\r\n                    \r\n                    let flight_review_cards = document.querySelectorAll(".flight-card-price-review__wrapper");\r\n                    const assumedYear = 2025;\r\n                    \r\n                    if ((o_nights > 0) && (i_nights > 0)) {\r\n                            let first_flight_dso_arr = `${dso_dates[1].textContent} ${dso_times[1].textContent}`;\r\n                            let first_flight_dso_dep = `${dso_dates[2].textContent} ${dso_times[2].textContent}`;\r\n                            let second_flight_dso_arr = `${dso_dates[5].textContent} ${dso_times[5].textContent}`;\r\n                            let second_flight_dso_dep = `${dso_dates[6].textContent} ${dso_times[6].textContent}`;\r\n\r\n                            const difference1 = calculateDateTimeDifference(first_flight_dso_arr, first_flight_dso_dep, assumedYear);\r\n                            let stopover_days_1 = difference1.days\r\n                            let stopover_day_text_1 = stopover_days_1 > 0 ? (stopover_days_1 === 1 ? `1 day, ` : `${stopover_days_1} days, `) : \'\';\r\n                            let stopover_hours_1 = difference1.hours\r\n                            let stopover_hour_text_1 = stopover_hours_1 > 0 ? (stopover_hours_1 === 1 ? `1 hour` : `${stopover_hours_1} hours`) : \'\';\r\n                            if (typeof difference1 === \'string\') {\r\n                            } else {\r\n                                flight_review_cards[0].insertAdjacentHTML("afterend", `<div class="dxb-frp-dso-info-outer-container"><div class="dxb-frp-dso-info-inner-container"><span class="dxb-frp-skyline-svg"></span><div class="dxb-frp-dso-info-header">Dubai stopover</div><div class="dxb-frp-dso-info">You have chosen to stay in dubai for <span class="dxb-frp-dso-info-nights">${stopover_day_text_1}${stopover_hour_text_1}</span></div></div></div>`)\r\n                            }\r\n                            \r\n                            const difference2 = calculateDateTimeDifference(second_flight_dso_arr, second_flight_dso_dep, assumedYear);\r\n                            let stopover_days_2 = difference2.days\r\n                            let stopover_day_text_2 = stopover_days_2 > 0 ? (stopover_days_2 === 1 ? `1 day, ` : `${stopover_days_2} days, `) : \'\';\r\n                            let stopover_hours_2 = difference2.hours\r\n                            let stopover_hour_text_2 = stopover_hours_2 > 0 ? (stopover_hours_2 === 1 ? `1 hour` : `${stopover_hours_2} hours`) : \'\';\r\n                            if (typeof difference2 === \'string\') {\r\n                            } else {\r\n                                flight_review_cards[flight_review_cards.length-2].insertAdjacentHTML("afterend", `<div class="dxb-frp-dso-info-outer-container"><div class="dxb-frp-dso-info-inner-container"><span class="dxb-frp-skyline-svg"></span><div class="dxb-frp-dso-info-header">Dubai stopover</div><div class="dxb-frp-dso-info">You have chosen to stay in dubai for <span class="dxb-frp-dso-info-nights">${stopover_day_text_2}${stopover_hour_text_2}</span></div></div></div>`)\r\n                            }\r\n                    }\r\n                    else {\r\n                        if (o_nights > 0) {\r\n                            let flight_dso_arr = `${dso_dates[1].textContent} ${dso_times[1].textContent}`;\r\n                            let flight_dso_dep = `${dso_dates[2].textContent} ${dso_times[2].textContent}`;\r\n                            const difference1 = calculateDateTimeDifference(flight_dso_arr, flight_dso_dep, assumedYear);\r\n                            let stopover_days = difference1.days\r\n                            let stopover_day_text = stopover_days > 0 ? (stopover_days === 1 ? `1 day, ` : `${stopover_days} days, `) : \'\';\r\n                            let stopover_hours = difference1.hours\r\n                            let stopover_hour_text = stopover_hours > 0 ? (stopover_hours === 1 ? `1 hour` : `${stopover_hours} hours`) : \'\';\r\n                            flight_review_cards[0].insertAdjacentHTML("afterend", `<div class="dxb-frp-dso-info-outer-container"><div class="dxb-frp-dso-info-inner-container"><span class="dxb-frp-skyline-svg"></span><div class="dxb-frp-dso-info-header">Dubai stopover</div><div class="dxb-frp-dso-info">You have chosen to stay in dubai for <span class="dxb-frp-dso-info-nights">${stopover_day_text}${stopover_hour_text}</span></div></div></div>`)\r\n                        }\r\n                        if (i_nights > 0) {\r\n                            let flight_dso_arr = `${dso_dates[3].textContent} ${dso_times[3].textContent}`;\r\n                            let flight_dso_dep = `${dso_dates[4].textContent} ${dso_times[4].textContent}`;\r\n                            const difference1 = calculateDateTimeDifference(flight_dso_arr, flight_dso_dep, assumedYear);\r\n                            let stopover_days = difference1.days\r\n                            let stopover_day_text = stopover_days > 0 ? (stopover_days === 1 ? `1 day, ` : `${stopover_days} days, `) : \'\';\r\n                            let stopover_hours = difference1.hours\r\n                            let stopover_hour_text = stopover_hours > 0 ? (stopover_hours === 1 ? `1 hour` : `${stopover_hours} hours`) : \'\';\r\n                            flight_review_cards[flight_review_cards.length-2].insertAdjacentHTML("afterend", `<div class="dxb-frp-dso-info-outer-container"><div class="dxb-frp-dso-info-inner-container"><span class="dxb-frp-skyline-svg"></span><div class="dxb-frp-dso-info-header">Dubai stopover</div><div class="dxb-frp-dso-info">You have chosen to stay in dubai for <span class="dxb-frp-dso-info-nights">${stopover_day_text}${stopover_hour_text}</span></div></div></div>`)\r\n                        }\r\n                    }\r\n                    \r\n                    let changeSelectionButtons = document.querySelectorAll(\'.flight-card-price-review__change-selection button\');\r\n                    \r\n                    for (let i=0; i<changeSelectionButtons.length; i++) {\r\n                        changeSelectionButtons[i].onclick = function () {\r\n                            observer2.observe(document.body, { childList: true, subtree: true });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            observer2.observe(document.body, { childList: true, subtree: true });\r\n        }\r\n    }\r\n    \r\n    // Flight confirmation Page\r\n    if (window.location.href.indexOf("emirates.com/booking/confirmation/") > -1) {\r\n        \r\n        let dl = dataLayer;\r\n        let dl_data = dl[0];\r\n        let dl_country_code = dl_data.countryCode;\r\n        let eligible_countries = [\'BH\', \'CA\', \'EG\', \'DE\', \'GH\', \'KE\', \'KW\', \'LB\', \'NG\', \'PK\', \'ZA\', \'CH\', \'TZ\', \'UG\', \'GB\', \'ZM\', \'ZW\'];\r\n        let dso_data_1 = getCookie(\'dso\');\r\n        \r\n        let dex_link = `https://www.emirates.com/${dl_country_code.toLowerCase()}/english/dubai-experience/`;\r\n\r\n        if (dso_data_1 !== undefined && eligible_countries.includes(dl_country_code)) {\r\n            const observer3 = new MutationObserver((mutationsList, observer) => {\r\n                const targetDiv3 = document.querySelector(\'.booking-header-card\');\r\n                if (targetDiv3) {\r\n                    observer3.disconnect(); // Stop observing\r\n                    \r\n                    // Insert HTML for Booking Page\r\n                    targetDiv3.insertAdjacentHTML("afterend", confirm_page_html);\r\n                    dataLayer_push ("EventTrigger.PageBody_PromotionShown", "Shown", "BX:479:STOPOVER:CustomerVariantSRP", "BCP_Widget");\r\n                    \r\n                    // Update inserted HTML\'s CTA with relevant link and onclick function\r\n                    let confirm_page_cta_element = document.querySelector(\'.cp-dxb-stopover-cta-container\');\r\n                    set_attribute(confirm_page_cta_element, \'href\', dex_link);\r\n                    confirm_page_cta_element.onclick = function () {\r\n                       dataLayer_push ("EventTrigger.PageBody_PromotionClicked", "Clicked", "BX:479:STOPOVER:CustomerVariantSRP", "BCP_Widget");\r\n                    }\r\n                }\r\n            });\r\n            observer3.observe(document.body, { childList: true, subtree: true });\r\n        }\r\n    }\r\n    \r\n})();'}}],notificationEnabled:!1},{ref:"120dab7e-68eb-4d05-a95b-5a3cb2ac6a0c",name:"nbo_ibe_api_test",revision:43,archived:!1,target:{script:'// Use client-side JavaScript to more specifically target users\n// NOTE: When your targeting conditions are met you must call targetingPassed() \n\n\nfunction filter() {\n    if (dataLayer && dataLayer.length > 0) {\n        var datalayerData = dataLayer[0];\n        \n        if (datalayerData.pageName === "/ IBE / Passenger / Enter Passenger Details"\n            && datalayerData.platformType === "Desktop"\n            && datalayerData.languageCode === "EN"\n            && datalayerData.countryCode !== "US") {\n                targetingPassed();\n        }\n    }\n}\n\nfilter();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"cdda420b-4d5c-437a-bd2c-2812f777708e",lowSplit:1,highSplit:120}],coupled:!1},variants:[{ref:"1bcb623d-15d4-44be-8eee-6edc3092e842",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:"// You can choose how you want to add your HTML by using insertHTMLBefore, insertHTMLAfter, or replaceHTML methods\n// e.g insertHTMLAfter('.someClassName'); or insertHTMLAfter('body'); or replaceHTML('#myPageId')\n\n/*\n\n(function () {\n  // Add statements here\n})();\n\n*/"}},{ref:"cdda420b-4d5c-437a-bd2c-2812f777708e",name:"Variant 1",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'// You can choose how you want to add your HTML by using insertHTMLBefore, insertHTMLAfter, or replaceHTML methods\n// e.g insertHTMLAfter(\'.someClassName\'); or insertHTMLAfter(\'body\'); or replaceHTML(\'#myPageId\')\n\n\n\n(function () {\n  // Add statements here\n  \n    const mid                                       = "{{mid}}";\n    const trip_type                                 = "{{trip_type}}";\n    const include_business                          = "{{include_business}}";\n    const include_first                             = "{{include_first}}";\n    const legs_include_premium_eco                  = "{{legs_include_premium_eco}}";\n    const true_origin                               = "{{true_origin}}";\n    const true_destination                          = "{{true_destination}}";\n    const currency                                  = "{{currency}}";\n    const tickets_count                             = "{{tickets_count}}";\n    const teen_pax_count                            = "{{teen_pax_count}}";\n    const infant_pax_count                          = "{{infant_pax_count}}";\n    const senior_pax_count                          = "{{senior_pax_count}}";\n    const booking_date_month                        = "{{booking_date_month}}";\n    const booking_date_season                       = "{{booking_date_season}}";\n    const outbound_date_season                      = "{{outbound_date_season}}";\n    const outbound_dow                              = "{{outbound_dow}}";\n    const outbound_date_month                       = "{{outbound_date_month}}";\n    const ancillaryProductRankUpgrade               = "{{ancillaryProductRankUpgrade}}";\n    const ancillaryProductLabelUpgrade              = "{{ancillaryProductLabelUpgrade}}";\n    const ancillaryProductLabelBaggage              = "{{ancillaryProductLabelBaggage}}";\n    const ancillaryProductPurchasePropensityLabel   = "{{ancillaryProductPurchasePropensityLabel}}";\n    const prediction_time                           = "{{prediction_time}}";\n    const marketing_id                              = "{{marketing_id}}";\n    const ancillaryProductRankBaggage               = "{{ancillaryProductRankBaggage}}";\n    const ancillaryProductLabelLounge               = "{{ancillaryProductLabelLounge}}";\n    const ancillaryProductRankLounge                = "{{ancillaryProductRankLounge}}";\n    const ancillaryProductLabelSeat                 = "{{ancillaryProductLabelSeat}}";\n    const ancillaryProductRankSeat                  = "{{ancillaryProductRankSeat}}";\n  \n})();\n'}}],notificationEnabled:!1},{ref:"028fe2a7-fac7-4e9c-8059-3a9e99cc30f2",name:"BOX-468 - NBO",revision:108,archived:!1,target:{script:'// Use client-side JavaScript to more specifically target users\n// NOTE: When your targeting conditions are met you must call targetingPassed() \n\nfunction filter() {\n    if (dataLayer && dataLayer.length > 0) {\n        var datalayerData = dataLayer[0];\n        \n        if (datalayerData.pageName === "/ Home"\n            && datalayerData.platformType === "Desktop"\n            && datalayerData.languageCode === "EN"\n            && datalayerData.countryCode !== "US"\n            && datalayerData.visitorLoginState === "Logged In") {\n                targetingPassed();\n        }\n    }\n}\n\nfilter();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"7789bd86-49b8-466e-a353-d82af6c6811d",lowSplit:1,highSplit:120}],coupled:!1},variants:[{ref:"f8d2f9a9-1af8-459e-8951-c7f22cd75304",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'\r\n// Variables from API Section\r\nvar has_DXB_Stopover                        = {{has_DXB_Stopover}};\r\nvar skywards_tier                           = "{{skywards_tier}}";\r\nvar ancillaryProductPurchasePropensityLabel = "{{ancillaryProductPurchasePropensityLabel}}";\r\nvar ancillaryProductRankSeat                = "{{ancillaryProductRankSeat}}";\r\nvar ancillaryProductRankBaggage             = "{{ancillaryProductRankBaggage}}";\r\nvar ancillaryProductRankLounge              = "{{ancillaryProductRankLounge}}";\r\n\r\n// Used to change CSS of the Component to make it responsive\r\nvar width   = window.innerWidth;\r\n\r\n// Sorting Ancillary Array\r\nvar ancillaryRanks = [\r\n    {name: "Seat",    value: ancillaryProductRankSeat},\r\n    {name: "Baggage", value: ancillaryProductRankBaggage},\r\n    {name: "Lounge",  value: ancillaryProductRankLounge}\r\n]\r\nancillaryRanks.sort(function(x, y) { return x.value - y.value; });\r\n\r\n// Function to implement Boxever Tracking\r\nfunction sendBoxeverEvent(cmp, eventType) {\r\n    let eventLabel = `BOX468_${eventType}`;\r\n    var event = {\r\n        channel: "WEB",\r\n        type: eventLabel,\r\n        page: dataLayer[0].pageName,\r\n        pos: _boxever_settings.pointOfSale,\r\n        browser_id: Boxever.getID(),\r\n        ext: {\r\n            "component": cmp\r\n        }\r\n    };\r\n    Boxever.eventCreate(event, function (data) { }, "json");\r\n}\r\n\r\n// Function to implement GA Tracking\r\nfunction sendGAEvent(type) {\r\n    var event_label = "";\r\n    switch (type) {\r\n        case \'Baggage\':\r\n            event_label = \'a\';\r\n            break;\r\n        case \'Seat\':\r\n            event_label = \'b\';\r\n            break;\r\n        case \'Lounge\':\r\n            event_label = \'c\';\r\n            break;\r\n        case \'Booking\':\r\n            event_label = \'d\';\r\n            break;\r\n        default:\r\n            event_label = \'d\';\r\n    }\r\n    \r\n    dataLayer.push({\r\n        event    : "EventTrigger.PageBody_PromotionSuppressed",\r\n        category : "A/B Testing and Personalisation",\r\n        action   : `Promotion Supressed`,\r\n        label    : `BX:468${event_label}:Control`,\r\n        value    : 0\r\n    });\r\n}\r\n\r\n// Function to Add HMTL Components with correct links into page\r\nfunction common_render(component_type) {\r\n    sendBoxeverEvent(component_type, "SUPPRESSED");\r\n    setTimeout(() => sendGAEvent(component_type), 500);\r\n}\r\n// Helper Functions Section Ends\r\n// <----------------------------\x3e\r\n\r\n// Main Function Starts                        \r\nfunction main (ancillary_array) {\r\n    \r\n    // If Overall Product Propensity Label is Low\r\n    if (ancillaryProductPurchasePropensityLabel == "Low") {\r\n        common_render("Booking");\r\n        \r\n    // If Overall Product Propensity Label is High or Medium\r\n    } else if ((ancillaryProductPurchasePropensityLabel === "Medium") || (ancillaryProductPurchasePropensityLabel === "High")) {\r\n        \r\n        // Check if their top ranked ancillary is Seat\r\n        if ((ancillary_array.length > 0) && (ancillary_array[0].name == "Seat"))    {\r\n            common_render("Seat");\r\n        }\r\n        \r\n        // Check if their top ranked ancillary is Baggage\r\n        else if ((ancillary_array.length > 0) && (ancillary_array[0].name == "Baggage")) {\r\n            common_render("Baggage");\r\n        }\r\n        \r\n        // Check if their top ranked ancillary is Lounge\r\n        else if ((ancillary_array.length > 0) && (ancillary_array[0].name == "Lounge"))  {\r\n            if (((skywards_tier == "Blue") || (skywards_tier == "Silver")) && has_DXB_Stopover && (width >= 769)) {\r\n                common_render("Lounge");\r\n            } else {\r\n                main(ancillary_array.slice(1));\r\n            }\r\n        }\r\n        \r\n        // If none of the ancillaries match the criteria, then just show Manage Booking Component\r\n        else {\r\n            common_render("Booking");\r\n        }\r\n    }\r\n}\r\n// Main Function Ends\r\n// <----------------------------\x3e\r\n\r\nmain(ancillaryRanks);\r\n'}},{ref:"7789bd86-49b8-466e-a353-d82af6c6811d",name:"BOX-468",assets:{css:'\r\n/** {*/\r\n/*    box-sizing: inherit;*/\r\n/*    font-family: HelveticaNeue, sans-serif;*/\r\n/*}*/\r\n\r\n.booking-Rectangle-1 {\r\n    width: 100%;\r\n    height: 100$;\r\n    display: flex;\r\n    border-radius: 3px;\r\n    box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\r\n    background-color: #fff;\r\n    margin: 47px auto;\r\n}\r\n\r\n.booking-Bitmap {\r\n    max-width: 257px;\r\n    max-height: 257px;\r\n    flex: 1;\r\n    display: flex;\r\n    justify-content: left;\r\n    align-items: center;\r\n}\r\n\r\n.booking-Bitmap img {\r\n    max-width: 257px;\r\n    max-height: 257px;\r\n    object-fit: cover;\r\n}\r\n\r\n.booking-content {\r\n    flex: 1;\r\n    padding: 40px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n}\r\n\r\n.booking-details {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.booking-details:after {\r\n    background-image: linear-gradient(90deg, #d8d8d8 60%, transparent 0);            \r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    height: 1px;\r\n    background-repeat: repeat-x;\r\n    background-position: 50%;\r\n    background-size: 10px 1px;\r\n    background-clip: content-box;\r\n    content: "";\r\n    margin-top: 5px;\r\n}\r\n\r\n.booking-remaining-days {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 10px;\r\n    font-weight: bold;\r\n    letter-spacing: 4px;\r\n    color: #333;\r\n    text-transform: uppercase;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: 4px;\r\n    text-align: left;\r\n}\r\n\r\n.booking-city {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    margin-top: 10px;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n}\r\n\r\n.booking-red-line {\r\n    width: 62px;\r\n    height: 2px;\r\n    background-color: #c60c30;\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.booking-date {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n}\r\n\r\n.booking-bottom-row {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    margin-top: 5px;\r\n}\r\n\r\n.booking-bottom-row a {\r\n    text-decoration: none;\r\n}\r\n\r\n.booking-reference {\r\n    display: flex;\r\n    align-items: flex-end;\r\n}\r\n\r\n.booking-Booking-Refere {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 14px;\r\n    color: #333;\r\n    font-weight: normal;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n}\r\n\r\n.booking-reference_no {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    margin-left: 3px;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n    margin-right: 35px;\r\n}\r\n\r\n.booking-Rectangle-3 {\r\n    width: 170px;\r\n    height: 40px;\r\n    padding: 0px 20px;\r\n    border: solid 1px #333;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 1px 0 rgba(0, 0, 0, 0.1);\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-radius: 0.3rem;\r\n}\r\n\r\n.booking-Rectangle-3:hover {\r\n    box-shadow: 0 0 .6rem 0 rgba(0, 0, 0, .5);\r\n}\r\n\r\n.booking-manage {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: center;\r\n}\r\n    \r\n/*Ancillary CSS*/\r\n\r\n.ancillary-Rectangle-1 {\r\n    width: 100%;\r\n    display: flex;\r\n    border-radius: 3px;\r\n    box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\r\n    background-color: #fff;\r\n    margin: 47px auto;\r\n}\r\n\r\n.ancillary-content {\r\n    flex: 1;\r\n    padding: 24px 40px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 15px;\r\n}\r\n\r\n.ancillary-top-section {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.ancillary-section {\r\n    position: relative;\r\n    height: 5px;\r\n}\r\n\r\n.ancillary-section:after {\r\n    position: absolute;\r\n    content: "";\r\n    width: 100%;\r\n    height: 3px;\r\n    background-image: linear-gradient(90deg, #d8d8d8 60%, transparent 0);\r\n    background-position: center;\r\n    background-size: 10px 1px;\r\n    background-repeat: repeat-x;            \r\n}\r\n\r\n.ancillary-details {\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n}\r\n\r\n.ancillary-reference-section {\r\n    text-align: right;\r\n    margin-top: 15px;\r\n}\r\n\r\n.ancillary-reference {\r\n    margin-bottom: 10px;\r\n    font-size: 14px;\r\n    color: #333;\r\n}\r\n\r\n.ancillary-manage-text {\r\n    color: #333;\r\n    font-size: 14px;\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n}\r\n\r\n.ancillary-remaining-days {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 10px;\r\n    font-weight: bold;\r\n    letter-spacing: 4px;\r\n    color: #333;\r\n    text-transform: uppercase;\r\n    margin-bottom: 5px;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    text-align: left;\r\n}\r\n\r\n.ancillary-city {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n}\r\n\r\n.ancillary-red-line {\r\n    width: 62px;\r\n    height: 2px;\r\n    background-color: #c60c30;\r\n}\r\n\r\n.ancillary-date {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    margin-top: 10px;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n}        \r\n\r\n.ancillary-card {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    background: #fff;\r\n}\r\n\r\n.ancillary-image {\r\n    width: 200px;\r\n    height: 113px;\r\n    flex-shrink: 0;\r\n    margin-right: 20px;\r\n}\r\n\r\n.ancillary-image img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    border-radius: 2px;\r\n}\r\n\r\n.ancillary-bottom-right {\r\n    flex: 1;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    gap: 10px;\r\n}\r\n\r\n.ancillary-bottom-right a{\r\n    text-decoration: none;\r\n}\r\n\r\n.ancillary-text {\r\n    flex: 1;\r\n}\r\n\r\n.ancillary-title {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    margin-bottom: 8px;\r\n}\r\n\r\n.ancillary-description {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    font-size: 14px;\r\n    color: #333;\r\n    line-height: 1.4;\r\n    max-width: 400px;\r\n}\r\n\r\n.bx-ancillary-button {\r\n    font-family: HelveticaNeue, sans-serif;\r\n    max-width: 170px;\r\n    height: 40px;\r\n    padding: 0px 40px;\r\n    border: solid 1px #333;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 1px 0 rgba(0, 0, 0, 0.1);\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border-radius: 0.3rem;\r\n    \r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    color: #333;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: center;\r\n}\r\n\r\n.bx-ancillary-button:hover {\r\n    box-shadow: 0 0 .6rem 0 rgba(0, 0, 0, .5);\r\n}\r\n\r\n\r\n/**/\r\n@media only screen and (max-width: 640px) {\r\n    .booking-Bitmap {\r\n        display: none;\r\n    }\r\n    \r\n    .booking-details {\r\n        align-items: center;\r\n        margin-bottom: 0;\r\n    }\r\n    \r\n    .booking-details:after {\r\n        margin-top: 0;\r\n    }\r\n    \r\n    .booking-city {\r\n        margin-top: 5px;\r\n    }\r\n    \r\n    .booking-bottom-row {\r\n        flex-direction: column;\r\n        margin-top: none;\r\n    }\r\n    \r\n    .booking-bottom-row a {\r\n        width: 100%\r\n    }\r\n    \r\n    .booking-Rectangle-3 {\r\n        width: 100%;\r\n        max-width: none;\r\n        margin-top: 15px;\r\n    }\r\n    \r\n    /*Ancillary CSS*/\r\n    \r\n    .ancillary-content {\r\n        padding: 15px 10px;\r\n    }\r\n\r\n    .ancillary-top-section {\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n    \r\n    .ancillary-details {\r\n        align-items: center;\r\n    }\r\n    \r\n    .ancillary-reference-section {\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n    }\r\n    \r\n    .ancillary-remaining-days {\r\n        margin-bottom: 0;\r\n    }\r\n    \r\n    .ancillary-date {\r\n        margin-top: 0;\r\n    }\r\n    \r\n    .ancillary-card {\r\n        width: 100%;\r\n        flex-wrap: wrap;\r\n    }\r\n\r\n    .ancillary-image {\r\n        width: 80px;\r\n        height: 45px;\r\n        margin-right: 16px;\r\n        margin-bottom: 16px;\r\n    }\r\n\r\n    .ancillary-bottom-right {\r\n        width: calc(100% - 96px); /* image width + margin */\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n        gap: 0;\r\n    }\r\n    \r\n    .ancillary-bottom-right a{\r\n        width: 100%;\r\n    }\r\n\r\n    .ancillary-description {\r\n        width: calc(100% + 96px); /* Extend back to full width */\r\n        max-width: none;\r\n        margin-left: -96px; /* Pull back to align with left edge */\r\n        padding-top: 16px;\r\n    }\r\n\r\n    .bx-ancillary-button {\r\n        width: calc(100% + 96px); /* Make button full width */\r\n        margin-left: -96px; /* Pull back to align with left edge */\r\n        max-width: none;\r\n    }\r\n    \r\n}\r\n    \r\n.bx-one-destination-background-nbo-homepage {\r\n    font-family: HelveticaNeue, sans-serif;\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n    .bx-one-destination-background-nbo-homepage {\r\n        padding-left: 10px;\r\n        padding-right: 10px;\r\n        margin: 20px auto;\r\n    }\r\n    \r\n    .booking-content {\r\n        padding: 24px 20px;\r\n    }\r\n    \r\n    .bx-ancillary-button {\r\n        padding: 0 20px;\r\n    }\r\n    \r\n}\r\n\r\n@media only screen and (min-width: 769px) {\r\n    .bx-one-destination-background-nbo-homepage {\r\n        padding-left: 30px;\r\n        padding-right: 30px;\r\n        margin: 30px auto;\r\n    }\r\n}\r\n\r\n@media only screen and (min-width: 1024px) {\r\n    .bx-one-destination-background-nbo-homepage {\r\n        max-width: 1200px;\r\n        padding-left: 50px;\r\n        padding-right: 50px;\r\n        margin: 40px auto;\r\n    }\r\n}',html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n{{!--<div>My Content</div>--}}\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'\r\n// Variables from API Section\r\nvar latest_reference_id                     = "{{latest_reference_id}}";\r\nvar has_DXB_Stopover                        = {{has_DXB_Stopover}};\r\nvar destination                             = "{{destination}}";\r\nvar destination_code                        = "{{destination_code}}";\r\nvar skywards_tier                           = "{{skywards_tier}}";\r\nvar ancillaryProductPurchasePropensityLabel = "{{ancillaryProductPurchasePropensityLabel}}";\r\nvar ancillaryProductRankSeat                = "{{ancillaryProductRankSeat}}";\r\nvar ancillaryProductRankBaggage             = "{{ancillaryProductRankBaggage}}";\r\nvar ancillaryProductRankLounge              = "{{ancillaryProductRankLounge}}";\r\n\r\nvar dd_string                               = "{{departureDate}}";\r\nvar departureDate                           = new Date(dd_string.replace(\'T\', \' \').substring(0, 19));\r\nvar now                                     = new Date();\r\nvar remainingDays                           = Math.floor(new Date(departureDate - now)/(1000 * 60 * 60 * 24)).toString();\r\n// Variables from API Section Ends\r\n// <-----------------------------\x3e\r\n\r\n// Derived Variables Section\r\n// Converting Data into LocalDateTime from UTC\r\nfunction formatDate(date) {\r\n    const options = { day: \'2-digit\', month: \'long\', year: \'numeric\' };\r\n    return date.toLocaleDateString(\'en-GB\', options);\r\n}\r\nvar departureDateFormatted = formatDate(departureDate);\r\n\r\n// CTA Content\r\n// Creating country parameter for the form action\r\nvar country = dataLayer[0].countryCode.toLowerCase();\r\n\r\n// Constructing MYB Link for CTA Button\r\nvar form                = `<form id="box468" action="/sessionhandler.aspx?pageurl=/MYB.aspx&amp;pub=/${country}/english&amp;j=f&amp;section=MYB&amp;showpage=true" method="post"><input type="hidden" name="bookref2" value="${latest_reference_id}"></form>`;\r\nvar lastnameInput       = "";\r\nvar deep_link_form_post = `javascript:void document.getElementById(\'box468\').submit();`;\r\n// CTA Content End\r\n\r\n// Used to change CTA Text for Staff Bookings\r\nvar staffBooking = false;\r\n\r\n// Used to change CSS of the Component to make it responsive\r\nvar width   = window.innerWidth;\r\n\r\n// Sorting Ancillary Array\r\nvar ancillaryRanks = [\r\n    {name: "Seat",    value: ancillaryProductRankSeat},\r\n    {name: "Baggage", value: ancillaryProductRankBaggage},\r\n    {name: "Lounge",  value: ancillaryProductRankLounge}\r\n]\r\nancillaryRanks.sort(function(x, y) { return x.value - y.value; });\r\n// Derived Variables Section Ends\r\n// <----------------------------\x3e\r\n\r\n// Asset Variables Section Starts\r\nvar baggageImg     = "https://c.ekstatic.net/ecl/airport/baggage/airport-luggage-trolley-with-suitcases-w640x360.jpg?h=3lvdmeRF6W0_a7OuSuruDA&impolicy=none";\r\nvar loungeImg      = "https://c.ekstatic.net/ecl/agent-portal/lounge-at-airport-terminal-3-w640x360.jpg?h=2a8Ndx8pO87RssNFdDo2FA&impolicy=none";\r\nvar seatImg        = "https://c.ekstatic.net/ecl/aircraft-interior/inflight-entertainment/woman-using-onboard-wifi-on-phone-t1024x480.jpg?h=XetjauNdTHGsj-cE79ZhOw&impolicy=none";\r\nvar destinationImg = `https://c.ekstatic.net/shared/images/destination/v1/airports/${destination_code}/300x300.jpg`;\r\n// Asset Variables Section Starts\r\n// <----------------------------\x3e\r\n\r\n// Helper Functions Section Starts\r\n// Ancillary Component HTML\r\nfunction ancillary_html (ancillary) {\r\n    \r\n    var ancillary_header  = "";\r\n    var ancillary_text    = "";\r\n    var ancillary_cta     = "";\r\n    var ancillary_img_src = "";\r\n    var ancillary_img_alt = ""\r\n    \r\n    if (ancillary === "Baggage") {\r\n        ancillary_header  = "Add additional baggage";\r\n        ancillary_text    = "We offer special discounts when you purchase extra baggage online saving you money and time at the airport";\r\n        ancillary_cta     = "Add";\r\n        ancillary_img_src = baggageImg;\r\n        ancillary_img_alt = "Baggage Image";\r\n    } \r\n    else if (ancillary === "Lounge") {\r\n        ancillary_header  = "Get lounge access";\r\n        ancillary_text    = "Whether you need a few minutes to catch up on work or simply want to relax away from the crowds, youll find lounges across six continents";\r\n        ancillary_cta     = "Purchase";\r\n        ancillary_img_src = loungeImg;\r\n        ancillary_img_alt = "Lounge Image";\r\n    } \r\n    else if (ancillary === "Seat") {\r\n        ancillary_header  = "Get extra legroom";\r\n        ancillary_text    = "Choose and extra legroom seat in the exit row to stretch out for a more comfortable journey";\r\n        ancillary_cta     = "Purchase";\r\n        ancillary_img_src = seatImg;\r\n        ancillary_img_alt = "Seat Image";\r\n    }\r\n    \r\n    var html = \'<div class="ancillary-Rectangle-1">\' +\r\n                    \'<div class="ancillary-content">\' +\r\n                        \'<div class="ancillary-top-section">\' +\r\n                            \'<div class="ancillary-details">\' +\r\n                                \'<span class="ancillary-remaining-days">\' + remainingDays + \' DAYS TO GO</span>\' +\r\n                                \'<span class="ancillary-city">\' + destination + \'</span>\' +\r\n                                \'<div class="ancillary-red-line"></div>\' +\r\n                                \'<span class="ancillary-date">\' + departureDateFormatted + \'</span>\' +\r\n                            \'</div>\' +\r\n                            \'<div class="ancillary-reference-section">\' +\r\n                                \'<div class="ancillary-reference">\' +\r\n                                    \'Booking Reference: <strong>\' + latest_reference_id + \'</strong>\' +\r\n                                \'</div>\' +\r\n                                \'<a href="\' + deep_link_form_post + \'">\' + \r\n                                    \'<div class="ancillary-manage-text">Manage booking</div>\' +\r\n                                \'</a>\' +\r\n                            \'</div>\' +\r\n                        \'</div>\' +\r\n                        \'<div class="ancillary-section"></div>\' +\r\n                        \'<div class="ancillary-card">\' +\r\n                            \'<div class="ancillary-image">\' +\r\n                                \'<img src ="\' + ancillary_img_src + \'" alt="\' + ancillary_img_alt + \'">\' +\r\n                            \'</div>\' +\r\n                            \'<div class="ancillary-bottom-right">\' +\r\n                                \'<div class="ancillary-text">\' +\r\n                                    \'<h3 class="ancillary-title">\' + ancillary_header + \'</h3>\' +\r\n                                    \'<p class="ancillary-description">\' + ancillary_text + \'</p>\' +\r\n                                \'</div>\' +\r\n                                form +\r\n                                \'<a class="bx-nbo-cta" href="\' + deep_link_form_post + \'">\' + \r\n                                    \'<button class="bx-ancillary-button">\' + ancillary_cta + \'</button>\' +\r\n                                \'</a>\' +\r\n                            \'</div>\' +\r\n                        \'</div>\' +                        \r\n                    \'</div>\' +\r\n                \'</div>\';\r\n                \r\n    return html;\r\n}\r\n\r\n// Manage Booking Component HTML\r\nfunction manage_booking_html () {\r\n    // var manage_booking_deep_link = "https://www.emirates.com/SessionHandler.aspx?j=f&pub=/english&pageurl=/MYB.aspx&section=MYB&bookref2=" + latest_reference_id + "&showpage=true&j=t&ED=true";\r\n    var html = \'<div class="booking-Rectangle-1">\' +\r\n                    \'<div class="booking-Bitmap">\' +\r\n                        \'<img src=\' + destinationImg + \' alt="\' + destination + \' Reference Image">\' +\r\n                    \'</div>\' +\r\n                    \'<div class="booking-content">\' +\r\n                        \'<div class="booking-details">\' +\r\n                            \'<span class="booking-remaining-days">\' +\r\n                                remainingDays + \' DAYS TO GO\' +\r\n                            \'</span>\' +\r\n                            \'<span class="booking-city">\' + destination + \'</span>\' +\r\n                            \'<div class="booking-red-line"></div>\' +\r\n                            \'<span class="booking-date">\' + departureDateFormatted + \'</span>\' +\r\n                        \'</div>\' +\r\n                        \'<div class="booking-bottom-row">\' +\r\n                            \'<div class="booking-reference">\' +\r\n                                \'<span class="booking-Booking-Refere">\' +\r\n                                    \'Booking Reference:\' +\r\n                                \'</span>\' +\r\n                                \'<span class="booking-reference_no">\' +\r\n                                    latest_reference_id +\r\n                                \'</span>\' +\r\n                            \'</div>\' +\r\n                            form +\r\n                            \'<a class="bx-nbo-cta" href="\' + deep_link_form_post + \'">\' + \r\n                                \'<button class="booking-Rectangle-3">\' +\r\n                                    \'<span class="booking-manage">\' +\r\n                                        \'Manage\' +\r\n                                    \'</span>\' +\r\n                                \'</button>\' +\r\n                            \'</a>\' +\r\n                        \'</div>\' +\r\n                    \'</div>\' +\r\n                \'</div>\';\r\n                \r\n    return html;\r\n}\r\n\r\n// Function to implement Boxever Tracking\r\nfunction sendBoxeverEvent(cmp, eventType) {\r\n    let eventLabel = `BOX468_${eventType}`;\r\n    var event = {\r\n        channel: "WEB",\r\n        type: eventLabel,\r\n        page: dataLayer[0].pageName,\r\n        pos: _boxever_settings.pointOfSale,\r\n        browser_id: Boxever.getID(),\r\n        ext: {\r\n            "component": cmp\r\n        }\r\n    };\r\n    Boxever.eventCreate(event, function (data) { }, "json");\r\n}\r\n\r\n// Function to implement GA Tracking\r\nfunction sendGAEvent(type, event_action) {\r\n    var event_label = "";\r\n    switch (type) {\r\n        case \'Baggage\':\r\n            event_label = \'a\';\r\n            break;\r\n        case \'Seat\':\r\n            event_label = \'b\';\r\n            break;\r\n        case \'Lounge\':\r\n            event_label = \'c\';\r\n            break;\r\n        case \'Booking\':\r\n            event_label = \'d\';\r\n            break;\r\n        default:\r\n            event_label = \'d\';\r\n    }\r\n    \r\n    var eventName = "";\r\n    if (event_action === "Shown") {\r\n        eventName = "EventTrigger.PageBody_PromotionShown";\r\n    } else if (event_action === "Clicked") {\r\n        eventName = "EventTrigger.PageBody_PromotionClicked"\r\n    }\r\n    \r\n    dataLayer.push({\r\n        event    : eventName,\r\n        category : "A/B Testing and Personalisation",\r\n        action   : `Promotion ${event_action}`,\r\n        label    : `BX:468${event_label}:CustomerVarient`,\r\n        value    : 0\r\n    });\r\n}\r\n\r\n// Function to retreive Lastname for myTrips API, needed for building Session Handler Deeplink\r\nfunction getDataFromAPI() {\r\n    \r\n    var xhr = new XMLHttpRequest();\r\n    var ts  = new Date().getTime();\r\n    xhr.open(\'GET\', `https://www.emirates.com/service/mytrips?${ts}`, false); // false makes the request synchronous\r\n\r\n    xhr.send();\r\n\r\n    if (xhr.status === 200) {\r\n        var data = JSON.parse(xhr.responseText);\r\n        return data;\r\n    } else {\r\n        console.error(\'Error:\', xhr.statusText);\r\n        return null;\r\n    }\r\n}\r\n\r\n// Function to set a cookie with an expiry and domain scope\r\nfunction setCookie(name, value) {\r\n  const date = new Date();\r\n  date.setTime(date.getTime() + (5 * 60 * 1000)); // Set expiry time in milliseconds, currently set to 5 mins\r\n  const expires = "expires=" + date.toUTCString();\r\n  const domain = "domain=" + window.location.hostname.split(\'.\').slice(-2).join(\'.\') + ";";\r\n  document.cookie = name + "=" + value + ";" + expires + ";" + domain + "path=/";\r\n}\r\n\r\n// Function to Add HMTL Components with correct links into page\r\nfunction common_render(component_type) {\r\n    \r\n    // Building the Right HTML Component and rendering it\r\n    const wrapper = document.querySelector(".widget__container");\r\n    wrapper.insertAdjacentHTML(\r\n            "afterend",\r\n            \'<div class="bx-one-destination-background-nbo-homepage"></div>\'\r\n          );\r\n    \r\n    var html = "";\r\n    if ((component_type === "Seat") || (component_type === "Baggage") || (component_type === "Lounge")) {\r\n        html = ancillary_html(component_type);   \r\n    }\r\n    else if (component_type === "Booking") {\r\n        html = manage_booking_html();\r\n    }\r\n    \r\n    var backgroundElement = document.querySelector(\'.bx-one-destination-background-nbo-homepage\');\r\n    backgroundElement.innerHTML = "";\r\n    backgroundElement.innerHTML = html;\r\n    \r\n    // Updating CTA Link to include lastname\r\n    var bookCTA    = document.querySelector(\'.bx-nbo-cta\');\r\n    var tripObject = getDataFromAPI();\r\n    var cta_text   = document.querySelector(\'.bx-ancillary-button\');\r\n    \r\n    // \r\n    if (tripObject) {\r\n        var tripsArray = tripObject.data.trips;\r\n        var lName = "";\r\n        for (var i=0; i<tripsArray.length; i++) {\r\n            var pnr          = tripsArray[i].pnrInfo.pnr;\r\n            if (pnr === latest_reference_id) {\r\n                lName = tripsArray[i].pnrInfo.paxLastName;\r\n                staffBooking = (tripsArray[i].bookingInfo.staffBooking || tripsArray[i].bookingInfo.staffSpecial ||tripsArray[i].bookingInfo.staffSubloadBooking) ;\r\n                break;\r\n            }\r\n        }\r\n        \r\n        if (staffBooking && cta_text && cta_text !== undefined) {\r\n            cta_text.innerHTML = "Manage";\r\n        }\r\n        \r\n        var form_html        = document.querySelector(\'#box468\');\r\n        lastnameInput        = `<input type="hidden" name="lastname2" value="${lName}">`;\r\n        form_html.innerHTML += lastnameInput;\r\n    }\r\n    \r\n    sendBoxeverEvent(component_type, "VIEWED");\r\n    setTimeout(() => sendGAEvent(component_type, "Shown"), 500);\r\n    \r\n    bookCTA.addEventListener("click", (e) => {\r\n        sendBoxeverEvent(component_type, "CLICKED");\r\n        sendGAEvent(component_type, "Clicked");\r\n        setCookie(\'nbo\', component_type); // Set NBO referrer cookie with 5 minutes expiry\r\n        \r\n        if (staffBooking) {\r\n            setCookie(\'staffBooking\', \'Yes\'); // Set Staff Booking cookie with 5 minutes expiry    \r\n        }\r\n    });\r\n}\r\n// Helper Functions Section Ends\r\n// <----------------------------\x3e\r\n\r\n// Main Function Starts                        \r\nfunction main (ancillary_array) {\r\n\r\n    // If Overall Product Propensity Label is Low\r\n    if (ancillaryProductPurchasePropensityLabel === "Low") {\r\n        common_render("Booking");\r\n        \r\n    // If Overall Product Propensity Label is High or Medium\r\n    } else if ((ancillaryProductPurchasePropensityLabel === "Medium") || (ancillaryProductPurchasePropensityLabel === "High")) {\r\n        // Check if their top ranked ancillary is Seat\r\n        if ((ancillary_array.length > 0) && (ancillary_array[0].name === "Seat") && (ancillary_array[0].value.length > 0))    {\r\n            common_render("Seat");\r\n        }\r\n        // Check if their top ranked ancillary is Baggage\r\n        else if ((ancillary_array.length > 0) && (ancillary_array[0].name === "Baggage") && (ancillary_array[0].value.length > 0)) {\r\n            common_render("Baggage");\r\n        }\r\n        // Check if their top ranked ancillary is Lounge\r\n        else if ((ancillary_array.length > 0) && (ancillary_array[0].name === "Lounge") && (ancillary_array[0].value.length > 0))  {\r\n            if (((skywards_tier === "Blue") || (skywards_tier === "Silver")) && has_DXB_Stopover && (width >= 769)) {\r\n                common_render("Lounge");\r\n            } else {\r\n                main(ancillary_array.slice(1));\r\n            }\r\n        }\r\n        // If none of the ancillaries match the criteria, then just show Manage Booking Component\r\n        else {\r\n            common_render("Booking");\r\n        }\r\n    }\r\n    \r\n    else {\r\n        common_render("Booking");\r\n    }\r\n}\r\n// Main Function Ends\r\n// <----------------------------\x3e\r\n\r\nmain(ancillaryRanks);\r\n\r\n'}}],notificationEnabled:!1},{ref:"d8ca154e-4464-423a-a2a4-96ac1e309db0",name:"BOX 487-Book a flight page Messaging for Medium or High Intent Customers",revision:376,archived:!1,target:{script:"(function () {\r\n    if (dataLayer && dataLayer.length) {\r\n\r\n        // Checking specific targeting condition\r\n        if (\r\n            dataLayer[0].pageName && \r\n            dataLayer[0].pageName === '/ Book' &&\r\n            dataLayer[0].languageCode === 'EN' &&\r\n            !['US', 'AU', 'NZ'].includes(dataLayer[0].countryCode)\r\n        ) {\r\n           \r\n            // If the condition is met, run the targetingPassed function\r\n            targetingPassed();\r\n        }\r\n    }\r\n})();",targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"7c62e48f-2031-4551-a9d0-ba70f6dbfd38",lowSplit:1,highSplit:60},{ref:"2af9c982-eb0f-4a77-9e4b-a86012c2b40e",lowSplit:61,highSplit:120}],coupled:!1},variants:[{ref:"7c62e48f-2031-4551-a9d0-ba70f6dbfd38",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'// Function to send a SUPPRESSED Boxever event\r\nfunction sendBoxeverEvent(eventType) {\r\n    // Construct the event label using the passed event type\r\n    let eventLabel = `BOX487_${eventType}`;\r\n\r\n    // Create the event object with required metadata\r\n    var event = {\r\n        channel: "WEB",\r\n        type: eventLabel,\r\n        page: dataLayer[0].pageName,\r\n        pos: _boxever_settings.pointOfSale,\r\n        browser_id: Boxever.getID(),\r\n    };\r\n\r\n    // Send the event to Boxever with JSON response format\r\n    Boxever.eventCreate(event, function(data) {}, "json");\r\n}\r\n\r\n// Immediately trigger the Boxever event for "SUPPRESSED"\r\nsendBoxeverEvent("SUPPRESSED");\r\n\r\n// After a delay of 500ms, push a custom event to the dataLayer for GTM tracking\r\nsetTimeout(() =>\r\n    dataLayer.push({\r\n        event: "EventTrigger.PageBody_PromotionSuppressed",\r\n        category: "A/B Testing and Personalisation",\r\n        action: "Promotion Suppressed",\r\n        label: "BX:487:ABD_BP_REM_C:Control",\r\n        value: 0\r\n    }), 500\r\n);'}},{ref:"2af9c982-eb0f-4a77-9e4b-a86012c2b40e",name:"Variant 1",assets:{css:'/** style your Experience with CSS */\r\n<style>\r\n\r\n/* Reset default margin and padding */\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\n/* RTL support */\r\n[dir="rtl"] .bx-one-destination-background {\r\n    direction: rtl;\r\n}\r\n\r\n[dir="rtl"] .bx-one-destination-details {\r\n    text-align: right;\r\n    padding-right: 82px;\r\n    ;\r\n}\r\n\r\n[dir="rtl"] .bx-one-destination-title {\r\n    text-align: right;\r\n}\r\n\r\n[dir="rtl"] .bx-rectangle-separator {\r\n    text-align: right;\r\n}\r\n\r\n[dir="rtl"] .bx-one-destination-sub-title {\r\n    text-align: right;\r\n}\r\n\r\n.bx-one-destination-background {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 301px;\r\n    max-width: 100%;\r\n    height: auto;\r\n    margin: 24px auto;\r\n    border-radius: 3px;\r\n    box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\r\n    background-color: #fff;\r\n    flex-grow: 0;\r\n}\r\n\r\n.bx-one-destination-details {\r\n    order: 1;\r\n    /* Default order for desktop view */\r\n    width: 50%;\r\n    height: 100%;\r\n}\r\n\r\n.bx-one-destination-title {\r\n    font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\r\n    font-weight: normal;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n    color: #333;\r\n    display: inline-block;\r\n}\r\n\r\n.bx-one-destination-title .bx-text-title-style {\r\n    font-weight: bold;\r\n}\r\n\r\n.bx-one-destination-sub-title {\r\n    font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\r\n    ;\r\n    font-size: 14px;\r\n    font-weight: 300;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: 1.43;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n    color: #333;\r\n    display: inline-block;\r\n}\r\n\r\n.bx-one-destination-book-now {\r\n    font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\r\n    ;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    font-stretch: normal;\r\n    font-style: normal;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: center;\r\n    color: #333;\r\n    border: solid 1px #333;\r\n    background-color: #fff;\r\n    text-align: center;\r\n    display: inline-block;\r\n    text-decoration: none;\r\n    height: 40px;\r\n    padding: 10px;\r\n}\r\n\r\n.bx-one-destination-book-now:focus,\r\n.bx-one-destination-book-now:hover {\r\n    background-color: #f0f0f0;\r\n}\r\n\r\n.bx-image-block {\r\n    width: 100%;\r\n    height: 100%;\r\n    order: 2;\r\n    /* Default order for mobile view */\r\n    object-fit: cover;\r\n    overflow: hidden;\r\n}\r\n\r\n.bx-image-block img {\r\n    width: 100%;\r\n    height: 100%;\r\n    /*border-radius: 3px;*/\r\n    object-fit: cover;\r\n    object-position: center;\r\n    display: block;\r\n}\r\n\r\n.bx-rectangle-separator {\r\n    width: 59.5px;\r\n    height: 2px;\r\n    margin-bottom: 20px;\r\n    background-color: #c60c30;\r\n}\r\n\r\n@media only screen and (max-width: 768px) {\r\n\r\n    [dir="rtl"] .bx-one-destination-details {\r\n        text-align: center;\r\n        padding-right: 0px;\r\n        width: 100%;\r\n        height: 70%;\r\n    }\r\n\r\n    [dir="rtl"] .bx-one-destination-title {\r\n        text-align: center;\r\n        padding-right: 0px;\r\n    }\r\n\r\n    [dir="rtl"] .bx-one-destination-sub-title {\r\n        text-align: center;\r\n        padding-right: 0px;\r\n        ;\r\n    }\r\n\r\n    .bx-one-destination-background {\r\n        max-width: 1100px;\r\n        padding: 0 0 8px;\r\n        height: 287px;\r\n        border-radius: 3px;\r\n        box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\r\n        background-color: #fff;\r\n        flex-direction: column;\r\n        justify-content: space-between;\r\n        width: 100%;\r\n    }\r\n\r\n    .bx-one-destination-title {\r\n        margin-top: 15px;\r\n        text-align: center;\r\n        margin: 21px 20.5px 7px;\r\n        display: block;\r\n        font-size: 18px;\r\n    }\r\n\r\n    .bx-one-destination-sub-title {\r\n        margin: 7px 20.5px 0px;\r\n        text-align: center;\r\n        display: block;\r\n        font-size: 12px;\r\n    }\r\n\r\n    .bx-one-destination-details {\r\n        order: 2;\r\n        /* Change order for desktop view */\r\n        text-align: center;\r\n        width: 100%;\r\n        height: 60%;\r\n    }\r\n\r\n    .bx-image-block {\r\n        justify-content: center;\r\n        margin: 0px;\r\n        order: 1;\r\n        width: 100%;\r\n        height: 50%;\r\n    }\r\n\r\n    .bx-image-block img {\r\n        border-radius: 3px 3px 0 0;\r\n    }\r\n\r\n    .bx-one-destination-book-now {\r\n        width: 90%;\r\n        margin: 22px 8px 8px;\r\n    }\r\n\r\n    .bx-rectangle-separator {\r\n        display: none;\r\n    }\r\n}\r\n\r\n\r\n@media only screen and (min-width: 769px) {\r\n    .bx-one-destination-background {\r\n        max-width: 1100px;\r\n        height: 370px;\r\n        border-radius: 3px;\r\n        box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\r\n        background-color: #fff;\r\n        flex-direction: row;\r\n        justify-content: space-between;\r\n        width: 100%;\r\n        margin: 47px auto;\r\n    }\r\n\r\n    .bx-one-destination-details {\r\n        width: 50%;\r\n        height: 100%;\r\n        padding-top: 89px;\r\n        padding-left: 82px;\r\n        ;\r\n        padding-bottom: 71px;\r\n        ;\r\n    }\r\n\r\n    .bx-one-destination-title {\r\n        font-size: 24px;\r\n        margin-bottom: 14px;\r\n        /*width: 240px;*/\r\n        /*height: 58px;*/\r\n        /*line-height: 1.2;*/\r\n        width: auto;\r\n        height: auto;\r\n    }\r\n\r\n    .bx-one-destination-sub-title {\r\n        width: auto;\r\n        height: auto;\r\n        margin-bottom: 36px;\r\n    }\r\n\r\n    .bx-one-destination-book-now {\r\n        min-width: 149px;\r\n    }\r\n\r\n    .bx-image-block {\r\n        width: 50%;\r\n        height: 100%;\r\n        position: relative;\r\n    }\r\n}\r\n\r\n@media only screen and (min-device-width: 769px) and (max-device-width: 1024px) {\r\n    .bx-one-destination-details {\r\n        width: 50%;\r\n        height: 100%;\r\n        padding-top: 89px;\r\n        padding-left: 82px;\r\n        padding-bottom: 71px;\r\n    }\r\n\r\n}\r\n\r\n</style>',html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'// ================================\r\n// Template Variables\r\n// ================================\r\nlet destination_code = "{{destination_code}}";\r\nlet destination_city = "{{destination_city}}";\r\nlet flightType = "{{flight_type}}";\r\nlet originCode = "{{origin_code}}";\r\nlet returnDate = "{{return_date}}";\r\nlet departDate = "{{depart_date}}";\r\nlet adultsRaw = {{adults}};\r\nlet childrenRaw = {{children}};\r\nlet infantsRaw = {{infants}};\r\nlet youthsRaw = {{youths}};\r\nlet ofwsRaw = {{ofws}};\r\nlet bookingClass = "{{booking_class}}";\r\n\r\n// ================================\r\n// Boxever Event Function\r\n// ================================\r\nfunction sendBoxeverEvent(eventType) {\r\n    let eventLabel = `BOX487_${eventType}`;\r\n    var event = {\r\n        channel: "WEB",\r\n        type: eventLabel,\r\n        page: dataLayer[0].pageName,\r\n        pos: _boxever_settings.pointOfSale,\r\n        browser_id: Boxever.getID(),\r\n    };\r\n    Boxever.eventCreate(event, function() {}, "json");\r\n}\r\n\r\n// single parseDateStr function for the whole script\r\nfunction parseDateStr(s) {\r\n    if (!s) return null;\r\n    const [dd, mon, yrRaw] = s.split("-");\r\n    const monthIndex = { Jan:0, Feb:1, Mar:2, Apr:3, May:4, Jun:5, Jul:6, Aug:7, Sep:8, Oct:9, Nov:10, Dec:11 };\r\n    let year = Number(yrRaw);\r\n    if (year < 100) year += 2000;\r\n    return new Date(year, monthIndex[mon], Number(dd));\r\n}\r\n\r\nfunction isPast(d) {\r\n    if (!d) return false;\r\n    return d < new Date();\r\n}\r\nlet cabinClassLabel = "";  // define globally\r\n// ================================\r\n// Render Function\r\n// ================================\r\nfunction render() {\r\n    const wrapper = document.querySelector(".enhanced-text-block-list");\r\n    wrapper.insertAdjacentHTML(\r\n            "beforebegin",\r\n            \'<div class="bx-one-destination-background"></div>\'\r\n          );\r\n\r\n    insertHTMLAfter(".bx-one-destination-background");\r\n\r\n    // ================================\r\n    // Image Logic\r\n    // ================================\r\n    const imageUrl = `https://c.ekstatic.net/shared/images/destination/v1/airports/${destination_code}/600x360.jpg`;    //main image URL\r\n    const fallbackImageUrl = "https://c.ekstatic.net/shared/images/destination/v1/airports/CDSR/600x360.jpg"; //fallback image URL\r\n    let correct_image_url = \'\';\r\n    function checkImage(url) {\r\n        const xhttp = new XMLHttpRequest();\r\n        xhttp.open(\'HEAD\', url, false);  // HEAD request to check status without downloading content\r\n        xhttp.onload = function () {\r\n            if (xhttp.status === 200) \r\n            {\r\n                correct_image_url = imageUrl;\r\n            } \r\n            else \r\n            {\r\n                correct_image_url = fallbackImageUrl;\r\n            }\r\n        };\r\n    \r\n        // xhttp.onerror = errorCallback;\r\n        xhttp.send();\r\n    }\r\n    \r\n    checkImage(imageUrl);\r\n\r\n    // ================================\r\n    // Cabin Class Mapping\r\n    // ================================\r\n    const cabinClassMapping = { Y: 0, J: 1, F: 2, W: 7 };\r\n            \r\n    let IBECabinClass = 0;            \r\n    if ("{{booking_class}}" in cabinClassMapping) {\r\n        IBECabinClass = cabinClassMapping["{{booking_class}}"];\r\n    }            \r\n\r\n    //var cabinClassLabel;\r\n    \r\n    if (IBECabinClass===0){\r\n        cabinClassLabel= "Economy Class";\r\n    }\r\n    else if (IBECabinClass===1){\r\n        cabinClassLabel= "Business Class";\r\n    }\r\n    else if (IBECabinClass===2){\r\n        cabinClassLabel= "First Class";\r\n    }\r\n    else if (IBECabinClass===7){\r\n        cabinClassLabel= "Premium Economy Class";\r\n    }\r\n    // ================================\r\n    // HTML Template\r\n    // ================================\r\n    var html = \'<div class="bx-one-destination-details">\' +\r\n        \'<span class="bx-one-destination-title">\' +\r\n        \'Still thinking about <b>[destination_city]?</b></span>\' +\r\n        \'</span>\' +\r\n        \'<div class="bx-rectangle-separator" role="separator"></div>\' +\r\n        \'<span class="bx-one-destination-sub-title">\' +\r\n        \'Find the best [cabin_class_Label] fares\' +\r\n        \'</span>\' +\r\n        \'<div>\' +\r\n        \'<a data-id="pagebody_cta" href="[deep_link]" class="bx-one-destination-book-now" aria-label="Book now">\' +\r\n        \'Book now\' +\r\n        \'</a>\' +\r\n        \'</div>\' +\r\n        \'</div>\' +\r\n        \'<div class="bx-image-block">\' +\r\n        `<img src=${correct_image_url} alt="Family holding hands">` +\r\n        \'</div>\';\r\n    const TID = flightType === "OW" ? "OW" : "SB";\r\n    let depart_date = departDate;\r\n    let return_date = returnDate;\r\n    \r\n    // ================================\r\n    // Date Adjustment Utilities\r\n    // ================================\r\n    function adjustTemplateDatesISO(departDateTemplate, returnDateTemplate) {\r\n        const monthIndex = { Jan:0, Feb:1, Mar:2, Apr:3, May:4, Jun:5, Jul:6, Aug:7, Sep:8, Oct:9, Nov:10, Dec:11 };\r\n\r\n      // Convert Date to YYYY-MM-DD\r\n      function toISO(d) {\r\n        if (!d) return null;\r\n        const yyyy = d.getFullYear();\r\n        const mm = String(d.getMonth() + 1).padStart(2, "0");\r\n        const dd = String(d.getDate()).padStart(2, "0");\r\n        return `${yyyy}-${mm}-${dd}`;\r\n      }\r\n\r\n      // Build date after adding months\r\n      function makeCandidateFromMonths(baseDate, addMonths) {\r\n        const originalDay = baseDate.getDate();\r\n        const m = baseDate.getMonth() + addMonths;\r\n        const intendedYear = baseDate.getFullYear() + Math.floor(m / 12);\r\n        const intendedMonth = ((m % 12) + 12) % 12;\r\n        let cand = new Date(intendedYear, intendedMonth, originalDay);\r\n        if (cand.getMonth() !== intendedMonth) {\r\n          cand = new Date(intendedYear, intendedMonth + 1, 0); // last day of intended month\r\n        }\r\n        return cand;\r\n      }\r\n\r\n      // Efficiently shift date to future\r\n      function shiftToFutureOptimized(d) {\r\n        const today = new Date();\r\n        if (d > today) return d;\r\n    \r\n        const yearDiff = today.getFullYear() - d.getFullYear();\r\n        const monthDiff = today.getMonth() - d.getMonth();\r\n        let totalMonths = yearDiff * 12 + monthDiff;\r\n    \r\n        let candidate = makeCandidateFromMonths(d, totalMonths);\r\n        if (candidate <= today) candidate = makeCandidateFromMonths(d, totalMonths + 1);\r\n    \r\n        return candidate;\r\n      }\r\n\r\n      const adjusted = { departDate: null, returnDate: null };\r\n      const origDepart = parseDateStr(departDateTemplate);\r\n      const origReturn = parseDateStr(returnDateTemplate);\r\n\r\n      if (origDepart) {\r\n        const newDepart = shiftToFutureOptimized(origDepart);\r\n        adjusted.departDate = toISO(newDepart);\r\n    \r\n        if (origReturn) {\r\n            const diffMs = origReturn.getTime() - origDepart.getTime();\r\n            let newReturn = new Date(newDepart.getTime() + diffMs);\r\n            if (newReturn <= new Date()) newReturn = shiftToFutureOptimized(newReturn);\r\n            adjusted.returnDate = toISO(newReturn);\r\n        }\r\n      } else if (origReturn) {\r\n            const newReturn = shiftToFutureOptimized(origReturn);\r\n            adjusted.returnDate = toISO(newReturn);\r\n      }\r\n\r\n        return adjusted;\r\n    }\r\n    let adjusted = adjustTemplateDatesISO(depart_date, return_date);\r\n    let depart = adjusted.departDate;   // "2025-10-11"\r\n    let ret = adjusted.returnDate;     // "2025-10-21"\r\n\r\n    // Check if original search dates were in the past\r\n    let pastDateUsed = isPast(parseDateStr(depart_date)) || isPast(parseDateStr(return_date));\r\n\r\n    // ================================\r\n    // Payload Construction\r\n    // ================================\r\n    function base64EncodeUtf8(str) {\r\n        return btoa(unescape(encodeURIComponent(str)));\r\n    }\r\n\r\n    // Determine journeyType\r\n    const journeyType = flightType === "OW" ? "ONEWAY" : "RETURN";\r\n\r\n    // Construct JSON payload\r\n    const payload = {\r\n        journeyType: journeyType,\r\n        bookingType: "REVENUE",\r\n        passengers: [],\r\n        segments: [],\r\n        referrer: "/book"\r\n    };\r\n    // Add flexiSearch if original dates were past (for both OW & Return)\r\n    if (pastDateUsed) {\r\n      payload.flexiSearch = true;\r\n    } \r\n\r\n    // Add passengers only if count > 0\r\n    if (adultsRaw > 0) payload.passengers.push({ type: "ADT", count: adultsRaw });\r\n    if (childrenRaw > 0) payload.passengers.push({ type: "CHD", count: childrenRaw });\r\n    if (infantsRaw > 0) payload.passengers.push({ type: "INF", count: infantsRaw });\r\n    if (youthsRaw > 0) payload.passengers.push({ type: "GBE", count: youthsRaw });\r\n    if (ofwsRaw > 0) payload.passengers.push({ type: "OFW", count: ofwsRaw });\r\n\r\n    // Add outbound segment\r\n    payload.segments.push({\r\n        departure: originCode,\r\n        arrival: destination_code,\r\n        travelDate: depart,\r\n        cabinClass: bookingClass\r\n    });\r\n\r\n    // Add return segment if applicable\r\n    if (flightType !== "OW" && ret) {\r\n        payload.segments.push({\r\n            departure: destination_code,\r\n            arrival: originCode,\r\n            travelDate: ret,\r\n            cabinClass: bookingClass\r\n        });\r\n    }\r\n\r\n    const encodedPayload = base64EncodeUtf8(JSON.stringify(payload));\r\n    \r\n\r\n    // Construct final Emirates booking URL\r\n    const deepUrl = `https://www.emirates.com/booking/search-results/?searchRequest=${encodedPayload}`;    \r\n  \r\n           \r\n    html = html.replace("[destination_city]","{{destination_city}}");\r\n    html = html.replace ("[deep_link]", deepUrl);\r\n    html = html.replace("[cabin_class_Label]",cabinClassLabel);\r\n  \r\n    var backgroundElement = document.querySelector(\'.bx-one-destination-background\');\r\n    backgroundElement.innerHTML ="";\r\n    backgroundElement.innerHTML = html;\r\n  \r\n    const bookCTA = document.querySelector(\'.bx-one-destination-book-now\');\r\n    bookCTA.addEventListener("click", (e) => {\r\n        sendBoxeverEvent("CLICKED");\r\n        dataLayer.push({\r\n            event: "EventTrigger.PageBody_PromotionClicked",\r\n            category: "A/B Testing and Personalisation",\r\n            action: "Promotion Clicked",\r\n            label: "BX:487:ABD_BP_REM_C:CustomerVariant",\r\n            value: 0\r\n        });\r\n    });\r\n}\r\n\r\n\r\n// Trigger render only if destination code is present\r\nif (destination_code !== "") {\r\n    render();\r\n    sendBoxeverEvent("VIEWED");\r\n        setTimeout(() => {\r\n            dataLayer.push({\r\n                event: "EventTrigger.PageBody_PromotionShown",\r\n                category: "A/B Testing and Personalisation",\r\n                action: "Promotion Shown",\r\n                label: "BX:487:ABD_BP_REM_C:CustomerVariant",\r\n                value: 0\r\n            });\r\n        }, 500);\r\n}\r\n'}}],notificationEnabled:!1},{ref:"03955cb4-fae1-4583-8434-0190a8963c97",name:"BOX - 479 Dubai stopover HPBP V1",revision:14,archived:!1,target:{script:"let inclusions = [\n    '/ Home',\n    '/ Book',\n    '/ IBE / Search Results / Select a Price',\n    '/ IBE / Confirmation / Purchase Confirmation'\n];\n\nlet eligibleCountries = ['AU', 'NZ'];\n  \nlet pageName = dataLayer[0].pageName;\nlet countryCode = dataLayer[0].countryCode;\n\nfunction pagePassed() {\n    for (let i=0; i<inclusions.length; i++) {\n        if (pageName === inclusions[i]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction countriesPassed() {\n    for (let i=0; i<eligibleCountries.length; i++) {\n        if (countryCode === eligibleCountries[i]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nfunction isEnglish() {\n    return dataLayer[0].languageCode.substr(0,2) === \"EN\";\n}\n\nfunction triggerExperiment() {\n    if (pagePassed() && isEnglish() && countriesPassed()) {\n        targetingPassed();\n    }\n}\n\ntriggerExperiment();",targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2025-11-18T04:44:27.377Z",allocationLow:1,allocationHigh:60,splits:[{ref:"2815a217-beea-4c81-8d22-95addee85bdf",lowSplit:1,highSplit:30},{ref:"dcc095c8-1ca5-486f-a331-8ab4db123371",lowSplit:31,highSplit:60}],coupled:!0},variants:[{ref:"2815a217-beea-4c81-8d22-95addee85bdf",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'function initializeControl() \r\n{\r\n    // If already executed, no need to run again\r\n    if (window.__BX479_Control_Executed) \r\n    {\r\n        return true;\r\n    }\r\n\r\n    try {\r\n        if (typeof dataLayer === "undefined" || !dataLayer[0] || !dataLayer[0].pageName) \r\n        {\r\n            return false;\r\n        }\r\n\r\n        var pageName = dataLayer[0].pageName || "";\r\n        \r\n        \r\n        if ( \r\n            (window.location.href.indexOf("emirates.com/booking/confirmation/") > -1) || (pageName === \'/ Home\') || (pageName === \'/ Book\')\r\n        ) {\r\n            \r\n            var pageCode = "";\r\n            var lowerName = pageName.toLowerCase();\r\n    \r\n            // Determine page code\r\n            if (lowerName.indexOf("/ book") > -1) pageCode = "BP";\r\n            else if (lowerName.indexOf("/ home") > -1) pageCode = "HP";\r\n    \r\n            var controlLabel = "BX:479:STOPOVER:Control" + pageCode;\r\n    \r\n            // Fire Control View event to CDP\r\n            var bxControlEvent = {\r\n                channel: "WEB",\r\n                type: "BOX479_SUPPRESSED_" + pageCode,\r\n                page: pageName,\r\n                pos: _boxever_settings.pointOfSale,\r\n                browser_id: Boxever.getID(),\r\n            };\r\n            Boxever.eventCreate(bxControlEvent, function(data) {}, "json");\r\n    \r\n            // Determine Form Details\r\n            var form_details = "";\r\n            if (pageName === \'/ Home\') {\r\n                form_details = "HP"\r\n            } else if (pageName === \'/ Book\') {\r\n                form_details = "BP"\r\n            } else if (window.location.href.indexOf("emirates.com/booking/confirmation/") > -1) {\r\n                form_details = "BCP"\r\n            }\r\n            \r\n            // Push Control event to dataLayer\r\n            var suppressionEvent = {\r\n                event: "EventTrigger.PageBody_PromotionSuppressed",\r\n                category: "A/B Testing and Personalisation",\r\n                action: "Promotion Suppressed",\r\n                label: controlLabel,\r\n                formDetails : form_details,\r\n                value: 0\r\n            };\r\n            dataLayer.push(suppressionEvent);\r\n    \r\n            // Mark as executed only after successful run\r\n            window.__BX479_Control_Executed = true;\r\n    \r\n            return true;\r\n        }\r\n    } catch (err) {\r\n        console.error("BX479 Control script error:", err);\r\n        return false;\r\n    }\r\n}\r\n\r\n// Retry until ready (in case dataLayer loads late)\r\nvar tryCount = 0;\r\nvar waitInterval = setInterval(function() {\r\n    tryCount++;\r\n    var ready = initializeControl();\r\n    if (ready || tryCount > 15) {\r\n        clearInterval(waitInterval);\r\n    }\r\n}, 1000);'}},{ref:"dcc095c8-1ca5-486f-a331-8ab4db123371",name:"hp_bp_variant",assets:{css:"/** style your Experience with CSS */\n\n.hp-dxb-stopover-hidden {\n    display: none !important;\n}\n\n.hp-dxb-stopover-disabled {\n    opacity: 0.9;\n    cursor: not-allowed;\n}\n.hp-dxb-stopover-disabled:hover {\n    opacity: 0.9;\n    cursor: not-allowed;\n}\n\n.hp-dxb-stopover-width-80 {\n    width: calc(80% + 20px);\n}\n.hp-dxb-stopover-width-66 {\n    width: calc(66.6% + 20px);\n}\n\n.hp-dxb-stopover-reduce-top-margin-20 {\n    margin-top: -20px;\n}\n\n@media (max-width: 900px) {\n    .hp-dxb-stopover-width-66 {\n        width: 90%;\n    }\n    \n    .hp-dxb-stopover-form-group {\n        width: 40%;\n    }\n}\n\n.hp-dxb-stopover-container-na {\n    padding: 10px 10px;\n    font-size: 14px;\n    font-weight: 500;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    color: #406DC0;\n    background: #F0F4FF;\n    border-radius: 3px;\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    gap: 10px;\n    margin: 10px 0 20px;\n}\n\n#hp-dxb-stopover-container-na-icon {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjUgMTVDMTEuNjQyMSAxNSAxNSAxMS42NDIxIDE1IDcuNUMxNSAzLjM1Nzg2IDExLjY0MjEgMCA3LjUgMEMzLjM1Nzg2IDAgMCAzLjM1Nzg2IDAgNy41QzAuMDA0OTU5MTcgMTEuNjQwMSAzLjM1OTkyIDE0Ljk5NSA3LjUgMTVaTTcuNSAxLjQwNjI1QzEwLjg2NTUgMS40MDYyNSAxMy41OTM4IDQuMTM0NTEgMTMuNTkzOCA3LjVDMTMuNTkzOCAxMC44NjU1IDEwLjg2NTUgMTMuNTkzOCA3LjUgMTMuNTkzOEM0LjEzNDUxIDEzLjU5MzggMS40MDYyNSAxMC44NjU1IDEuNDA2MjUgNy41QzEuNDEwOCA0LjEzNjQgNC4xMzY0IDEuNDEwOCA3LjUgMS40MDYyNVpNNi44NzUgMTEuMjVDNi44NTk5MSAxMS40MTQ3IDYuOTE1NjIgMTEuNTc4MSA3LjAyODIxIDExLjY5OTJDNy4xNDA3OSAxMS44MjA0IDcuMjk5NjIgMTEuODg4IDcuNDY1IDExLjg4NUM3LjgyODk1IDExLjg4NjQgOC4xMjU4OCAxMS41OTM5IDguMTMgMTEuMjNWNi45MUM4LjEzIDYuMzU3NDUgNy45NTIxIDYuMTc4NSA3LjU4OTg0IDYuMTc4NUM3LjEzODk4IDYuMTc4NSA2Ljg3NSA2LjI1ODc5IDYuODc1IDYuODc1VjExLjI1Wk03LjUgMy43NUM3Ljc1NDIzIDMuNzQ2OTYgNy45ODUxNyAzLjg5NzY0IDguMDg0ODEgNC4xMzE1NUM4LjE4NDQ0IDQuMzY1NDcgOC4xMzMwOCA0LjYzNjM5IDcuOTU0NzQgNC44MTc2QzcuNzc2NCA0Ljk5ODgyIDcuNTA2MzQgNS4wNTQ1MSA3LjI3MDg2IDQuOTU4NjNDNy4wMzUzOCA0Ljg2Mjc1IDYuODgxMDMgNC42MzQyNSA2Ljg4IDQuMzhDNi44Nzc1IDQuMDM0OTMgNy4xNTQ5MyAzLjc1MzAzIDcuNSAzLjc1WiIgZmlsbD0iIzQwNkRDMCIvPgo8L3N2Zz4K);\n}\n\n.switch-button--last {\n    margin-left: -2.19rem;\n}\n\n#hp-dxb-stopover-tab-new {\n    color: #D71921;    \n    font-weight: 700;\n}\n\n.search-flight--continue .search-flight--hidden-container {\n    display: block;\n    margin-top: 11px;\n}\n\n.search-flight--continue .search-flight__datepicker {\n    display: inline-block;\n    margin-top: 0;\n}\n\n.radio-button.switch-button {\n    padding-top: .25rem;\n}\n\n.radio-button.switch-button:nth-child(2) label:before {\n    border-radius: 0;\n    border-right: 0;\n}\n\n/*HP Dubai Stopover Benefits*/\n.hp-dxb-stopover-usp {\n    display: flex;    \n    flex-direction: column;\n    align-items: center;\n    gap: 15px;\n}\n\n.hp-dxb-stopover-usp-separator {\n    width: 100%; \n    height: 100%; \n    overflow: hidden; \n    flex-direction: column; \n    justify-content: center; \n    align-items: flex-start; \n    display: inline-flex;\n}\n\n.hp-dxb-stopover-usp-separator-line {\n    align-self: stretch; \n    height: 1px; \n    background: #E8E8E8;\n}\n\n.hp-dxb-stopover-usp-content-container {\n    display: inline-flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 24px;\n    width: 100%;\n    height: 100%;\n}\n\n.hp-dxb-stopover-usp-image-container {\n    min-width: 177px;\n    width: 177px;\n    height: 100px;\n}\n.hp-dxb-stopover-usp-img {\n    object-fit: contain;\n    width: 100%;\n    border-radius: 4px;\n}\n\n.hp-dxb-stopover-usp-right-container {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n}\n\n.hp-dxb-stopover-usp-header {\n    color: #333333;\n    font-size: 14px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 500;\n    line-height: 21px;\n}\n\n.hp-dxb-stopover-usp-usps-box {\n    display: flex;\n    flex-direction: row;\n    gap: 32px;\n    row-gap: 8px;\n    flex-wrap: wrap;\n}\n\n.hp-dxb-stopover-usp-single-usp {\n    color: #444444;\n    font-size: 14px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 300;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n    display: inline-flex;\n    gap: 8px;\n    align-items: center;\n}\n\n.hp-dxb-stopover-usp-checkmark-css {\n    width: 16px;\n    height: 16px;\n    background-color: #E7F0E6;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    position: relative;\n}\n\n.hp-dxb-stopover-usp-checkmark-css::after {\n    content: '';\n    width: 3px;\n    height: 6px;\n    border: solid #15700E;\n    border-width: 0 1px 1px 0;\n    transform: rotate(45deg);\n    margin-top: -2px;\n}\n\n/*Middle Row*/\n.dxb_hbp_form {\n    display: flex;\n    margin: 10px 0 20px 0;\n    gap: 16px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n}\n\n.dxb-stopover-selection-form {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n}\n\n.dxb-stopover-selection-radio {\n    display: flex;\n    gap: 24px;\n}\n\n.dxb-stopover-nights-form {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.dxb-stopover-nights-radio {\n    display: flex;\n    gap: 32px;\n}\n\n/**/\n\n.hp-dxb-stopover-container {\n    padding: 20px 0;\n    width: 100%;\n    font-family: Noto Sans Display, Arial, sans-serif;\n}\n\n.hp-dxb-stopover-form-row {\n    display: flex;\n    align-items: baseline;\n}\n.hp-dxb-stopover-form-row:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n}\n\n.hp-dxb-stopover-form-group {\n    font-size: 14px;\n    line-height: 150%;\n    color: #444;\n    width: 50%;\n    padding-right: 20px;\n    white-space: nowrap;\n}\n\n.hp-dxb-stopover-form-label {\n    margin-bottom: 8px;\n    display: block;\n    font-weight: 400;\n    color: #666;\n}\n\n.hp-dxb-stopover-form-label-choose-leg {\n    margin-bottom: 16px;\n}\n\n.hp-dxb-stopover-radio-group {\n    display: flex;\n    gap: 24px;\n    align-items: center;\n    font-weight: 300;\n}\n\n.hp-dxb-stopover-radio-option {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    cursor: pointer;\n}\n\n.hp-dxb-stopover-radio-input {\n    width: 20px;\n    height: 20px;\n    border: 1px solid #666;\n    border-radius: 50%;\n    position: relative;\n    cursor: pointer;\n}\n\n.hp-dxb-stopover-radio-input-selected {\n    border-color: #666;\n}\n\n.hp-dxb-stopover-radio-input-selected::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 9px;\n    height: 9px;\n    background-color: #d71921;\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n}\n\n.hp-dxb-stopover-radio-label {\n    color: #000;\n    cursor: pointer;\n}\n\n.hp-dxb-stopover-nights-section {\n    display: flex;\n    flex-direction: row;\n    align-items: baseline;\n    gap: 16px;\n}\n\n.hp-dxb-stopover-counter-container {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n}\n\n.hp-dxb-stopover-counter-btn {\n    width: 40px;\n    height: 40px;\n    border: 1px solid #333;\n    background: white;\n    border-radius: 3px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 20px;\n    color: #333;\n    transition: all 0.2s ease;\n}\n\n.hp-dxb-stopover-counter-btn:hover {\n    border-color: #999;\n    background-color: #f8f8f8;\n}\n\n.hp-dxb-stopover-counter-btn:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n}\n\n.hp-dxb-stopover-counter-btn:disabled:hover {\n    border-color: #ddd;\n    background-color: white;\n}\n.hp-dxb-stopover-counter-btn:focus {\n    /*border-color: #ddd !important;*/\n    /*background-color: white !important;*/\n    box-shadow: none !important;\n}\n.hp-dxb-stopover-counter-btn:active {\n    background: #e6e6e6;\n    box-shadow: 0 .2rem .1rem 0 rgba(0, 0, 0, .1);\n    /*transition: 1s;*/\n}\n\n.hp-dxb-stopover-nights-display {\n    font-weight: 700;\n    color: #333;\n    min-width: 80px;\n    text-align: center;\n}\n\n.hp-dxb-stopover-departure-info {\n    color: #888;\n    font-size: 14px;\n    margin-top: 8px;\n}\n\n\n@media (max-width: 768px) {\n    .hp-dxb-stopover-form-row {\n        flex-direction: column;\n        gap: 24px;\n        align-items: stretch;\n    }\n\n    .hp-dxb-stopover-nights-section {\n        align-items: flex-start;\n    }\n\n    .hp-dxb-stopover-counter-container {\n        justify-content: flex-start;\n    }\n}\n\n\n/* Booking Page */\n@media only screen and (min-width: 1024px) {\n    .e-container--separator .content-header__subtext {\n        max-width: 90%;       \n    }\n}\n\n@media only screen and (max-width: 1023px) {\n    .bp-dxb-stopover-outer-container {\n        margin-top: 6px;\n    }\n}\n\n.call-to-action-dubai:focus {\n    box-shadow: none !important;\n}\n\n#bp-dxb-stopover-tab-new {\n    font-size: 12px;\n    font-family: Noto Sans Display;\n    font-weight: 300;\n    line-height: 18px;\n    letter-spacing: 0.60px;\n    background: #F3E5E5;\n    color: #8D0203;\n    padding: 2px 8px;\n    border-radius: 8px;\n    margin-right: 8px;\n}\n\n/*.bp-dxb-stopover-container-na {*/\n/*    padding: 16px 2px;*/\n/*    font-size: 14px;*/\n/*    font-weight: 300;*/\n/*    font-family: Noto Sans Display, Arial, sans-serif;*/\n/*    margin-left: 10px;*/\n/*}*/\n\n.bp-dxb-stopover-container-na {\n    padding: 10px 10px;\n    font-size: 14px;\n    font-weight: 500;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    color: #406DC0;\n    background: #F0F4FF;\n    border-radius: 3px;\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    gap: 10px;\n    margin: 10px 0 20px;\n}\n\n#bp-dxb-stopover-container-na-icon {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHZpZXdCb3g9IjAgMCAxNSAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjUgMTVDMTEuNjQyMSAxNSAxNSAxMS42NDIxIDE1IDcuNUMxNSAzLjM1Nzg2IDExLjY0MjEgMCA3LjUgMEMzLjM1Nzg2IDAgMCAzLjM1Nzg2IDAgNy41QzAuMDA0OTU5MTcgMTEuNjQwMSAzLjM1OTkyIDE0Ljk5NSA3LjUgMTVaTTcuNSAxLjQwNjI1QzEwLjg2NTUgMS40MDYyNSAxMy41OTM4IDQuMTM0NTEgMTMuNTkzOCA3LjVDMTMuNTkzOCAxMC44NjU1IDEwLjg2NTUgMTMuNTkzOCA3LjUgMTMuNTkzOEM0LjEzNDUxIDEzLjU5MzggMS40MDYyNSAxMC44NjU1IDEuNDA2MjUgNy41QzEuNDEwOCA0LjEzNjQgNC4xMzY0IDEuNDEwOCA3LjUgMS40MDYyNVpNNi44NzUgMTEuMjVDNi44NTk5MSAxMS40MTQ3IDYuOTE1NjIgMTEuNTc4MSA3LjAyODIxIDExLjY5OTJDNy4xNDA3OSAxMS44MjA0IDcuMjk5NjIgMTEuODg4IDcuNDY1IDExLjg4NUM3LjgyODk1IDExLjg4NjQgOC4xMjU4OCAxMS41OTM5IDguMTMgMTEuMjNWNi45MUM4LjEzIDYuMzU3NDUgNy45NTIxIDYuMTc4NSA3LjU4OTg0IDYuMTc4NUM3LjEzODk4IDYuMTc4NSA2Ljg3NSA2LjI1ODc5IDYuODc1IDYuODc1VjExLjI1Wk03LjUgMy43NUM3Ljc1NDIzIDMuNzQ2OTYgNy45ODUxNyAzLjg5NzY0IDguMDg0ODEgNC4xMzE1NUM4LjE4NDQ0IDQuMzY1NDcgOC4xMzMwOCA0LjYzNjM5IDcuOTU0NzQgNC44MTc2QzcuNzc2NCA0Ljk5ODgyIDcuNTA2MzQgNS4wNTQ1MSA3LjI3MDg2IDQuOTU4NjNDNy4wMzUzOCA0Ljg2Mjc1IDYuODgxMDMgNC42MzQyNSA2Ljg4IDQuMzhDNi44Nzc1IDQuMDM0OTMgNy4xNTQ5MyAzLjc1MzAzIDcuNSAzLjc1WiIgZmlsbD0iIzQwNkRDMCIvPgo8L3N2Zz4K);\n}\n\n.bp-dxb-stopover-container {\n    padding: 8px 0;\n    width: 100%;\n    font-family: Noto Sans Display, Arial, sans-serif;\n}\n\n@media only screen and (max-width: 1023px) {\n    .bp-dxb-stopover-container {\n        padding: 0;\n    }\n}\n\n.bp-dxb-stopover-form-row {\n    display: flex;\n    align-items: baseline;\n}\n.bp-dxb-stopover-form-row:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n}\n\n.bp-dxb-stopover-form-group {\n    font-size: 14px;\n    line-height: 150%;\n    color: #444;\n    width: 33.3%;\n    /*padding-right: 10px;*/\n    white-space: nowrap;\n}\n\n.bp-dxb-stopover-form-group-1 {\n    margin-left: 10px;\n}\n\n.bp-dxb-stopover-form-label {\n    margin-bottom: 16px;\n    display: block;\n    font-weight: 400;\n    color: #666;\n}\n\n.bp-dxb-stopover-form-label-choose-leg {\n    margin-bottom: 24px;\n}\n\n.bp-dxb-stopover-radio-group {\n    display: flex;\n    gap: 24px;\n    align-items: center;\n    font-weight: 300;\n}\n\n.bp-dxb-stopover-radio-option {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    cursor: pointer;\n}\n\n.bp-dxb-stopover-radio-input {\n    width: 20px;\n    height: 20px;\n    border: 1px solid #666;\n    border-radius: 50%;\n    position: relative;\n    cursor: pointer;\n}\n\n.bp-dxb-stopover-radio-input-selected {\n    border-color: #666;\n}\n\n.bp-dxb-stopover-radio-input-selected::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 9px;\n    height: 9px;\n    background-color: #d71921;\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n}\n\n.bp-dxb-stopover-radio-label {\n    color: #000;\n    cursor: pointer;\n}\n\n.bp-dxb-stopover-nights-section {\n    display: flex;\n    flex-direction: row;\n    align-items: baseline;\n    gap: 16px;\n}\n\n.bp-dxb-stopover-counter-container {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n}\n\n.bp-dxb-stopover-counter-btn {\n    width: 40px;\n    height: 40px;\n    border: 1px solid #e8e8e8;\n    background: white;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    font-size: 20px;\n    color: #333;\n    transition: all 0.2s ease;\n}\n\n.bp-dxb-stopover-counter-btn:hover {\n    border-color: #999;\n    background-color: #f8f8f8;\n}\n\n.bp-dxb-stopover-counter-btn:disabled {\n    opacity: 0.9;\n    cursor: not-allowed;\n    background-color: #d8d8d8;\n    border-color: #e8e8e8;\n    color: #666;\n}\n\n.bp-dxb-stopover-counter-btn:focus {\n    border-radius: 50%;\n    box-shadow: none !important;\n    \n}\n\n.bp-dxb-stopover-counter-btn:active {\n    background: #e6e6e6;\n    box-shadow: 0 .2rem .1rem 0 rgba(0, 0, 0, .1);\n}\n\n.bp-dxb-stopover-nights-display {\n    color: #333;\n    min-width: 80px;\n    text-align: center;\n    color: #444444;\n    \n    font-size: 16px;\n    font-family: Noto Sans Display;\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: 0.64px;\n}\n\n.bp-dxb-stopover-departure-info {\n    color: #888;\n    font-size: 14px;\n    margin-top: 8px;\n}\n\n@media (max-width: 1023px) {\n    .bp-dxb-stopover-form-row {\n        flex-direction: column;\n        gap: 24px;\n    }\n    .bp-dxb-stopover-nights-section {\n        flex-direction: column;\n        gap: 0;\n    }\n    .bp-dxb-stopover-departure-info {\n        margin: 20px 0 10px;\n    }\n}\n\n/*Booking Page Stopover Benefits*/\n.bp-dxb-beneifts-outer-container {\n    margin: 60px 0px;\n    color: #444;\n    font-family: Noto Sans Display, Arial, sans-serif;\n}\n\n@media (max-width: 1131px) {\n    .bp-dxb-beneifts-outer-container {\n        margin: 60px 16px;\n    }\n}\n\n.bp-dxb-beneifts-header {\n    font-size: 24px;\n    font-weight: 500;\n    line-height: 33.60px;\n    letter-spacing: 0.48px;\n    word-wrap: break-word;\n    margin-bottom: 16px;\n}\n\n.bp-dxb-beneifts-header-para {\n    font-size: 14px;\n    font-weight: 300;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n    word-wrap: break-word;\n    margin-bottom: 24px;\n}\n\n.bp-dxb-beneifts-picture-container {\n    display: flex;\n    gap: 16px;\n}\n\n.bp-dxb-beneifts-picture-inner-container {\n    justify-content: space-around;\n    display: flex;\n    gap: 16px;\n}\n\n.bp-dxb-beneifts-picture { \n    margin-bottom: 16px;\n    border-radius: 8px;\n    max-width: 100%;\n    height: auto;\n}\n\n@media (max-width: 599px) {\n    .bp-dxb-beneifts-picture-container {\n        flex-direction: column;\n    }\n    .bp-dxb-beneifts-outer-container {\n        margin: 48px 16px;\n    }\n}\n\n\n.bp-dxb-beneifts-picture-para {\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: 0.64px;\n    word-wrap: break-word;\n    text-align: center;\n    margin-bottom: 24px;\n}\n\n\n@media (max-width: 799px) and (min-width: 599px) {\n    .bp-dxb-beneifts-picture-para {\n        font-size: 14px;\n    }\n}\n\n/*BP Dubai Stopover Benefits*/\n.bp-dxb-stopover-usp {\n    display: flex;    \n    flex-direction: column;\n    align-items: center;\n    gap: 15px;\n}\n\n.bp-dxb-stopover-usp-separator {\n    width: 100%; \n    height: 100%; \n    overflow: hidden; \n    flex-direction: column; \n    justify-content: center; \n    align-items: flex-start; \n    display: inline-flex;\n    margin-top: 20px;\n}\n\n.bp-dxb-stopover-usp-separator-line {\n    align-self: stretch; \n    height: 1px; \n    background: #E8E8E8;\n}\n\n.bp-dxb-stopover-usp-content-container {\n    display: inline-flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 24px;\n    width: 100%;\n    height: 100%;\n}\n\n.bp-dxb-stopover-usp-right-container {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n}\n\n.bp-dxb-stopover-usp-img {\n    object-fit: contain;\n    border-radius: 4px;\n}\n\n.bp-dxb-stopover-usp-header {\n    color: #333333;\n    font-size: 14px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 500;\n    line-height: 21px;\n}\n\n.bp-dxb-stopover-usp-usps-box-outer {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n}\n\n.bp-dxb-stopover-usp-usps-box {\n    display: flex;\n    flex-direction: row;\n    gap: 32px;\n    row-gap: 8px;\n    flex-wrap: wrap;\n}\n\n@media (max-width: 650px) {\n    .bp-dxb-stopover-usp-content-container {\n        flex-direction: column;\n        display: grid;\n        grid-template-columns: 68px 1fr;\n        grid-template-rows: auto auto;\n    }\n    \n    .bp-dxb-stopover-usp-image-container {\n        order: 1;\n        grid-column: 1;\n        grid-row: 1;\n    }\n    \n    .bp-dxb-stopover-usp-right-container {\n        display: contents;\n    }\n    \n    .bp-dxb-stopover-usp-header {\n        order: 2;\n        grid-column: 2;\n        grid-row: 1;\n    }\n    \n    .bp-dxb-stopover-usp-usps-box-outer {\n        order: 2;\n        grid-column: 1 / -1;\n        grid-row: 2;\n    }\n}\n\n\n.bp-dxb-stopover-usp-single-usp {\n    color: #444444;\n    font-size: 14px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 300;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n    display: inline-flex;\n    gap: 8px;\n    align-items: center;\n}\n\n.bp-dxb-stopover-usp-find-more {\n    color: #444444;\n    font-size: 14px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 300;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n    display: inline-flex;\n    gap: 8px;\n    align-items: center;\n    text-decoration: underline;\n    cursor: pointer;\n}\n\n.bp-dxb-stopover-usp-checkmark-css {\n    width: 16px;\n    height: 16px;\n    background-color: #E7F0E6;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    position: relative;\n}\n\n.bp-dxb-stopover-usp-checkmark-css::after {\n    content: '';\n    width: 3px;\n    height: 6px;\n    border: solid #15700E;\n    border-width: 0 1px 1px 0;\n    transform: rotate(45deg);\n    margin-top: -2px;\n}\n\n\n\n/*BP Stopover Benefits Modal*/\n\n#bp-dxb-stopover-usp-modal-container {\n    display: none;\n}\n\n.bp-dxb-stopover-usp-modal-overlay {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  z-index: 999999;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  -webkit-backdrop-filter: blur(10px);\n  backdrop-filter: blur(10px);\n  background-color: rgba(0,0,0,0.1);\n  font-family: Arial,HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n}\n\n@media (max-width: 570px) {\n    .bp-dxb-stopover-usp-modal-overlay {\n        align-items: flex-end;\n        justify-content: stretch;\n    }\n}\n\n.bp-dxb-stopover-usp-modal-outer-container {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  background-color: #FFF;\n  margin: 0px auto;\n  border-radius: 8px;\n  height: 100%;\n  max-width: 728px;\n  width: 90%;\n  border: none;\n  height: auto;\n  text-align: center;\n}\n\n@media (max-width: 570px) {\n    .bp-dxb-stopover-usp-modal-outer-container {\n        max-width: 100%;\n        width: 100%;\n        border-radius: 16px 16px 0 0;\n    }\n}\n\n.bp-dxb-stopover-usp-modal-content-container {\n  display: flex;  \n  flex-direction: column;\n  gap: 24px;\n  padding: 24px;\n  max-height: 90vh;\n  width: 100%;\n  font-family: Noto Sans Display, Arial, sans-serif;\n  text-align: left;\n}\n\n@media (max-width: 570px) {\n    .bp-dxb-stopover-usp-modal-content-container {\n        padding: 16px;\n        padding-bottom: 24px;\n    }\n}\n\n.bp-dxb-stopover-usp-modal-modal-content-close-icon {\n    position: absolute;\n    top: 5%;\n    right: 5%;\n    font-size: 20px;\n    color: #444;\n    padding: 0 5px;\n    cursor: pointer;\n}\n\n@media (max-width: 570px) {\n    .bp-dxb-stopover-usp-modal-modal-content-close-icon {\n        top: 3%;\n    }\n}\n\n.bp-dxb-stopover-usp-modal-header-container {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 16px;\n}\n\n.bp-dxb-stopover-usp-modal-header {\n    color: #444444;\n    font-size: 24px;\n    font-family: Noto Sans Display;\n    font-weight: 500;\n    line-height: 33.60px;\n    letter-spacing: 0.48px;\n    word-wrap: break-word;\n}\n\n@media (max-width: 570px) {\n    .bp-dxb-stopover-usp-modal-header {\n        font-size: 16px;\n        line-height: 22.40px;\n        letter-spacing: 0.32px;\n        margin-bottom: 16px;\n        max-width: 90%;\n    }\n}\n\n.bp-dxb-stopover-usp-modal-header-para {\n    color: #444444;\n    font-size: 14px;\n    font-family: Noto Sans Display;\n    font-weight: 300;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n    word-wrap: break-word;\n}\n\n.bp-dxb-stopover-usp-modal-picture-carousel-wrapper {\n    width: 100%;\n    text-align: center;\n}\n\n.bp-dxb-stopover-usp-modal-picture-carousel-container {\n    width: 100%;\n    overflow-x: auto;\n    overflow-y: hidden;\n    scrollbar-width: none;\n}\n\n.bp-dxb-stopover-usp-modal-picture-carousel-container::-webkit-scrollbar  {\n    display: none;\n}\n\n.bp-dxb-stopover-usp-modal-picture-carousel-scrollbar {\n    display: none;\n    width: 88px;\n    height: 6px;\n    border-radius: 8px;\n    margin: 24px auto 0;\n    position: relative;\n    background-color: #e8e8e8;\n}\n\n.bp-dxb-stopover-usp-modal-picture-carousel-scrollbar-thumb {\n    height: 100%;\n    width: 38px;\n    background: #555;\n    border-radius: 3px;\n    transition: width 0.2s;\n    position: absolute;\n    left: 0;\n}\n\n@media (max-width: 820px) {\n    .bp-dxb-stopover-usp-modal-picture-carousel-scrollbar {\n        display: block;\n    }\n}\n\n.bp-dxb-stopover-usp-modal-picture-container {\n    display: flex;\n    gap: 16px\n}\n\nimg.bp-dxb-stopover-usp-modal-picture {\n    border-radius: 10px;\n}\n\n.bp-dxb-stopover-usp-modal-picture-component img {\n    width: 158px;\n    height: 237px;\n    border-radius: 10px;\n    flex-shrink: 0;\n}\n\n@media (max-width: 570px) {\n    .bp-dxb-stopover-usp-modal-picture-component img {\n        width: 116px;\n        height: 174px;\n    }\n}\n\n.bp-dxb-stopover-usp-modal-picture-para {\n    position: absolute;\n    left: 10%;\n    bottom: 10%;\n    text-align: center;\n    color: white;\n    right: 10%;\n    \n    color: white;\n    font-size: 18px;\n    font-family: Noto Sans Display;\n    font-weight: 500;\n    line-height: 27px;\n    letter-spacing: 0.36px;\n    word-wrap: break-word\n}\n\n.bp-dxb-stopover-usp-modal-info-para-container {\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n    padding: 16px;\n    background-color: #F7F7F7;\n}\n\n.bp-dxb-stopover-usp-modal-info-para-sub-container {\n    display: flex;\n    gap: 16px;\n    align-items: center;\n}\n\n.bp-dxb-stopover-usp-modal-info-para {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.bp-dxb-stopover-usp-modal-info-hotel {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IkZyYW1lIj4KPHBhdGggaWQ9IlZlY3RvciIgZD0iTTMgMjEuMDAwMkgyMU01IDIxLjAwMDJWNy4zMDkyNkM1IDcuMTE5ODggNS4xMDcgNi45NDY3NCA1LjI3NjM5IDYuODYyMDVMMTIuMjc2NCAzLjM2MjA1QzEyLjYwODggMy4xOTU4MiAxMyAzLjQzNzU3IDEzIDMuODA5MjZWMjEuMDAwMk0xOSAyMS4wMDAyVjExLjI2NzhDMTkgMTEuMTAwNyAxOC45MTY0IDEwLjk0NDUgMTguNzc3NCAxMC44NTE4TDEzIDcuMDAwMjRNOSA5LjAwMDI0VjkuMDEwMjRNOSAxMi4wMDAyVjEyLjAxMDJNOSAxNS4wMDAyVjE1LjAxMDJNOSAxOC4wMDAyVjE4LjAxMDIiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yIDEyNCIgZD0iTTE1LjM1NzkgMTUuMTM3OUwxNi41NTc5IDE1LjEzNzkiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yIDEzMSIgZD0iTTE1LjM1NzkgMTguMTA2MkwxNi41NTc5IDE4LjEwNjIiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L2c+Cjwvc3ZnPgo=);\n}\n\n.bp-dxb-stopover-usp-modal-info-visa {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjEiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMSAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9IkZyYW1lIiBjbGlwLXBhdGg9InVybCgjY2xpcDBfNzIyXzU2MTkpIj4KPGcgaWQ9Ikdyb3VwIj4KPHBhdGggaWQ9IlZlY3RvciIgZD0iTTE2LjkyNzggMC43MTQ4NDRINC4wNzA2NkMzLjI4MTY4IDAuNzE0ODQ0IDIuNjQyMDkgMS4zNTQ0NCAyLjY0MjA5IDIuMTQzNDJWMTcuODU3N0MyLjY0MjA5IDE4LjY0NjcgMy4yODE2OCAxOS4yODYzIDQuMDcwNjYgMTkuMjg2M0gxNi45Mjc4QzE3LjcxNjggMTkuMjg2MyAxOC4zNTY0IDE4LjY0NjcgMTguMzU2NCAxNy44NTc3VjIuMTQzNDJDMTguMzU2NCAxLjM1NDQ0IDE3LjcxNjggMC43MTQ4NDQgMTYuOTI3OCAwLjcxNDg0NFoiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yXzIiIGQ9Ik0xMC40OTk2IDEyLjg1NzhDMTIuODY2NSAxMi44NTc4IDE0Ljc4NTMgMTAuOTM5IDE0Ljc4NTMgOC41NzIwOUMxNC43ODUzIDYuMjA1MTYgMTIuODY2NSA0LjI4NjM4IDEwLjQ5OTYgNC4yODYzOEM4LjEzMjY1IDQuMjg2MzggNi4yMTM4NyA2LjIwNTE2IDYuMjEzODcgOC41NzIwOUM2LjIxMzg3IDEwLjkzOSA4LjEzMjY1IDEyLjg1NzggMTAuNDk5NiAxMi44NTc4WiIgc3Ryb2tlPSIjNDQ0NDQ0IiBzdHJva2Utd2lkdGg9IjEuMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGlkPSJWZWN0b3JfMyIgZD0iTTYuMjEzODcgOC41NzIwOUgxNC43ODUzTTEwLjQ5OTYgMTIuODU3OFY0LjI4NjM4IiBzdHJva2U9IiM0NDQ0NDQiIHN0cm9rZS13aWR0aD0iMS4yIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9nPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzcyMl81NjE5Ij4KPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC41IDAuMDAwMjQ0MTQxKSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=);\n}\n\n.bp-dxb-stopover-usp-modal-info-para-header {\n    color: #444444;\n    font-size: 14px;\n    font-family: Noto Sans Display;\n    font-weight: 500;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n    word-wrap: break-word;\n}\n\n.bp-dxb-stopover-usp-modal-info-para-subtitle {\n    color: #444444;\n    font-size: 14px;\n    font-family: Noto Sans Display;\n    font-weight: 300;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n    word-wrap: break-word;\n}\n\n/* Inbound Flight Row */\n.bp_arr_value_filled {\n    top: 11.5px !important;\n    font-size: 1.2rem !important;\n    letter-spacing: .6px !important;\n}\n\n.bp_arr_value_removed {\n    top: 21px !important;\n    font-size: 1.6rem !important;\n    letter-spacing: .64px !important;\n}\n\n.bp_stopover_airport_opaque {\n    /*opacity: 0.6;*/\n    pointer-events: none;\n}\n\n.bp_stopover_airport_cursor_not_allowed {\n    cursor: not-allowed;\n}\n\n.bp_stopover_airport_disabled {\n    /*opacity: 0.7;*/\n    cursor: not-allowed;\n    pointer-events: none;\n}\n.bp_stopover_airport_disabled:hover {\n    box-shadow: none !important;\n}\n\n\n/*Flight Review Page*/\n.dxb-frp-dso-info-outer-container {\n    display: flex;\n    margin: 32px auto;\n}\n\n.dxb-frp-dso-info-inner-container {\n    /*margin: 32px auto;*/\n    display: flex;\n    flex-direction: row;\n    padding: 32px;\n    background: white;\n    width: 100%;\n    /*text-align: center;*/\n    border-radius: 10px;\n    border: 1px solid #e8e8e8;\n    align-items: center;\n    gap: 16px;\n}\n\n.dxb-frp-skyline-svg { \n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgaWQ9ImNpdHktc2t5bGluZS1keGIiPgo8cGF0aCBpZD0iVmVjdG9yIDI4IiBkPSJNNiAzNS43MjEyTDM0IDM1LjcyMTIiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggaWQ9IlZlY3RvciAxMjkiIGQ9Ik0yMS4yODQ3IDM1LjcyMTFMMjEuMjg1MiAxMC43OTcxQzI3LjUyODEgMTIuNjk3MSAzNS41NzMzIDIwLjQ1NzggMzIuMTgyOCAzNS43MjExIiBzdHJva2U9IiM0NDQ0NDQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGlkPSJWZWN0b3IgMTMwIiBkPSJNMjUuMjkgMTYuNTY5NUwzMi45ODUxIDE2LjU2OTUiIHN0cm9rZT0iIzQ0NDQ0NCIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggaWQ9IlZlY3RvciAxMjQiIGQ9Ik0yNS4yOSAyNi43ODU5TDI3LjkyNDQgMjYuNzg1OSIgc3Ryb2tlPSIjNDQ0NDQ0IiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBpZD0iVmVjdG9yIDEzMSIgZD0iTTI1LjI5IDMxLjUyODNMMjguOTc4MSAzMS41MjgzIiBzdHJva2U9IiM0NDQ0NDQiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGlkPSJWZWN0b3IiIGQ9Ik03LjY0MjYgMzUuNzIxM0w2LjY0MjYgMzUuNzIxM0w2LjY0MjYgMzYuNzIwNkw3LjY0MTkzIDM2LjcyMTNMNy42NDI2IDM1LjcyMTNaTTEzLjU1NzUgMTQuMDQzN0wxNC4yMzk5IDE0Ljc3NDdDMTQuNDQyNSAxNC41ODU2IDE0LjU1NzUgMTQuMzIwOCAxNC41NTc1IDE0LjA0MzdMMTMuNTU3NSAxNC4wNDM3Wk0xNy4yODQ2IDguNjMzMTlIMTguMjg0NkMxOC4yODQ2IDguMzYwMTYgMTguMTczIDguMDk5MDEgMTcuOTc1NyA3LjkxMDM1TDE3LjI4NDYgOC42MzMxOVpNMTYuNDAyNSA0LjI1ODU0QzE2LjQwMjUgMy43MDYyNiAxNS45NTQ4IDMuMjU4NTQgMTUuNDAyNSAzLjI1ODU0QzE0Ljg1MDIgMy4yNTg1NCAxNC40MDI1IDMuNzA2MjYgMTQuNDAyNSA0LjI1ODU0SDE2LjQwMjVaTTEzLjU1NzYgOC42MjY2OEwxMi44NjA3IDcuOTA5NDlDMTIuNjY2OSA4LjA5Nzc4IDEyLjU1NzYgOC4zNTY0OCAxMi41NTc2IDguNjI2NjdMMTMuNTU3NiA4LjYyNjY4Wk04LjY2NDgyIDI5LjQ4MzdMOS4zMjk1OSAzMC4yMzA4QzkuMzM5ODUgMzAuMjIxNyA5LjM0OTkyIDMwLjIxMjMgOS4zNTk4IDMwLjIwMjhMOC42NjQ4MiAyOS40ODM3Wk0xNy4yODQ2IDM1LjcyNzhMMTcuMjg0IDM2LjcyNzhMMTguMjg0NiAzNi43Mjg0VjM1LjcyNzhIMTcuMjg0NlpNMTIuMTA0IDE1LjQwMDVMMTEuNDIxNyAxNC42Njk0TDEyLjEwNCAxNS40MDA1Wk0xMC4xMjE3IDIyLjY4MDZMOS40NDUwNyAyMS45NDQzTDEwLjEyMTcgMjIuNjgwNlpNMTEuMDgxNyAyMS43OTg0TDEwLjQwNSAyMS4wNjIxTDExLjA4MTcgMjEuNzk4NFpNOC4xNzcyOSAyOS45MTc2TDguODQyMDUgMzAuNjY0Nkw4LjE3NzI5IDI5LjkxNzZaTTguNjQyNiAzNS43MjEzTDguNjQyNTggMzEuMTA5MUw2LjY0MjU4IDMxLjEwOTFMNi42NDI2IDM1LjcyMTNMOC42NDI2IDM1LjcyMTNaTTEwLjYwNTkgMjcuODk3NVYyMy44NTVIOC42MDU5NVYyNy44OTc1SDEwLjYwNTlaTTE2LjQwMjUgNi44MzM5NlY0LjI1ODU0SDE0LjQwMjVWNi44MzM5NkgxNi40MDI1Wk0xNC41NTc1IDE0LjA0MzdMMTQuNTU3NiA4LjYyNjY5TDEyLjU1NzYgOC42MjY2N0wxMi41NTc1IDE0LjA0MzdMMTQuNTU3NSAxNC4wNDM3Wk0xNi4yODQ2IDguNjMzMTlWMjIuNTQxM0gxOC4yODQ2VjguNjMzMTlIMTYuMjg0NlpNOC44NDIwNSAzMC42NjQ2TDkuMzI5NTkgMzAuMjMwOEw4LjAwMDA2IDI4LjczNjdMNy41MTI1MiAyOS4xNzA1TDguODQyMDUgMzAuNjY0NlpNOS4zNTk4IDMwLjIwMjhMOS44MTQ0IDI5Ljc2MzRMOC40MjQ0NSAyOC4zMjUzTDcuOTY5ODQgMjguNzY0N0w5LjM1OTggMzAuMjAyOFpNMTAuNTk3NCAxNi41NjY0VjIwLjYyNEgxMi41OTc0VjE2LjU2NjRIMTAuNTk3NFpNMTAuNDA1IDIxLjA2MjFMOS40NDUwNyAyMS45NDQzTDEwLjc5ODQgMjMuNDE2OUwxMS43NTgzIDIyLjUzNDdMMTAuNDA1IDIxLjA2MjFaTTEyLjc4NjQgMTYuMTMxNUwxNC4yMzk5IDE0Ljc3NDdMMTIuODc1MSAxMy4zMTI3TDExLjQyMTcgMTQuNjY5NEwxMi43ODY0IDE2LjEzMTVaTTE0LjI1NDQgOS4zNDM4N0wxNi4wOTk0IDcuNTUxMTVMMTQuNzA1NiA2LjExNjc3TDEyLjg2MDcgNy45MDk0OUwxNC4yNTQ0IDkuMzQzODdaTTE3Ljk3NTcgNy45MTAzNUwxNi4wOTM1IDYuMTExMTJMMTQuNzExNSA3LjU1NjgxTDE2LjU5MzYgOS4zNTYwNEwxNy45NzU3IDcuOTEwMzVaTTE2LjI4NDYgMjIuNTQxM1YzNS43Mjc4SDE4LjI4NDZWMjIuNTQxM0gxNi4yODQ2Wk0xNy4yODUzIDM0LjcyNzhMNy42NDMyOCAzNC43MjEzTDcuNjQxOTMgMzYuNzIxM0wxNy4yODQgMzYuNzI3OEwxNy4yODUzIDM0LjcyNzhaTTEyLjU5NzQgMTYuNTY2NEMxMi41OTc0IDE2LjQwMTUgMTIuNjY1OSAxNi4yNDQgMTIuNzg2NCAxNi4xMzE1TDExLjQyMTcgMTQuNjY5NEMxMC44OTU5IDE1LjE2MDIgMTAuNTk3NCAxNS44NDcyIDEwLjU5NzQgMTYuNTY2NEgxMi41OTc0Wk0xMC42MDU5IDIzLjg1NUMxMC42MDU5IDIzLjY4ODUgMTAuNjc1NyAyMy41Mjk2IDEwLjc5ODQgMjMuNDE2OUw5LjQ0NTA3IDIxLjk0NDNDOC45MTAzIDIyLjQzNTcgOC42MDU5NSAyMy4xMjg3IDguNjA1OTUgMjMuODU1SDEwLjYwNTlaTTEwLjU5NzQgMjAuNjI0QzEwLjU5NzQgMjAuNzkwNSAxMC41Mjc2IDIwLjk0OTQgMTAuNDA1IDIxLjA2MjFMMTEuNzU4MyAyMi41MzQ3QzEyLjI5MzEgMjIuMDQzMyAxMi41OTc0IDIxLjM1MDMgMTIuNTk3NCAyMC42MjRIMTAuNTk3NFpNOC42NDI1OCAzMS4xMDkxQzguNjQyNTggMzAuOTM5MyA4LjcxNTE3IDMwLjc3NzUgOC44NDIwNSAzMC42NjQ2TDcuNTEyNTIgMjkuMTcwNUM2Ljk1OTE0IDI5LjY2MjkgNi42NDI1OCAzMC4zNjg0IDYuNjQyNTggMzEuMTA5MUw4LjY0MjU4IDMxLjEwOTFaTTguNjA1OTUgMjcuODk3NUM4LjYwNTk1IDI4LjA1ODggOC41NDA0NSAyOC4yMTMyIDguNDI0NDUgMjguMzI1M0w5LjgxNDQgMjkuNzYzNEMxMC4zMjAzIDI5LjI3NDQgMTAuNjA1OSAyOC42MDEgMTAuNjA1OSAyNy44OTc1SDguNjA1OTVaIiBmaWxsPSIjNDQ0NDQ0Ii8+CjwvZz4KPC9zdmc+Cg==);\n}\n\n.dxb-frp-dso-info-header {\n    font-family: Noto Sans Display, Arial, sans-serif;;\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 150%;\n}\n\n.dxb-frp-dso-info {\n    font-family: Noto Sans Display, Arial, sans-serif;;\n    margin-left: 8px;\n    font-size: 14px;\n    line-height: 150%;\n    font-weight: 300;\n}\n\n.dxb-frp-dso-info-nights {\n    font-weight: 500;\n}\n\n\n/*Confirmation Page*/\n.cp-dxb-stopover-outer-container {\n    margin: 0;\n    padding: 0;\n    margin-bottom: 32px;\n}\n\n@media (max-width: 1023px) {\n    .cp-dxb-stopover-outer-container {\n        margin: 0 16px 32px 16px;\n    }\n}\n.cp-dxb-stopover-inner-container {\n    display: flex;\n    flex-direction: row;\n    margin: 0;\n    background-color: #fff;\n    border-radius: .8rem;\n    box-shadow: 0 .4rem 3.1rem 0 rgba(96, 96, 96, .1);\n    gap: 24px;\n    padding: 16px 24px;\n    justify-content: space-between;\n    color: #444;\n}\n\n.cp-dxb-stopover-left-container {\n    display: flex;\n    flex-direction: row;\n    gap: 24px;\n}\n\n.cp-dxb-stopover-img img {\n    border-radius: 8px;\n}\n\n.cp-dxb-stopover-text-container {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n    justify-content: center;\n}\n\n.cp-dxb-stopover-header {\n    font-size: 18px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 500;\n    line-height: 27px;\n    letter-spacing: 0.36px;\n}\n\n.cp-dxb-stopover-para {\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-size: 14px;\n    font-weight: 300;\n    line-height: 21px;\n    letter-spacing: 0.56px;\n}\n\n.cp-dxb-stopover-cta-outer-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n.cp-dxb-stopover-cta-container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    gap: 8px;\n    color: #444;\n    padding: 8px 12px;\n}\n\n.cp-dxb-stopover-cta-container:hover {\n    box-shadow: 0 0 11px rgba(33, 33, 33, .2);\n    border-radius: 8px;\n}\n\n.cp-dxb-stopover-cta-button {\n    font-size: 14px;\n    font-family: Noto Sans Display, Arial, sans-serif;\n    font-weight: 400;\n    line-height: 21px;\n    letter-spacing: 0.28px;\n}\n\n.cp-dxb-stopover-cta-icon {\n    content: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxNiAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuMTgzMSAxMi4yNzg3QzUuOTM4OTcgMTIuNTU4MSA1LjkzODk3IDEzLjAxMTEgNi4xODMxIDEzLjI5MDVDNi40MjcyNCAxMy41Njk4IDYuODIzMDcgMTMuNTY5OCA3LjA2NzIgMTMuMjkwNUwxMC44MTY5IDguOTk5MThDMTEuMDYxIDguNzE5NzggMTEuMDYxIDguMjY2NzggMTAuODE2OSA3Ljk4NzM5TDcuMDc4OTQgMy43MDk1NUM2LjgzNDgxIDMuNDMwMTUgNi40Mzg5OCAzLjQzMDE1IDYuMTk0ODQgMy43MDk1NUM1Ljk1MDcxIDMuOTg4OTUgNS45NTA3MSA0LjQ0MTk0IDYuMTk0ODQgNC43MjEzNEw5LjQ5MDc1IDguNDkzMjhMNi4xODMxIDEyLjI3ODdaIiBmaWxsPSIjNjY2NjY2Ii8+Cjwvc3ZnPgo=);\n}",html:'\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type \'d\' to see decisioning helpers --\x3e\n\n<div id="bp-dxb-stopover-usp-modal-container">\n    <div class="bp-dxb-stopover-usp-modal-overlay">\n        <div class="bp-dxb-stopover-usp-modal-outer-container">\n            <div class="bp-dxb-stopover-usp-modal-content-container">\n                <span class="bp-dxb-stopover-usp-modal-modal-content-close-icon">&times;</span> \n                <div class="bp-dxb-stopover-usp-modal-header-container">\n                    <div class="bp-dxb-stopover-usp-modal-header">Why should I book a stopover in Dubai?</div> \n                    <div class="bp-dxb-stopover-usp-modal-header-para">When you fly Emirates you can enjoy two holidays in one. Its easy to include a stopover in your itinerary for no extra fee and add hotels, tours and transfers.\n                    </div>\n                </div> \n                <div class="bp-dxb-stopover-usp-modal-picture-carousel-wrapper"> \n                    <div class="bp-dxb-stopover-usp-modal-picture-carousel-container"> \n                        <div class="bp-dxb-stopover-usp-modal-picture-container"> \n                            <div class="bp-dxb-stopover-usp-modal-picture-component">\n                                <img src="https://c.ekstatic.net/ecl/personalized-experiences/couple-enjoying-boat-ride-w160x245.jpg" />\n                            </div> \n                            <div class="bp-dxb-stopover-usp-modal-picture-component">\n                                <img src="https://c.ekstatic.net/ecl/personalized-experiences/family-ready-for-tea-w160x245.jpg" />\n                            </div> \n                            <div class="bp-dxb-stopover-usp-modal-picture-component">\n                                <img src="https://c.ekstatic.net/ecl/personalized-experiences/arabian-adventures-car-during-safari-w160x245.jpg" />\n                            </div> \n                            <div class="bp-dxb-stopover-usp-modal-picture-component">\n                                <img src="https://c.ekstatic.net/ecl/personalized-experiences/couple-having-al-fresco-dinner-w160x245.jpg" />\n                            </div> \n                        </div>\n                    </div>\n                    <div class="bp-dxb-stopover-usp-modal-picture-carousel-scrollbar">\n                            <div class="bp-dxb-stopover-usp-modal-picture-carousel-scrollbar-thumb"></div>\n                        </div>\n                </div>\n                <div class="bp-dxb-stopover-usp-modal-info-para-container">\n                    <div class="bp-dxb-stopover-usp-modal-info-para-sub-container">\n                      <div><span class="bp-dxb-stopover-usp-modal-info-hotel"></span></div>\n                      <div class="bp-dxb-stopover-usp-modal-info-para">\n                        <div class="bp-dxb-stopover-usp-modal-info-para-header">Hotels, tours and transfers</div>\n                        <div class="bp-dxb-stopover-usp-modal-info-para-subtitle">Add extras to your stopover once you book your flights</div>\n                      </div>\n                    </div>\n                    <div class="bp-dxb-stopover-usp-modal-info-para-sub-container">\n                      <div><span class="bp-dxb-stopover-usp-modal-info-visa"></span></div>\n                      <div class="bp-dxb-stopover-usp-modal-info-para">\n                        <div class="bp-dxb-stopover-usp-modal-info-para-header">Dubai Visa</div>\n                        <div class="bp-dxb-stopover-usp-modal-info-para-subtitle">A free 96-hour visa is available for most nationalities</div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n',js:"// You can choose how you want to add your HTML by using insertHTMLBefore, insertHTMLAfter, or replaceHTML methods\r\n// e.g insertHTMLAfter('.someClassName'); or insertHTMLAfter('body'); or replaceHTML('#myPageId')\r\n\r\ninsertHTMLAfter('body');\r\n\r\n(function () {\r\n    \r\n    // Helper Functions\r\n    function set_attribute (element_name, attribute_name, attribute_value) { element_name.setAttribute(attribute_name, attribute_value); }\r\n    function remove_attribute (element_name, attribute_name) { element_name.removeAttribute(attribute_name); }\r\n    function addClass (element_name, class_name) { element_name.classList.add(class_name); }\r\n    function removeClass (element_name, class_name) { element_name.classList.remove(class_name); }\r\n    function addClasses (element_list, class_name) {\r\n        for (let i=0; i<element_list.length; i++) {\r\n            addClass(element_list[i], class_name);\r\n        }\r\n    }\r\n    \r\n    function removeClasses (element_list, class_name) {\r\n        for (let i=0; i<element_list.length; i++) {\r\n            removeClass(element_list[i], class_name);\r\n        }\r\n    }\r\n\r\n    // Function to get cookie\r\n    function getCookie(name) {\r\n        const value = \"; \" + document.cookie;\r\n        const parts = value.split(\"; \" + name + \"=\");\r\n        if (parts.length === 2) \r\n          return parts.pop().split(\";\").shift();\r\n    }\r\n  \r\n    // Function to set a cookie with an expiry and domain scope\r\n    function setCookie(name, value, time=1) {\r\n        const date = new Date();\r\n        date.setTime(date.getTime() + time); // Set expiry time in milliseconds\r\n        const expires = \"expires=\" + date.toUTCString();\r\n        const domain = \"domain=\" + window.location.hostname.split('.').slice(-2).join('.') + \";\";\r\n        document.cookie = name + \"=\" + value + \";\" + expires + \";\" + domain + \"path=/\";\r\n    }\r\n    \r\n    // Function to push tracking events into the datalayer\r\n    function dataLayer_push (event_name, action_name, label_name, formDetails) {\r\n         dataLayer.push({\r\n          event: event_name,                           //   event: \"EventTrigger.PageBody_PromotionShown\",\r\n          category: \"A/B Testing and Personalisation\",\r\n          action: action_name,                         //   action: \"Promotion Shown\",\r\n          label: label_name,                           //   label: \"BX:479:STOPOVER:CustomerVariantHPBP\",\r\n          formDetails : formDetails,                   //   formDetails: \"HP_Widget\"\r\n          value: 0\r\n        })\r\n    }\r\n    \r\n    // Function to push tracking events into the datalayer\r\n    function dataLayer_push_vpv (page_name, previous_page_name) {\r\n         dataLayer.push({\r\n            \"event\"               : 'virtual_page_view',\r\n            \"page_name\"           : page_name,\r\n            \"previous_page_name\"  : previous_page_name\r\n        })\r\n    }\r\n    \r\n    // Function to find time difference between stopover flights\r\n    function calculateDateTimeDifference(dateTimeStr1, dateTimeStr2, assumedYearForFirstDate) {\r\n        const monthMap = {\r\n            'Jan': 0, 'Feb': 1, 'Mar': 2, 'Apr': 3, 'May': 4, 'Jun': 5,\r\n            'Jul': 6, 'Aug': 7, 'Sep': 8, 'Oct': 9, 'Nov': 10, 'Dec': 11\r\n        };\r\n        \r\n        /**\r\n        * Parses a single date-time string into its components.\r\n        * @param {string} dateTimeStr - The date-time string.\r\n        * @returns {object|null} An object {day, monthIndex, hour, minute} or null if format is wrong.\r\n        */\r\n        function parseSingleDateTime(dateTimeStr) {\r\n        const parts = dateTimeStr.split(' '); // e.g., [\"Tue\", \"30\", \"Dec\", \"23:05\"]\r\n        if (parts.length < 4) {\r\n            console.error(\"Invalid date-time string format:\", dateTimeStr);\r\n            return null;\r\n        }\r\n        \r\n        const day = parseInt(parts[1], 10);\r\n        const monthStr = parts[2];\r\n        const monthIndex = monthMap[monthStr];\r\n        \r\n        const timeStr = parts[3];\r\n        const timeParts = timeStr.split(':');\r\n        if (timeParts.length < 2) {\r\n            console.error(\"Invalid time format in date-time string:\", dateTimeStr);\r\n            return null;\r\n        }\r\n        const hour = parseInt(timeParts[0], 10);\r\n        const minute = parseInt(timeParts[1], 10);\r\n        \r\n        if (isNaN(day) || monthIndex === undefined || isNaN(hour) || isNaN(minute)) {\r\n            console.error(\"Failed to parse components from date-time string:\", dateTimeStr);\r\n            return null;\r\n        }\r\n            return { day, monthIndex, hour, minute };\r\n        }\r\n        \r\n        const components1 = parseSingleDateTime(dateTimeStr1);\r\n        const components2 = parseSingleDateTime(dateTimeStr2);\r\n        \r\n        if (!components1 || !components2) {\r\n            return \"Error: Invalid date-time string format provided.\";\r\n        }\r\n        \r\n        // Construct the first date using the assumed year\r\n        const year1 = assumedYearForFirstDate;\r\n        const date1 = new Date(year1, components1.monthIndex, components1.day, components1.hour, components1.minute);\r\n        \r\n        // Infer the year for the second date.\r\n        // Assume date2 always comes after date1.\r\n        // If date2 (in the same year as date1) would be earlier than date1,\r\n        // then date2 must be in the following year.\r\n        let year2;\r\n        const date2_sameYearAsDate1 = new Date(year1, components2.monthIndex, components2.day, components2.hour, components2.minute);\r\n        \r\n        if (date2_sameYearAsDate1 < date1) {\r\n            year2 = year1 + 1;\r\n        } else {\r\n            year2 = year1;\r\n        }\r\n        const date2 = new Date(year2, components2.monthIndex, components2.day, components2.hour, components2.minute);\r\n        \r\n        // Final check for valid date objects\r\n        if (isNaN(date1.getTime()) || isNaN(date2.getTime())) {\r\n            return \"Error: Could not create valid Date objects. Check input strings and assumed year.\";\r\n        }\r\n        \r\n        // Calculate the difference in milliseconds\r\n        const diffMillis = date2.getTime() - date1.getTime();\r\n        \r\n        if (diffMillis < 0) {\r\n            // This should ideally not happen with the year adjustment logic if date2 is meant to be after date1.\r\n            return \"Error: The second date appears to be earlier than the first date, even after year adjustment. Please check your inputs.\";\r\n        }\r\n        \r\n        // Convert milliseconds to total hours\r\n        const totalHours = diffMillis / (1000 * 60 * 60);\r\n        \r\n        // Calculate full days and remaining full hours\r\n        const days = Math.floor(totalHours / 24);\r\n        const remainingHours = Math.floor(totalHours % 24);\r\n        \r\n        return {\r\n            days: days,\r\n            hours: remainingHours,\r\n            totalHours: parseFloat(totalHours.toFixed(2)), // For easier reading\r\n            date1Formatted: date1.toString(),\r\n            date2Formatted: date2.toString()\r\n        };\r\n    }\r\n    \r\n    // Function to make travel segment\r\n    function construct_travel_segment (departing_airport, arrival_airport, travel_date, class_of_travel) {\r\n        return `{\"departure\":\"${departing_airport}\",\"arrival\":\"${arrival_airport}\",\"travelDate\":\"${travel_date}\",\"cabinClass\":\"${class_of_travel}\"}`;\r\n    }\r\n    \r\n    // Function to convert dates\r\n    function convert_ddmmmyy_to_date (date_str, split_str) {\r\n        \r\n        const [day, month, year] = date_str.split(split_str);\r\n        \r\n        const monthIndex = {\r\n          Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4, Jun: 5,\r\n          Jul: 6, Aug: 7, Sep: 8, Oct: 9, Nov: 10, Dec: 11\r\n        }[month];\r\n        \r\n        const fullYear = 2000 + parseInt(year, 10);\r\n        const dateObject = new Date(fullYear, monthIndex, parseInt(day, 10));\r\n        \r\n        return dateObject;\r\n    }\r\n    \r\n    function convert_ddmmmyy_to_search_date (date_str, split_str) {\r\n        \r\n        const [day, month, year] = date_str.split(split_str);\r\n        \r\n        const fullYear = 2000 + parseInt(year, 10);\r\n        const monthIndex = {\r\n          Jan: '01', Feb: '02', Mar: '03', Apr: '04', May: '05', Jun: '06',\r\n          Jul: '07', Aug: '08', Sep: '09', Oct: '10', Nov: '11', Dec: '12'\r\n        }[month];\r\n        const fullDay = String(parseInt(day, 10)).padStart(2,'0');\r\n        \r\n        return `${fullYear}-${monthIndex}-${fullDay}`;\r\n    }\r\n    \r\n    function convert_date_to_search_date (date) {\r\n        const year = date.getFullYear();\r\n        const month = String(date.getMonth() + 1).padStart(2, '0'); // getMonth() returns 0-based month\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        \r\n        return `${year}-${month}-${day}`;\r\n    }\r\n    \r\n    // Function to map cabin classes as needed for searching flights\r\n    function map_cabin_class_hp (cabin_class_str) {\r\n        // Mappings\r\n        // Y: Economy\r\n        // J: Business\r\n        // F: First\r\n        // W: Premium Economy\r\n        \r\n        let cabin_class = 'Y';\r\n        switch (cabin_class_str) {\r\n            case '0':\r\n                cabin_class = 'Y';\r\n                break;\r\n            case '7':\r\n                cabin_class = 'W';\r\n                break;\r\n            case '1':\r\n                cabin_class = 'J';\r\n                break;\r\n            case '2':\r\n                cabin_class = 'F';\r\n                break;\r\n            default:\r\n                cabin_class = 'Y';\r\n        }\r\n        \r\n        return cabin_class;\r\n    }\r\n    \r\n    // Function to map cabin classes as needed for searching flights\r\n    function map_cabin_class_bp (cabin_class_str) {\r\n        // Mappings\r\n        // Y: Economy\r\n        // J: Business\r\n        // F: First\r\n        // W: Premium Economy\r\n        \r\n        let cabin_class = 'Y';\r\n        switch (cabin_class_str) {\r\n            case 'Economy Class':\r\n                cabin_class = 'Y';\r\n                break;\r\n            case 'Premium Economy':\r\n                cabin_class = 'W';\r\n                break;\r\n            case 'Business Class':\r\n                cabin_class = 'J';\r\n                break;\r\n            case 'First Class':\r\n                cabin_class = 'F';\r\n                break;\r\n            default:\r\n                cabin_class = 'Y';\r\n        }\r\n        \r\n        return cabin_class;\r\n    }\r\n    \r\n    let invalid_flight_routes = [\r\n        \"BCN-MEX\", \"MEX-BCN\",\r\n        \"SYD-CHC\", \"CHC-SYD\",\r\n        \"BKK-HKG\", \"HKG-BKK\",\r\n        \"MXP-JFK\", \"JFK-MXP\",\r\n        \"ATH-EWR\", \"EWR-ATH\",\r\n        \"LUN-HRE\", \"HRE-LUN\",\r\n        \"SEZ-TNR\", \"TNR-SEZ\",\r\n        \"CMB-MLE\", \"MLE-CMB\",\r\n        \"MIA-BOG\", \"BOG-MIA\",\r\n        \"LCA-MLA\", \"MLA-LCA\",\r\n        \"GIG-EZE\", \"EZE-GIG\",\r\n        \"BKK-DAD\", \"DAD-BKK\",\r\n        \"PNH-SIN\", \"SIN-PNH\",\r\n        \"BKK-SAI\", \"SAI-BKK\",\r\n        \"ABJ-ACC\", \"ACC-ABJ\",\r\n        \"DSS-CKY\", \"CKY-DSS\"\r\n    ]\r\n    \r\n    // Function to check if the route is valid or not\r\n    function is_eligible_for_dxb_stopover(dep, arr) {\r\n        let eligible = false;\r\n        let dep_length = dep.length;\r\n        let arr_length = arr.length;\r\n        let dep_code = (dep_length > 3) ? dep.substring(dep_length-4, dep_length-1) : dep;\r\n        let arr_code = (arr_length > 3) ? arr.substring(arr_length-4, arr_length-1) : arr;\r\n        let route = `${dep_code}-${arr_code}`;\r\n        \r\n        if (dep_code === \"DXB\" || arr_code == \"DXB\" || invalid_flight_routes.includes(route)) {\r\n            eligible = false;\r\n        } else {\r\n            eligible = true;\r\n        }\r\n        \r\n        return eligible;\r\n    }\r\n    \r\n    // Function Remove Focus for Home Page Widgets\r\n    function remove_focus (element) {\r\n            remove_attribute(element, 'checked')\r\n            set_attribute(element, 'aria-checked', false);\r\n            removeClass(element, 'radio-button--focus');\r\n    }\r\n    \r\n    // Page Name Variable\r\n    var pageName = dataLayer[0].pageName;\r\n    var homepage_widget_container = document.querySelector(\".search-flight-toggle>fieldset>.switch-button-container\") // Home Page Trip Type Widget Container\r\n    var bookpage_widget_container = document.querySelector(\".rsw-journey-tabs\"); // Book Page Trip Type Widget Container\r\n    \r\n    // Dubai Stopover Widget HTML at the top while selecting trip type\r\n    var hp_dubai_stopover_widget_html = '<div class=\"radio-button switch-button switch-button--checkmark switch-button--last\">'\r\n                                        + '<input type=\"radio\" class=\"radio-button__input js-activate-search-dubai-stopover\" ' \r\n                                        + 'name=\"search-flight-toggle-radio\" id=\"search-flight-radio-dubai-stopover\" aria-checked=\"false\" '\r\n                                        + 'role=\"tab\" aria-controls=\"search-dubai-stopover-control\"><label for=\"search-flight-radio-dubai-stopover\"'\r\n                                        + 'class=\"hp-search-flight-radio-dubai-stopover radio-button__text\"><span id=\"hp-dxb-stopover-tab-new\">New </span>Dubai stopover</label></div>';\r\n    \r\n    // Dubai Stopover Middle Row HTML to be inserted inside the flight search form\r\n    var dxb_hbp_form_html = `<div class='hp-dxb-stopover-outer-container'><div class=\"hp-dxb-stopover-container-na hp-dxb-stopover-hidden\">` + \r\n                            `<span id='hp-dxb-stopover-container-na-icon'></span>Dubai stopover not available on selected routes or dates</div>` + \r\n                            `<div class=\"hp-dxb-stopover-container hp-dxb-stopover-hidden\">` +\r\n                            `<div class=\"hp-dxb-stopover-form-row hp-dxb-stopover-width-80\">` +\r\n                            `<div class=\"hp-dxb-stopover-form-group hp-dxb-stopover-form-group-1\">` +\r\n                                `<label class=\"hp-dxb-stopover-form-label hp-dxb-stopover-form-label-choose-leg\">When would you like to stop in Dubai?</label>` +\r\n                                `<div class=\"hp-dxb-stopover-radio-group\">` +\r\n                                    `<div class=\"hp-dxb-stopover-radio-option\">` +\r\n                                        `<div class=\"hp-dxb-stopover-radio-input hp-dxb-stopover-radio-input-selected\" id=\"hp-dxb-stopover-departure-radio\"></div>` +\r\n                                        `<span class=\"hp-dxb-stopover-radio-label\">Departure</span>` +\r\n                                    `</div>` +\r\n                                    `<div class=\"hp-dxb-stopover-radio-option\">` +\r\n                                        `<div class=\"hp-dxb-stopover-radio-input\" id=\"hp-dxb-stopover-return-radio\"></div>` +\r\n                                        `<span class=\"hp-dxb-stopover-radio-label\">Return</span>` +\r\n                                    `</div>` + \r\n                                `</div>` + \r\n                            `</div>` +\r\n                            `<div class=\"hp-dxb-stopover-form-group hp-dxb-stopover-form-group-2\">` +\r\n                            `<label class=\"hp-dxb-stopover-form-label\">How many nights would you like to stay in Dubai?</label>` +\r\n                            `<div class=\"hp-dxb-stopover-nights-section\">` +\r\n                            `<div class=\"hp-dxb-stopover-counter-container\">` +\r\n                            `<button class=\"hp-dxb-stopover-counter-btn hp-dxb-stopover-counter-btn-decrement\" id=\"hp-dxb-stopover-decrement-btn\"></button>` +\r\n                            `<div class=\"hp-dxb-stopover-nights-display\" id=\"hp-dxb-stopover-nights-count\">1 night</div>` +\r\n                            `<button class=\"hp-dxb-stopover-counter-btn hp-dxb-stopover-counter-btn-increment\">+</button>` +\r\n                            `</div>` +\r\n                            `<div class=\"hp-dxb-stopover-departure-info\" id=\"hp-dxb-stopover-departure-date\">` +\r\n                            ` ` +\r\n                            `</div></div></div></div></div></div>`\r\n    \r\n    // Home Page Stopover Benefits HTML\r\n    let dxb_hbp_usp_html = `<div class=\"hp-dxb-stopover-usp hp-dxb-stopover-hidden\">` +\r\n                               `<div class=\"hp-dxb-stopover-usp-separator\"><div class=\"hp-dxb-stopover-usp-separator-line\"></div></div>` +\r\n                               `<div class=\"hp-dxb-stopover-usp-content-container\">` +\r\n                                   `<div class=\"hp-dxb-stopover-usp-image-container\"><img class=\"hp-dxb-stopover-usp-img\" src=\"https://c.ekstatic.net/ecl/agent-portal/artificial-jumeirah-palm-island-dubai-on-sea-w640x360.jpg\" /></div>` + \r\n                                   `<div class=\"hp-dxb-stopover-usp-right-container\">` +\r\n                                        `<div class=\"hp-dxb-stopover-usp-header\">Why should I book a stopover in Dubai?</div>` + \r\n                                        `<div class=\"hp-dxb-stopover-usp-usps-box\">` + \r\n                                            `<div class=\"hp-dxb-stopover-usp-single-usp\"><div class=\"hp-dxb-stopover-usp-checkmark-css\"></div>Emirates world class service</div>` + \r\n                                            `<div class=\"hp-dxb-stopover-usp-single-usp\"><div class=\"hp-dxb-stopover-usp-checkmark-css\"></div>Enjoy two holidays in one</div>` + \r\n                                            `<div class=\"hp-dxb-stopover-usp-single-usp\"><div class=\"hp-dxb-stopover-usp-checkmark-css\"></div>Book hotels and unmissable experiences</div>` + \r\n                                        `</div>` +\r\n                                        `<div class=\"bp-dxb-stopover-usp-find-more\">Find out more</div>` + \r\n                                   `</div>` +\r\n                               `</div>` +\r\n                           `</div>`\r\n    \r\n    var bp_dubai_stopover_widget_html = `<li class=\"bp-dxb-stopover-widget-container\"><button aria-selected=\"false\" aria-disabled=\"false\" role=\"tab\" type=\"button\"` +\r\n                                        `class=\"call-to-action call-to-action-dubai\"><span id=\"bp-dxb-stopover-tab-new\">New</span>Dubai stopover</button></li>`; \r\n    \r\n    // Dubai Stopover Middle Row HTML to be inserted inside the flight search form\r\n    var dxb_bp_form_html = \r\n    `<div class=\"bp-dxb-stopover-outer-container\">` +\r\n        `<div class=\"bp-dxb-stopover-container-na hp-dxb-stopover-hidden\">` +\r\n            `<span id=\"bp-dxb-stopover-container-na-icon\"></span>` +\r\n            `Dubai stopover not available on selected routes or dates` +\r\n        `</div>` +\r\n        `<div class=\"bp-dxb-stopover-container hp-dxb-stopover-hidden\">` +\r\n            `<div class=\"bp-dxb-stopover-form-row\">` +\r\n                `<div class=\"bp-dxb-stopover-form-group bp-dxb-stopover-form-group-2\">` +\r\n                    `<label class=\"bp-dxb-stopover-form-label\">How many nights would you like to stay in Dubai?</label>` +\r\n                    `<div class=\"bp-dxb-stopover-nights-section\">` +\r\n                        `<div class=\"bp-dxb-stopover-counter-container\">` +\r\n                            `<button class=\"bp-dxb-stopover-counter-btn bp-dxb-stopover-counter-btn-decrement\" id=\"bp-dxb-stopover-decrement-btn\"></button>` +\r\n                            `<div class=\"bp-dxb-stopover-nights-display bp-dxb-stopover-nights-count\">0 night</div>` +\r\n                            `<button class=\"bp-dxb-stopover-counter-btn bp-dxb-stopover-counter-btn-increment\">+</button>` +\r\n                        `</div>` +\r\n                        `<div class=\"bp-dxb-stopover-departure-info bp-dxb-stopover-departure-date\"></div>` +\r\n                    `</div>` +\r\n                `</div>` +\r\n            `</div>` +\r\n        `</div>` +\r\n    `</div>`\r\n\r\n    \r\n    // Booking Page Stopover Benefits HTML\r\n    let dxb_bp_benefits_html = `<div class=\"bp-dxb-beneifts-outer-container hp-dxb-stopover-hidden\"><div class=\"bp-dxb-beneifts-inner-container\">` + \r\n                                `<div class=\"bp-dxb-beneifts-header-container\"><div class=\"bp-dxb-beneifts-header\">Why should I book a stopover in Dubai?</div>` + \r\n                                `<div class=\"bp-dxb-beneifts-header-para\">When you fly with Emirates you can turn your holiday into two destinations, stopping in Dubai at no additional airfare. Take a short break from the journey when you connect through Dubai and experience the best of our home city. Its easy with Dubai stopover, and dont forget to keep your boarding pass to access discounts with My Emirates Pass.</div></div>` + \r\n                                `<div class=\"bp-dxb-beneifts-picture-container\">` + \r\n                                `<div class=\"bp-dxb-beneifts-picture-inner-container\">` + \r\n                                `<div class=\"bp-dxb-beneifts-picture-component\"><img class=\"bp-dxb-beneifts-picture\" src=\"https://c.ekstatic.net/ecl/personalized-experiences/couple-enjoying-boat-ride-w263x395.jpg\"/><div class=\"bp-dxb-beneifts-picture-para\">Relax and Recharge</div></div>` + \r\n                                `<div class=\"bp-dxb-beneifts-picture-component\"><img class=\"bp-dxb-beneifts-picture\" src=\"https://c.ekstatic.net/ecl/personalized-experiences/family-ready-for-tea-w263x395.jpg\"/><div class=\"bp-dxb-beneifts-picture-para\">Arabian Hospitality</div></div>` + \r\n                                `</div>` + \r\n                                `<div class=\"bp-dxb-beneifts-picture-inner-container\">` + \r\n                                `<div class=\"bp-dxb-beneifts-picture-component\"><img class=\"bp-dxb-beneifts-picture\" src=\"https://c.ekstatic.net/ecl/personalized-experiences/arabian-adventures-car-during-safari-w263x395.jpg\"/><div class=\"bp-dxb-beneifts-picture-para\">Adventure</div></div>` + \r\n                                `<div class=\"bp-dxb-beneifts-picture-component\"><img class=\"bp-dxb-beneifts-picture\" src=\"https://c.ekstatic.net/ecl/personalized-experiences/couple-having-al-fresco-dinner-w263x395.jpg\"/><div class=\"bp-dxb-beneifts-picture-para\">Nights to Remember</div></div>` + \r\n                                `</div>` + \r\n                                `</div>` + \r\n                                `</div></div>`\r\n                                \r\n    // Home Page Stopover Benefits HTML\r\n    let dxb_bp_benefits_html_2 =    `<div class=\"bp-dxb-beneifts-outer-container-2 hp-dxb-stopover-hidden\">` +\r\n                                        `<div class=\"bp-dxb-stopover-usp-content-container\">` +\r\n                                            `<div class=\"bp-dxb-stopover-usp-image-container\">` + \r\n                                                `<picture>` + \r\n                                                    `<source srcset=\"https://c.ekstatic.net/ecl/agent-portal/artificial-jumeirah-palm-island-dubai-on-sea-w68x68.jpg\" media=\"(max-width: 650px)\">` +\r\n                                                    `<img class=\"bp-dxb-stopover-usp-img\" src=\"https://c.ekstatic.net/ecl/agent-portal/artificial-jumeirah-palm-island-dubai-on-sea-w177x100.jpg\">` +  \r\n                                                `</picture>` + \r\n                                            `</div>` + \r\n                                            `<div class=\"bp-dxb-stopover-usp-right-container\">` +\r\n                                                `<div class=\"bp-dxb-stopover-usp-header\">Why should I book a stopover in Dubai?</div>` + \r\n                                                `<div class=\"bp-dxb-stopover-usp-usps-box-outer\">` + \r\n                                                    `<div class=\"bp-dxb-stopover-usp-usps-box\">` + \r\n                                                        `<div class=\"bp-dxb-stopover-usp-single-usp\"><div class=\"bp-dxb-stopover-usp-checkmark-css\"></div>Emirates world class service</div>` + \r\n                                                        `<div class=\"bp-dxb-stopover-usp-single-usp\"><div class=\"bp-dxb-stopover-usp-checkmark-css\"></div>Enjoy two holidays in one</div>` + \r\n                                                        `<div class=\"bp-dxb-stopover-usp-single-usp\"><div class=\"bp-dxb-stopover-usp-checkmark-css\"></div>Book hotels and unmissable experiences</div>` + \r\n                                                    `</div>` +\r\n                                                    `<div class=\"bp-dxb-stopover-usp-find-more\">Find out more</div>` + \r\n                                                `</div>` +\r\n                                            `</div>` +\r\n                                        `</div>` +\r\n                                        `<div class=\"bp-dxb-stopover-usp-separator\"><div class=\"bp-dxb-stopover-usp-separator-line\"></div></div>` +\r\n                                    `</div>`\r\n                           \r\n    // Confirm Page HTML linking to DEX\r\n    let confirm_page_html = `<div class=\"cp-dxb-stopover-outer-container\">` +\r\n                            `<div class=\"cp-dxb-stopover-inner-container\">` +\r\n                            `<div class=\"cp-dxb-stopover-left-container\">` +\r\n                            `<div class=\"cp-dxb-stopover-img\"><img src=\"https://c.ekstatic.net/ecl/personalized-experiences/burj-khalifa-view-w60x90.png\" /></div>` +\r\n                            `<div class=\"cp-dxb-stopover-text-container\">` +\r\n                            `<div class=\"cp-dxb-stopover-header\">Complete your Dubai Experience</div>` +\r\n                            `<div class=\"cp-dxb-stopover-para\">Choose from hundreds of activities, hotels and restaurants across the city. Add experiences to your planner and enjoy exclusive benefits on your Dubai itinerary.</div></div></div>` +\r\n                            `<div class=\"cp-dxb-stopover-cta-outer-container\">` +\r\n                            `<a  href=\"\" class=\"cp-dxb-stopover-cta-container\">` +\r\n                            `<div class=\"cp-dxb-stopover-cta-button\">Book</div>` +\r\n                            `<div class=\"cp-dxb-stopover-cta-icon\"></div></a></div></div></div>`\r\n                            \r\n    let non_two_days_stopover_airports = ['DEL','BOM','BLR','COK','TRV','AMD','CCU','MAA','HYD','KHI','ISB','PEW','LHE','SKT','DAC','BAH','RUH','JED','MED','DMM','IKA','BGW','BSR','KWI','MCT','BEY', 'AMM'];\r\n                                \r\n    // ---------------------------------------------------------------------------\r\n    // Home Page\r\n    if (pageName === '/ Home' && homepage_widget_container) {\r\n\r\n        // Home Page Top Level Variables\r\n        var stopover_chosen             = false; // Boolean to check if Dubai Stopover is chosen\r\n        var desktop_search_control      = document.querySelector(\"#search-flight-control\")               // Flight Search Widget\r\n        var desktop_holiday_control     = document.querySelector(\"#search-holiday-control\")              // Flight + Hotel Search Widget\r\n        var flight_widget_input         = document.querySelector(\".js-activate-search-flight\");          // Flight Search Widget Input Field\r\n        var flight_holiday_widget_input = document.querySelector(\".js-activate-search-holiday\");         // Flight + Holiday Search Widget Input Field\r\n        var other_widgets_arr           = [flight_widget_input, flight_holiday_widget_input];            // Array containing inputs where focus needs to be removed\r\n        var search_hidden_form          = document.querySelectorAll('.search-flight--hidden-container'); // Target element to insert Dubai Stopover Middle Row HMTL\r\n        var search_button               = document.querySelector('#search-flight-control form button');\r\n        var search_form                 = document.querySelector('#search-flight-control form');\r\n        var datepicker_options          = document.querySelector('#search-flight-control eol-calendar .ek-datepicker__header .ek-datepicker__radio');\r\n        let hp_search_boolean           = false;\r\n        \r\n        // Add Dubai Stopover Middle Row HTML to the Widget Selection Container\r\n        homepage_widget_container.insertAdjacentHTML(\"beforeend\", hp_dubai_stopover_widget_html);\r\n        dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"HP_Widget\");\r\n        \r\n        var hp_stopover_widget       = document.querySelector(\".switch-button--last\");               // Dubai Stopover Search Widget\r\n        var hp_stopover_widget_input = document.querySelector(\".js-activate-search-dubai-stopover\"); // Dubai Stopover Search Widget Input\r\n    \r\n        // Adding Dubai stopover middle row HTML\r\n        search_hidden_form[1].insertAdjacentHTML(\"beforebegin\", dxb_hbp_form_html);\r\n        search_hidden_form[1].parentNode.insertAdjacentHTML(\"beforeend\", dxb_hbp_usp_html);\r\n        let dxb_hbp_usp_element = document.querySelector(\".hp-dxb-stopover-usp\");          // Dubai stopover Middle Row inner container element\r\n        \r\n        // Stopover Row Elements\r\n        let dxb_hbp_form        = document.querySelector('.hp-dxb-stopover-container');         // Dubai stopover Middle Row container element\r\n        let dxb_hbp_form_na     = document.querySelector('.hp-dxb-stopover-container-na');      // Dubai stopover N/A Middle Row container element\r\n        let dxb_hbp_form_outer  = document.querySelector('.hp-dxb-stopover-outer-container');   // Dubai stopover Middle Row container element\r\n        let dxb_hbp_form_row    = document.querySelector(\".hp-dxb-stopover-form-row\");          // Dubai stopover Middle Row inner container element\r\n        \r\n        // Search Form with details such as Departure, Arrival, Dates and passengers\r\n        let hp_DepDate_value    = '';\r\n        let hp_ArrDate_value    = '';\r\n        let hp_DepAirport_value = '';\r\n        let hp_ArrAirport_value = '';\r\n        let hp_adults           = 0;\r\n        let hp_children         = 0;\r\n        let hp_infants          = 0;\r\n        let hp_ofw              = 0;\r\n        let hp_teenagers        = 0;\r\n        let hp_cabinClass       = '';\r\n        let hp_stopover_date    = hp_DepDate_value;\r\n        let hp_stopover_type    = 'dep';\r\n        let hp_baseDate         = hp_DepDate_value;\r\n        \r\n        let hp_observeDepDate    = null;\r\n        let hp_observeArrDate    = null;\r\n        let hp_observeDepAirport = null;\r\n        let hp_observeArrAirport = null;\r\n        let valid_dates          = true;\r\n        let valid_airports       = true;\r\n        \r\n        let dxb_bp_stopover_find_more           = document.querySelector('.bp-dxb-stopover-usp-find-more');       // Dubai stopover Benefits Find More Element\r\n        let dxb_bp_stopover_modal               = document.querySelector('#bp-dxb-stopover-usp-modal-container'); // Dubai stopover Benefits Modal Container\r\n        let dxb_bp_stopover_modal_overlay       = document.querySelector('.bp-dxb-stopover-usp-modal-overlay');   // Dubai stopover Benefits Modal Overlay\r\n        let dxb_bp_stopover_modal_content       = document.querySelector('.bp-dxb-stopover-usp-modal-content-container');   // Dubai stopover Benefits Modal Content Container\r\n        let dxb_bp_stopover_modal_close_icon    = document.querySelector('.bp-dxb-stopover-usp-modal-modal-content-close-icon');   // Dubai stopover Benefits Modal Content Container\r\n        \r\n        // Modal Logic\r\n        // Function to open Modal to display USP Benefits\r\n        function hp_open_modal() {\r\n            \r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"HP_InfoWidget\");\r\n            dataLayer_push_vpv('/ Home / Dubai Stopover Modal', '/ Home')\r\n            \r\n            dxb_bp_stopover_modal.style.display = 'block';\r\n            \r\n            dxb_bp_stopover_modal.addEventListener('click', function (e) {\r\n                if (!dxb_bp_stopover_modal_content.contains(e.target)) { hp_closeModal(); }\r\n            });\r\n            \r\n            dxb_bp_stopover_modal_close_icon.onclick = () => { hp_closeModal() };\r\n        }\r\n        \r\n        function hp_closeModal() {\r\n            dataLayer_push_vpv('/ Home', '/ Home / Dubai Stopover Modal')\r\n            dxb_bp_stopover_modal.style.display = 'none';\r\n        }\r\n        \r\n        function modal_carousel_logic () {\r\n            dxb_bp_stopover_find_more.onclick = () => { \r\n                dataLayer_push (\"EventTrigger.PageBody_PromotionClicked\", \"Promotion Clicked\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"HP_Info\");\r\n                hp_open_modal(); \r\n            }\r\n            \r\n            // Allow picture scroll on the modal\r\n            const carousel = document.querySelector(\".bp-dxb-stopover-usp-modal-picture-carousel-container\");\r\n            const bar = document.querySelector(\".bp-dxb-stopover-usp-modal-picture-carousel-scrollbar\");\r\n            const thumb = document.querySelector(\".bp-dxb-stopover-usp-modal-picture-carousel-scrollbar-thumb\");\r\n            \r\n            carousel.addEventListener(\"scroll\", () => {\r\n              const scrollLeft = carousel.scrollLeft;\r\n              const maxScroll = carousel.scrollWidth - carousel.clientWidth;\r\n              const barWidth = bar.clientWidth;\r\n            \r\n              const thumbPos = (scrollLeft / maxScroll) * (barWidth - thumb.clientWidth);\r\n              thumb.style.left = `${thumbPos}px`;\r\n            });\r\n        }\r\n        \r\n        \r\n        // Functions to hide/diplay night controls\r\n        function hide_night_controls() {\r\n            removeClass(dxb_hbp_form_na, \"hp-dxb-stopover-hidden\");\r\n            addClass(dxb_hbp_form, \"hp-dxb-stopover-hidden\");\r\n        }\r\n        \r\n        function show_night_controls() {\r\n            if (valid_dates && valid_airports) {\r\n                removeClass(dxb_hbp_form, \"hp-dxb-stopover-hidden\");\r\n                addClass(dxb_hbp_form_na, \"hp-dxb-stopover-hidden\");\r\n            }\r\n        }\r\n        \r\n        // Update the departure date based on nights count, this needs to be adjusted based on actual flight data\r\n        // Where the flight date is taken from the actual search form\r\n        function updateDepartureDate() {\r\n            const departureDateElement = document.getElementById('hp-dxb-stopover-departure-date');\r\n            hp_stopover_date = (hp_stopover_type === 'dep') ? hp_DepDate_value : hp_ArrDate_value;\r\n            \r\n            if (hp_stopover_date) {\r\n                \r\n                hp_baseDate = convert_ddmmmyy_to_date(hp_stopover_date, '-');\r\n                \r\n                if (hp_stopover_type === 'dep') {\r\n                    if (non_two_days_stopover_airports.includes(hp_DepAirport_value)) {\r\n                        hp_baseDate.setDate(hp_baseDate.getDate() + nightsCount);\r\n                    } else {\r\n                        hp_baseDate.setDate(hp_baseDate.getDate() + nightsCount + 1);\r\n                    }\r\n                } else if (hp_stopover_type === 'arr') {\r\n                    if (non_two_days_stopover_airports.includes(hp_ArrAirport_value)) {\r\n                        hp_baseDate.setDate(hp_baseDate.getDate() + nightsCount);\r\n                    } else {\r\n                        hp_baseDate.setDate(hp_baseDate.getDate() + nightsCount + 1);\r\n                    }\r\n                }\r\n                \r\n                const options = { day: 'numeric', month: 'short', year: '2-digit' };\r\n                const formattedDate = hp_baseDate.toLocaleDateString('en-GB', options).replace(',', '');\r\n                departureDateElement.textContent = `Leaving Dubai on ${formattedDate}`;\r\n \r\n                if (hp_DepDate_value && hp_ArrDate_value) {\r\n                    let hp_ArrDate_date_value = convert_ddmmmyy_to_date(hp_ArrDate_value, '-');\r\n                    let hp_DepDate_date_value = convert_ddmmmyy_to_date(hp_DepDate_value, '-');\r\n                    let hp_nights_stay = ((new Date(hp_ArrDate_date_value) - new Date(hp_DepDate_date_value)) / (24 * 60 * 60 * 1000));\r\n                    \r\n                    if (hp_nights_stay >= 7) {\r\n                        valid_dates = true;\r\n                        show_night_controls();\r\n                    } else {\r\n                        valid_dates = false;\r\n                        hide_night_controls();\r\n                    }\r\n                }\r\n            } else {\r\n                departureDateElement.textContent = ``;\r\n            }\r\n        }\r\n\r\n        // Function to update the night count display, Levaing Dubai on <date> display and disable buttons as needed\r\n        function updateNightsDisplay() {\r\n            const nightsDisplay = document.getElementById('hp-dxb-stopover-nights-count');\r\n            \r\n            // Update nights text\r\n            nightsDisplay.textContent = nightsCount === 1 ? '1 night' : `${nightsCount} nights`;\r\n            \r\n            // Disable decrement button if at minimum\r\n            decrementElement.disabled = nightsCount <= 1;\r\n            incrementElement.disabled = nightsCount == 4;\r\n            \r\n            // Update departure date (example calculation)\r\n            updateDepartureDate();\r\n        }\r\n        \r\n        function hp_trackDates () {\r\n            return new MutationObserver((mutations) => {\r\n                mutations.forEach((mutation) => {\r\n                    if (mutation.type === 'attributes' && mutation.attributeName === 'value') {\r\n                        let obs_date = mutation.target.getAttribute('value');\r\n                        let obs_elem = mutation.target.getAttribute('name');\r\n                        \r\n                        if (obs_elem === 'selddate1') {\r\n                            hp_DepDate_value = obs_date;\r\n                        }\r\n                        if (obs_elem === 'seladate1') {\r\n                            hp_ArrDate_value = obs_date;\r\n                        }\r\n                        updateNightsDisplay();\r\n                    }\r\n                })\r\n            });\r\n        }\r\n        \r\n        function hp_trackAirports () {\r\n            return new MutationObserver((mutations) => {\r\n                mutations.forEach((mutation) => {\r\n                    if (mutation.type === 'attributes' && mutation.attributeName === 'value') {\r\n                        let obs_airport = mutation.target.getAttribute('value');\r\n                        let obs_elem = mutation.target.getAttribute('name');\r\n                        \r\n                        if (obs_elem === 'seldcity1') {\r\n                            hp_DepAirport_value = obs_airport;\r\n                        }\r\n                        if (obs_elem === 'selacity1') {\r\n                            hp_ArrAirport_value = obs_airport;\r\n                        }\r\n                        \r\n                        if (!is_eligible_for_dxb_stopover(hp_DepAirport_value, hp_ArrAirport_value)) {\r\n                            valid_airports = false;\r\n                            hide_night_controls();\r\n                            hp_search_boolean = false;\r\n                        } else {\r\n                            valid_airports = true;\r\n                            show_night_controls();\r\n                            hp_search_boolean = true;\r\n                        }\r\n                        updateNightsDisplay();\r\n                    }\r\n                })\r\n            });\r\n        }\r\n        \r\n        function hp_start_observing () {\r\n            if (hp_observeDepDate) hp_observeDepDate.disconnect();\r\n            hp_observeDepDate = hp_trackDates();\r\n            hp_observeDepDate.observe(document.querySelector('#search-flight-control form input[name=\"selddate1\"]'), {\r\n                attributes: true,\r\n                attributeFilter: ['value', 'name']\r\n            });\r\n            \r\n            if (hp_observeArrDate) hp_observeArrDate.disconnect();\r\n            hp_observeArrDate = hp_trackDates();\r\n            hp_observeArrDate.observe(document.querySelector('#search-flight-control form input[name=\"seladate1\"]'), {\r\n                attributes: true,\r\n                attributeFilter: ['value', 'name']\r\n            });\r\n            \r\n            if (hp_observeDepAirport) hp_observeDepAirport.disconnect();\r\n            hp_observeDepAirport = hp_trackAirports();\r\n            hp_observeDepAirport.observe(document.querySelector('#search-flight-control form input[name=\"seldcity1\"]'), {\r\n                attributes: true,\r\n                attributeFilter: ['value', 'name']\r\n            });\r\n            \r\n            if (hp_observeArrAirport) hp_observeArrAirport.disconnect();\r\n            hp_observeArrAirport = hp_trackAirports();\r\n            hp_observeArrAirport.observe(document.querySelector('#search-flight-control form input[name=\"selacity1\"]'), {\r\n                attributes: true,\r\n                attributeFilter: ['value', 'name']\r\n            });\r\n        }\r\n        \r\n        function hp_stop_observing () {\r\n            if (hp_observeDepDate) {\r\n                hp_observeDepDate.disconnect();\r\n                hp_observeDepDate = null;\r\n            }\r\n            if (hp_observeArrDate) {\r\n                hp_observeArrDate.disconnect();\r\n                hp_observeArrDate = null;\r\n        \r\n            }\r\n            if (hp_observeDepAirport) {\r\n                hp_observeDepAirport.disconnect();\r\n                hp_observeDepAirport = null;\r\n            }\r\n            if (hp_observeArrAirport) {\r\n                hp_observeArrAirport.disconnect();\r\n                hp_observeArrAirport = null;\r\n            }\r\n        }\r\n        \r\n        // When clicked on dubai stopover widget\r\n        hp_stopover_widget_input.onclick = function () {\r\n            stopover_chosen = true; // mark the stopover_chosen as true\r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionClicked\", \"Promotion Clicked\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"HP_Widget\");\r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"HP_Search\");\r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"HP_Info\");\r\n            \r\n            hp_DepAirport_value = document.querySelector('#search-flight-control form input[name=\"seldcity1\"]').value;\r\n            hp_ArrAirport_value = document.querySelector('#search-flight-control form input[name=\"selacity1\"]').value;\r\n            hp_DepDate_value    = document.querySelector('#search-flight-control form input[name=\"selddate1\"]').value;\r\n            hp_ArrDate_value    = document.querySelector('#search-flight-control form input[name=\"seladate1\"]').value;\r\n            hp_adults           = document.querySelector('#search-flight-control form input[name=\"seladults\"]').value;\r\n            hp_children         = document.querySelector('#search-flight-control form input[name=\"selchildren\"]').value;\r\n            hp_infants          = document.querySelector('#search-flight-control form input[name=\"selinfants\"]').value;\r\n            hp_ofw              = document.querySelector('#search-flight-control form input[name=\"selofw\"]').value;\r\n            hp_teenagers        = document.querySelector('#search-flight-control form input[name=\"selteenager\"]').value;\r\n            hp_stopover_date    = hp_DepDate_value;\r\n            \r\n            // Making Modal and Carousel Logic Live\r\n            modal_carousel_logic()\r\n            \r\n            // Add Focus to Dubai Stopover Widget\r\n            set_attribute(hp_stopover_widget_input, 'checked', 'true');\r\n            set_attribute(hp_stopover_widget_input, 'aria-checked', 'true');\r\n            addClass(hp_stopover_widget, 'radio-button--focus')\r\n            \r\n            // And removed from other Widgets\r\n            for (var i=0; i<2; i++) {\r\n                remove_focus(other_widgets_arr[i]);\r\n            }\r\n            \r\n            addClass(desktop_holiday_control, \"hidden\");    // Hide Flight + Holiday Search Form HTML\r\n            removeClass(desktop_search_control, \"hidden\");  // Display the Flight Search Form HTML\r\n            addClass(datepicker_options, \"hp-dxb-stopover-hidden\");\r\n\r\n            // Show either Night Controls or Hide them based on origin and destination current values\r\n            if (!is_eligible_for_dxb_stopover(hp_DepAirport_value, hp_ArrAirport_value)) {\r\n                valid_airports = false;\r\n                hide_night_controls();   \r\n                hp_search_boolean = false;\r\n            } else {\r\n                show_night_controls();    \r\n                hp_search_boolean = true;\r\n            }\r\n            \r\n            // Show Middle Row\r\n            removeClass(dxb_hbp_form_outer, 'hp-dxb-stopover-hidden');\r\n            hp_start_observing();\r\n            updateNightsDisplay();\r\n            \r\n            removeClass(dxb_hbp_usp_element, 'hp-dxb-stopover-hidden');\r\n        }\r\n        \r\n        // When Dubai Stopover Widget is clicked, wait for a click somewhere else to remove focus \r\n        document.addEventListener('click', function (event) {\r\n            if (!hp_stopover_widget.contains(event.target) && stopover_chosen) {\r\n                removeClass(hp_stopover_widget, 'radio-button--focus');\r\n            }\r\n        });\r\n        \r\n        // Remove Focus from Dubai Stopover Widget, and hide night selection controls when clicked on other options\r\n        for (var i=0; i<2; i++) {\r\n            other_widgets_arr[i].onclick = function() {\r\n                remove_focus(hp_stopover_widget_input);\r\n                addClass(dxb_hbp_form_outer, \"hp-dxb-stopover-hidden\");\r\n                removeClass(datepicker_options, \"hp-dxb-stopover-hidden\");\r\n                stopover_chosen = false;\r\n                hp_stop_observing();\r\n                addClass(dxb_hbp_usp_element, \"hp-dxb-stopover-hidden\");\r\n            }\r\n        }\r\n        \r\n        // Adjust width of dubai stopover middle row, based on datepicker addition to the search form\r\n        // Callback function to execute when mutations are observed\r\n        // In this case, we are observing the class attribute of the desktop_search_control and waiting for the class \"search-flight--continue\" to be added\r\n        const hp_change_middle_row_width = (mutationsList) => {\r\n          for (const mutation of mutationsList) {\r\n            if (mutation.type === 'attributes' && mutation.attributeName === 'class') {\r\n              const classList = mutation.target.classList;\r\n              if (classList.contains('search-flight--continue')) {\r\n                removeClass(dxb_hbp_form_row, 'hp-dxb-stopover-width-80');\r\n                addClass(dxb_hbp_form_row, 'hp-dxb-stopover-width-66');\r\n                addClass(dxb_hbp_usp_element, 'hp-dxb-stopover-reduce-top-margin-20');\r\n              }\r\n            }\r\n          }\r\n        };\r\n        \r\n        // Create a MutationObserver instance\r\n        const hp_datepicker_addition_observer = new MutationObserver(hp_change_middle_row_width);\r\n        \r\n        // Start observing the target node for attribute changes\r\n        hp_datepicker_addition_observer.observe(desktop_search_control, {\r\n          attributes: true, // Observe attribute changes\r\n          attributeFilter: ['class'] // Only observe the 'class' attribute\r\n        });\r\n        \r\n        // Logic for night controls\r\n        let nightsCount = 1;\r\n        for (let i=0; i<2; i++) {\r\n            let element = document.querySelectorAll('.hp-dxb-stopover-radio-option')[i];\r\n            element.onclick = function() {\r\n                \r\n                // Update radio button appearance\r\n                const departureRadio = document.getElementById('hp-dxb-stopover-departure-radio');\r\n                const returnRadio = document.getElementById('hp-dxb-stopover-return-radio');\r\n                \r\n                if (i === 0) {\r\n                    departureRadio.classList.add('hp-dxb-stopover-radio-input-selected');\r\n                    returnRadio.classList.remove('hp-dxb-stopover-radio-input-selected');\r\n                    hp_stopover_type = 'dep'\r\n                    hp_stopover_date = hp_DepDate_value;\r\n                } else {\r\n                    returnRadio.classList.add('hp-dxb-stopover-radio-input-selected');\r\n                    departureRadio.classList.remove('hp-dxb-stopover-radio-input-selected');\r\n                    hp_stopover_type = 'arr'\r\n                    hp_stopover_date = hp_ArrDate_value;\r\n                }\r\n                updateNightsDisplay();\r\n            }\r\n        }\r\n        \r\n        // If night increment button is clicked, increment the nights count\r\n        let incrementElement = document.querySelector('.hp-dxb-stopover-counter-btn-increment');\r\n        incrementElement.onclick = function () {\r\n            if (nightsCount < 4) { // Set a reasonable maximum\r\n                nightsCount++;\r\n                updateNightsDisplay();\r\n            }\r\n        }\r\n        \r\n        // If night increment button is clicked, decrement the nights count\r\n        let decrementElement = document.querySelector('.hp-dxb-stopover-counter-btn-decrement');\r\n        decrementElement.onclick = function () {\r\n            if (nightsCount > 1) {\r\n                nightsCount--;\r\n                updateNightsDisplay();\r\n            }\r\n        }\r\n\r\n        // Initialize the display\r\n        updateNightsDisplay();\r\n        \r\n        // When clicked on Search Button\r\n        let nativeSubmit = search_form.submit;\r\n        search_button.onclick = function () {\r\n            if (hp_search_boolean && stopover_chosen && hp_stopover_type && hp_DepDate_value && hp_ArrDate_value && hp_baseDate && hp_DepAirport_value && hp_ArrAirport_value) {\r\n                \r\n                // Push Tracking Event into dataLayer\r\n                dataLayer_push (\"EventTrigger.PageBody_PromotionClicked\", \"Promotion Clicked\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"HP_Search\");\r\n                \r\n                search_form.submit = function () {\r\n                    // Do nothing\r\n                }\r\n                \r\n                hp_DepAirport_value = document.querySelector('#search-flight-control form input[name=\"seldcity1\"]').value;\r\n                hp_ArrAirport_value = document.querySelector('#search-flight-control form input[name=\"selacity1\"]').value;\r\n                hp_DepDate_value    = document.querySelector('#search-flight-control form input[name=\"selddate1\"]').value;\r\n                hp_ArrDate_value    = document.querySelector('#search-flight-control form input[name=\"seladate1\"]').value;\r\n                hp_adults           = document.querySelector('#search-flight-control form input[name=\"seladults\"]').value;\r\n                hp_children         = document.querySelector('#search-flight-control form input[name=\"selchildren\"]').value;\r\n                hp_infants          = document.querySelector('#search-flight-control form input[name=\"selinfants\"]').value;\r\n                hp_ofw              = document.querySelector('#search-flight-control form input[name=\"selofw\"]').value;\r\n                hp_teenagers        = document.querySelector('#search-flight-control form input[name=\"selteenager\"]').value;\r\n                hp_cabinClass       = document.querySelector('#search-flight-control form input[name=\"selcabinclass\"]').value;\r\n                \r\n                let hp_passenger_arr = [];\r\n                if (hp_adults > 0)    { hp_passenger_arr.push(`{\"type\":\"ADT\",\"count\":${hp_adults}}`) };\r\n                if (hp_children > 0)  { hp_passenger_arr.push(`{\"type\":\"CHD\",\"count\":${hp_children}}`) };\r\n                if (hp_infants > 0)   { hp_passenger_arr.push(`{\"type\":\"INF\",\"count\":${hp_infants}}`) };\r\n                if (hp_ofw > 0)       { hp_passenger_arr.push(`{\"type\":\"OFW\",\"count\":${hp_ofw}}`) };\r\n                if (hp_teenagers > 0) { hp_passenger_arr.push(`{\"type\":\"GBE\",\"count\":${hp_teenagers}}`) };\r\n                let hp_passenger_data = `[${hp_passenger_arr}]`;\r\n                \r\n                let hp_start_date = convert_ddmmmyy_to_search_date(hp_DepDate_value, '-');\r\n                let hp_end_date = convert_ddmmmyy_to_search_date(hp_ArrDate_value, '-');\r\n                let hp_stopover_final_date = convert_date_to_search_date(hp_baseDate);\r\n                let hp_stopover_final_cabin_class = map_cabin_class_hp(hp_cabinClass);\r\n                \r\n                let hp_stopover_outgoing_nights = 0;\r\n                let hp_stopover_incoming_nights = 0;\r\n                \r\n                let hp_segment_arr = [];\r\n                if (hp_stopover_type === 'dep') {\r\n                    hp_segment_arr.push(construct_travel_segment(hp_DepAirport_value, 'DXB', hp_start_date, hp_stopover_final_cabin_class));\r\n                    hp_segment_arr.push(construct_travel_segment('DXB', hp_ArrAirport_value, hp_stopover_final_date, hp_stopover_final_cabin_class));\r\n                    hp_segment_arr.push(construct_travel_segment(hp_ArrAirport_value, hp_DepAirport_value, hp_end_date, hp_stopover_final_cabin_class));\r\n                    hp_stopover_outgoing_nights = ((new Date(hp_stopover_final_date)) - (new Date(hp_start_date)))/(24*60*60*1000);\r\n                } else {\r\n                    hp_segment_arr.push(construct_travel_segment(hp_DepAirport_value, hp_ArrAirport_value, hp_start_date, hp_stopover_final_cabin_class));\r\n                    hp_segment_arr.push(construct_travel_segment(hp_ArrAirport_value, 'DXB', hp_end_date, hp_stopover_final_cabin_class));\r\n                    hp_segment_arr.push(construct_travel_segment('DXB', hp_DepAirport_value, hp_stopover_final_date, hp_stopover_final_cabin_class));\r\n                    hp_stopover_incoming_nights = ((new Date(hp_stopover_final_date)) - (new Date(hp_end_date)))/(24*60*60*1000);\r\n                }\r\n                let hp_segment_data = `[${hp_segment_arr}]`;\r\n                let hp_raw_form_data = '{\"journeyType\":\"MULTICITY\",\"bookingType\":\"REVENUE\",\"passengers\":' + hp_passenger_data + ','\r\n                                     + '\"segments\":' + hp_segment_data + ','\r\n                                     + '\"referrer\":\"/booking/search-results\",\"source\":\"trip-summary\"}';\r\n                let hp_encoded_form_data = btoa(hp_raw_form_data);\r\n                \r\n                setTimeout (() => {\r\n                    window.location.href = `https://www.emirates.com/booking/search-results/?searchRequest=${hp_encoded_form_data}&dso=t`;\r\n                    setCookie('dso', `hp,${hp_stopover_outgoing_nights},${hp_stopover_incoming_nights}`, 30 * 60 * 1000);\r\n                }, 200);\r\n            }\r\n        }\r\n    }\r\n\r\n    // ---------------------------------------------------------------------------\r\n    // Book Page\r\n    else if (pageName === '/ Book' && bookpage_widget_container && (window.location.href !== 'https://www.emirates.com/ae/english/book/?TID=AS&multicity=1')) {\r\n        \r\n        // Book Page Top Level Variables\r\n        var multicity_widget        = document.querySelectorAll(\".rsw-journey-tabs>li\")[2];                  // First Element i.e. Return Trip Type     \r\n        var multicity_widget_button = document.querySelectorAll(\".rsw-journey-tabs>li>button\")[2];           // First Element Button i.e. Return Trip Type Button\r\n        var bp_other_widgets        = Array.from(document.querySelectorAll(\".rsw-journey-tabs>li\"));         // Other Elements i.e. Return, One Way and Multi City Trip Type     \r\n        var bp_other_widget_buttons = Array.from(document.querySelectorAll(\".rsw-journey-tabs>li>button\"));  // Other Element Buttons i.e. Return, One Way and Multi City Trip Type     \r\n        var widget_slider           = document.querySelector('.rsw-journey-tabs__slider');                   // Widget Slider Element\r\n        let bp_bottom_row           = document.querySelector(\".responsive-search-widget__other-fields\");     // Target element to insert Dubai Stopover Middle Row HMTL\r\n        let bp_search               = document.querySelector(\".rsw-submit-button\");                          // Search Button Element\r\n        let bp_header               = document.querySelector('.e-container--separator .content-header__subtext');\r\n        let bp_search_boolean       = false;\r\n        \r\n        // Function to adjust Slider Width if window size changes\r\n        function changeWidgetSlider() {\r\n            if (bp_stopover_chosen) {\r\n                if (window.innerWidth <= 1023) {\r\n                    widget_slider.style = '--slider-width: 157px; --slider-translate-x: translateX(180px);'\r\n                } else {\r\n                    widget_slider.style = '--slider-width: 157px; --slider-translate-x: translateX(195px);'\r\n                }\r\n            }\r\n        }\r\n        \r\n        // Function to inject following HTML on page load\r\n        // Top Level Header\r\n        // Stopover Widget\r\n        // Stopover Benefits and Find out more Modal\r\n        // Stopover Night Controls for Inbound Flight\r\n        function bp_page_load_scripts() {\r\n            // Add Dubai Stopover Widget, Middle Row HTML and Stopover Benefits HTML\r\n            bookpage_widget_container.insertAdjacentHTML(\"beforeend\", bp_dubai_stopover_widget_html);\r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BP_Widget\");\r\n            \r\n            // Adding Stopover Benefits\r\n            let bp_dxp_form_header = document.querySelector('.responsive-search-widget__header')\r\n            bp_dxp_form_header.insertAdjacentHTML('afterend', dxb_bp_benefits_html_2);\r\n            \r\n            // Adding Second Middle Row for Night Controls\r\n            bp_bottom_row.insertAdjacentHTML(\"beforebegin\", dxb_bp_form_html);\r\n                    \r\n            // Updates Page Header to provide info on Dubai Stopover\r\n            bp_header.textContent = \"Search and book your Emirates flights online and discover the experience you can look forward to on board. You can also add a few extra days to your itinerary to enjoy an unforgettable stopover in Dubai.\";\r\n            \r\n            // Add Event Listener that calls function to adjust Slider Width if window size changes\r\n            window.addEventListener('resize', changeWidgetSlider);\r\n        }\r\n        \r\n        // Inject HTML on page load and change Slider width if window is resized\r\n        bp_page_load_scripts();\r\n        \r\n        // Boolean Variable to denote state (Whether stopover is chosen or not)\r\n        let bp_stopover_chosen                  = false;\r\n        \r\n        // Variables to hold value of passengers\r\n        let bp_adult    = 1;\r\n        let bp_children = 0;\r\n        let bp_ofw      = 0;\r\n        let bp_infant   = 0;\r\n        let bp_teenager = 0;\r\n        \r\n        // Variables to hold value of airports\r\n        let bp_dep_airport_value                = document.querySelectorAll('.origin-destination__airportField input')[0].value;\r\n        let bp_arr_airport_value                = document.querySelectorAll('.origin-destination__airportField input')[1].value;\r\n        \r\n        // Variables to hold value of dates\r\n        let bp_start_date_value                 = '';\r\n        let bp_end_date_value                   = '';\r\n        let bp_stopover_type                    = 'dep';\r\n        let bp_stopover_date                    = '';\r\n        let bp_outbound_base_date               = '';\r\n        let bp_inbound_base_date                = '';\r\n        let bp_valid_dates                      = true;\r\n        let bp_nightsCount_outbound = 0;\r\n        let bp_nightsCount_inbound = 0;\r\n        \r\n        // Observers\r\n        let observeDepDate                      = null;\r\n        let observeArrDate                      = null;\r\n        let observeDepDate_mobile               = null;\r\n        let observeArrDate_mobile               = null;\r\n        let observeDepAirport                   = null;\r\n        let observeArrAirport                   = null;\r\n        let bp_mobile_airport_observer          = null;\r\n        \r\n        // HTML Elements\r\n        let bp_dubai_stopover_widget_container  = document.querySelector(\".bp-dxb-stopover-widget-container\");    // DXB Stopover Widget Outer Container\r\n        let bp_dubai_stopover_widget_button     = document.querySelector(\".call-to-action-dubai\");                // DXB Stopover Widget Inner Container\r\n        let dxb_bp_form                         = document.querySelector('.bp-dxb-stopover-container');           // Dubai stopover Middle Row container element\r\n        let dxb_bp_form_na                      = document.querySelector('.bp-dxb-stopover-container-na');        // Dubai stopover N/A Middle Row container element\r\n        let dxb_bp_form_outer_second_row        = document.querySelector('.bp-dxb-stopover-outer-container');     // Dubai stopover Middle Row Outer container element\r\n        let dxb_bp_stopover_benefits_2          = document.querySelector('.bp-dxb-beneifts-outer-container-2');   // Dubai stopover Benefits Outer container element\r\n        let dxb_bp_stopover_find_more           = document.querySelector('.bp-dxb-stopover-usp-find-more');       // Dubai stopover Benefits Find More Element\r\n        let dxb_bp_stopover_modal               = document.querySelector('#bp-dxb-stopover-usp-modal-container'); // Dubai stopover Benefits Modal Container\r\n        let dxb_bp_stopover_modal_overlay       = document.querySelector('.bp-dxb-stopover-usp-modal-overlay');   // Dubai stopover Benefits Modal Overlay\r\n        let dxb_bp_stopover_modal_content       = document.querySelector('.bp-dxb-stopover-usp-modal-content-container');   // Dubai stopover Benefits Modal Content Container\r\n        let dxb_bp_stopover_modal_close_icon    = document.querySelector('.bp-dxb-stopover-usp-modal-modal-content-close-icon');   // Dubai stopover Benefits Modal Content Container\r\n        \r\n        // Capturing Passenger Data\r\n        const passengerSelector           = '.rsw-passengers__wrapper';                         // Passenger Container Class\r\n        const passengerMobileSelector     = '.rsw-passengers-modal';                            // Passenger Container Class\r\n        const dropdownSelector            = '.rsw-increment-field__container';                  // Common Class for each of the passenger selector\r\n        const observedAttribute           = 'aria-label';                                       // Variable to observe\r\n        const passenger_container         = document.querySelector(passengerSelector);\r\n        const passenger_mobile_container  = document.querySelector(passengerMobileSelector);\r\n        \r\n        // Modal Logic\r\n        // Function to open Modal to display USP Benefits\r\n        function bp_open_modal() {\r\n            \r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BP_InfoWidget\");\r\n            dataLayer_push_vpv('/ Book / Dubai Stopover Modal', '/ Book')\r\n            \r\n            dxb_bp_stopover_modal.style.display = 'block';\r\n            \r\n            dxb_bp_stopover_modal.addEventListener('click', function (e) {\r\n                if (!dxb_bp_stopover_modal_content.contains(e.target)) { bp_closeModal(); }\r\n            });\r\n            \r\n            dxb_bp_stopover_modal_close_icon.onclick = () => { bp_closeModal() };\r\n        }\r\n        \r\n        function bp_closeModal() {\r\n            dataLayer_push_vpv('/ Book', '/ Book / Dubai Stopover Modal')\r\n            dxb_bp_stopover_modal.style.display = 'none';\r\n        }\r\n        \r\n        function modal_carousel_logic () {\r\n            dxb_bp_stopover_find_more.onclick = () => { \r\n                dataLayer_push (\"EventTrigger.PageBody_PromotionClicked\", \"Promotion Clicked\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BP_Info\");\r\n                bp_open_modal(); \r\n            }\r\n            \r\n            // Allow picture scroll on the modal\r\n            const carousel = document.querySelector(\".bp-dxb-stopover-usp-modal-picture-carousel-container\");\r\n            const bar = document.querySelector(\".bp-dxb-stopover-usp-modal-picture-carousel-scrollbar\");\r\n            const thumb = document.querySelector(\".bp-dxb-stopover-usp-modal-picture-carousel-scrollbar-thumb\");\r\n            \r\n            carousel.addEventListener(\"scroll\", () => {\r\n              const scrollLeft = carousel.scrollLeft;\r\n              const maxScroll = carousel.scrollWidth - carousel.clientWidth;\r\n              const barWidth = bar.clientWidth;\r\n            \r\n              const thumbPos = (scrollLeft / maxScroll) * (barWidth - thumb.clientWidth);\r\n              thumb.style.left = `${thumbPos}px`;\r\n            });\r\n        }\r\n\r\n        // Function to track Passenger Count on both Desktop & Mobile Screen\r\n        function bp_track_passenger_count () {\r\n            \r\n            // Function (MutationObserver) to handle changes to different passenger counts on Desktop\r\n            function handleDesktopPassengerDropdown(node) {\r\n            \r\n                // Observe attribute changes\r\n                const attributeObserver = new MutationObserver(attrMutations => {\r\n                    attrMutations.forEach(attrMutation => {\r\n                        if (attrMutation.type === 'attributes' && attrMutation.attributeName === observedAttribute) {\r\n                            const newValue = node.getAttribute(observedAttribute).split('You have selected ')[1];\r\n                            const filteredValue = newValue.split(' ')[0];\r\n                            \r\n                            if (newValue.includes('Adult')) {\r\n                                bp_adult = filteredValue;\r\n                            } else if (newValue.includes('Child')) {\r\n                                bp_children = filteredValue;\r\n                            } else if (newValue.includes('Teenager')) {\r\n                                bp_teenager = filteredValue;\r\n                            }  else if (newValue.includes('OFW')) {\r\n                                bp_ofw = filteredValue;\r\n                            }  else if (newValue.includes('Infant')) {\r\n                                bp_infant = filteredValue;\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            \r\n                attributeObserver.observe(node, {\r\n                    attributes: true,\r\n                    attributeFilter: [observedAttribute]\r\n                });\r\n            \r\n                // Store initial value if present\r\n                const initialValue = node.getAttribute(observedAttribute).split('You have selected ')[1];\r\n                if (initialValue !== null) {\r\n        \r\n                    const filteredinitialValue = initialValue.split(' ')[0];\r\n                    if (initialValue.includes('Adult')) {\r\n                        bp_adult = filteredinitialValue;\r\n                    } else if (initialValue.includes('Child')) {\r\n                        bp_children = filteredinitialValue;\r\n                    } else if (initialValue.includes('Teenager')) {\r\n                        bp_teenager = filteredinitialValue;\r\n                    }  else if (initialValue.includes('OFW')) {\r\n                        bp_ofw = filteredinitialValue;\r\n                    }  else if (initialValue.includes('Infant')) {\r\n                        bp_infant = filteredinitialValue;\r\n                    }\r\n                }\r\n            }\r\n            \r\n            // Track Desktop Passengers\r\n            function bp_track_desktop_passenger_count () {\r\n            \r\n                // MutationObserver to observe changes to the desktop passenger container\r\n                const desktopPassengerDropdownObserver = new MutationObserver(mutations => {\r\n                    mutations.forEach(mutation => {\r\n                        mutation.addedNodes.forEach(node => {\r\n                            if (node.nodeType === 1) {\r\n                                // Node is the dropdown\r\n                                if (node.matches(dropdownSelector)) {\r\n                                    handleDesktopPassengerDropdown(node);\r\n                                }\r\n                                // Node might *contain* the dropdown(s)\r\n                                node.querySelectorAll?.(dropdownSelector).forEach(handleDesktopPassengerDropdown);\r\n                            }\r\n                        });\r\n                    });\r\n                });\r\n                \r\n                // Initializing Desktop Passenger MutationObserver\r\n                desktopPassengerDropdownObserver.observe(passenger_container, {\r\n                    childList: true,\r\n                    subtree: true\r\n                });\r\n            }\r\n            \r\n            // Track Mobile Passengers\r\n            function bp_track_mobile_passenger_count () {\r\n                // MutationObserver to observe changes to the Mobile passenger container\r\n                const mobilePassengerDropdownObserver = new MutationObserver((mutationsList, observer) => {\r\n                    const target_mobilePassengerPicker = document.querySelector(passengerMobileSelector);\r\n                    if (target_mobilePassengerPicker) {\r\n                        \r\n                        // Store initial value if present\r\n                        let passenger_count_container = document.querySelectorAll(dropdownSelector);\r\n                        for (let i=0; i<passenger_count_container.length; i++) {\r\n                            let passengerdiv = passenger_count_container[i];\r\n                            \r\n                            if (passengerdiv.classList.contains('rsw-increment-field__container')) {\r\n                                const initialValue = passengerdiv.getAttribute(observedAttribute).split('You have selected ')[1];\r\n                                if (initialValue !== null) {\r\n                                    const filteredinitialValue = initialValue.split(' ')[0];\r\n                                    \r\n                                    if (initialValue.includes('Adult')) {\r\n                                        bp_adult = filteredinitialValue;\r\n                                    } else if (initialValue.includes('Child')) {\r\n                                        bp_children = filteredinitialValue;\r\n                                    } else if (initialValue.includes('Teenager')) {\r\n                                        bp_teenager = filteredinitialValue;\r\n                                    }  else if (initialValue.includes('OFW')) {\r\n                                        bp_ofw = filteredinitialValue;\r\n                                    }  else if (initialValue.includes('Infant')) {\r\n                                        bp_infant = filteredinitialValue;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                \r\n                // Initializing Mobile Passenger MutationObserver\r\n                mobilePassengerDropdownObserver.observe(document.body, {\r\n                    childList: true,\r\n                    subtree: true\r\n                });\r\n            }\r\n            \r\n            bp_track_desktop_passenger_count();\r\n            bp_track_mobile_passenger_count();\r\n        }\r\n        \r\n        // Start tracking Passenger Count as soon as the page loads. \r\n        // We don't wait for Click on Dubai Stopover Widget to activate this as this information is only available when the dropdown is visible\r\n        // And user can select passengers before chosing Dubai Stopover Widget as well\r\n        bp_track_passenger_count();\r\n        \r\n        // Putting in logic to not show night controls if DXB is selected as either Origin or Destination\r\n        // Function to show or hide Dubai Stopover Night controls\r\n        function bp_hide_night_controls (dxb_bp_first_form, dxb_bp_first_form_na) {\r\n            addClass(dxb_bp_first_form, \"hp-dxb-stopover-hidden\");\r\n            removeClass(dxb_bp_first_form_na, \"hp-dxb-stopover-hidden\");\r\n            addClass(dxb_bp_form, \"hp-dxb-stopover-hidden\");\r\n            removeClass(dxb_bp_form_na, \"hp-dxb-stopover-hidden\");\r\n        }\r\n        \r\n        function bp_show_night_controls (dxb_bp_first_form, dxb_bp_first_form_na) {\r\n            if (bp_stopover_chosen) {\r\n                removeClass(dxb_bp_first_form, \"hp-dxb-stopover-hidden\");\r\n                addClass(dxb_bp_first_form_na, \"hp-dxb-stopover-hidden\");\r\n                removeClass(dxb_bp_form, \"hp-dxb-stopover-hidden\");\r\n                addClass(dxb_bp_form_na, \"hp-dxb-stopover-hidden\");\r\n            }\r\n        }\r\n        \r\n        // Function to decide whether to show night controls or 'Cannot choose Dubai Stopover for this route or dates'\r\n        function bp_hide_or_display_cannot_chose_dubai_stopover () {\r\n            let dxb_bp_first_form                         = document.querySelector('.bp-dxb-stopover-container');           // Dubai stopover Middle Row container element\r\n            let dxb_bp_first_form_na                      = document.querySelector('.bp-dxb-stopover-container-na');        // Dubai stopover N/A Middle Row container element\r\n            \r\n            if (is_eligible_for_dxb_stopover(bp_dep_airport_value, bp_arr_airport_value) && bp_valid_dates) {\r\n                bp_show_night_controls(dxb_bp_first_form, dxb_bp_first_form_na);\r\n                bp_search_boolean = true;\r\n            } else {\r\n                bp_hide_night_controls(dxb_bp_first_form, dxb_bp_first_form_na);\r\n                bp_search_boolean = false;\r\n            }\r\n        }\r\n        \r\n        function update_inbound_arrival_airport (airport_val) {\r\n            let bp_inbound_arr_airport_element          = document.querySelectorAll('.origin-destination__airportField')[3];\r\n            let inbound_arr_airport_element_input       = bp_inbound_arr_airport_element.querySelector('input');\r\n            let inbound_arr_airport_element_label       = bp_inbound_arr_airport_element.querySelector('label');\r\n            let inbound_arr_airport_element_error_para  = bp_inbound_arr_airport_element.querySelector('p.origin-destination__error');\r\n            let inbound_arr_airport_element_error_div   = bp_inbound_arr_airport_element.querySelector('div.origin-destination__airportField-withError');\r\n            let inbound_arr_airport_element_error_span  = bp_inbound_arr_airport_element.querySelector('span');\r\n            let outbound_arr_airport_element_error_div  = document.querySelectorAll('.origin-destination__airportField')[0].querySelector('div.origin-destination__airportField-withError');\r\n            \r\n            // Update Value of the Input\r\n            inbound_arr_airport_element_input.value = airport_val;\r\n            \r\n            if (airport_val === '') {\r\n                addClass(inbound_arr_airport_element_label, 'bp_arr_value_removed');\r\n                removeClass(inbound_arr_airport_element_label, 'bp_arr_value_filled');\r\n            } else {\r\n                addClass(inbound_arr_airport_element_label, 'bp_arr_value_filled');\r\n                removeClass(inbound_arr_airport_element_label, 'bp_arr_value_removed');\r\n                \r\n                // Removing Error Styles to Inbound Arrival Airport\r\n                if (inbound_arr_airport_element_error_para) { \r\n                    addClass(inbound_arr_airport_element_error_para, 'hp-dxb-stopover-hidden'); \r\n                }\r\n                if (inbound_arr_airport_element_error_div) {\r\n                    removeClass(inbound_arr_airport_element_error_div, 'origin-destination__airportField-withError') \r\n                }\r\n                removeClass(inbound_arr_airport_element_error_span, 'input-field--highlight-error');\r\n                \r\n            }\r\n        }\r\n        \r\n        // Capturing Airport Data\r\n        // Function to track changes to the value of Airports on both Desktop & Mobile\r\n        function bp_track_airports () {\r\n        \r\n            // Function to observe any changes to the value of Airports i.e. Flight departure and arrival locations on Mobile\r\n            function bp_trackAirportsMobile () {\r\n                \r\n                // Tracking Airports on Mobile Screen\r\n                // Observer to catch airport data on Mobile View\r\n                const bp_mobile_airport_attribute_change = (mutationsList) => {\r\n                    \r\n                  for (const mutation of mutationsList) {\r\n                    if (mutation.type === 'attributes' && mutation.attributeName === 'aria-expanded') {\r\n                        let obs_value = mutation.target.getAttribute('aria-expanded');\r\n                        \r\n                        if (obs_value === \"false\") {\r\n                            setTimeout(function() {\r\n                                bp_dep_airport_value = document.querySelectorAll('.origin-destination__airportField input')[0].value;\r\n                                update_inbound_arrival_airport (bp_dep_airport_value);\r\n                                bp_arr_airport_value = document.querySelectorAll('.origin-destination__airportField input')[1].value;\r\n                                \r\n                                // Decide whether to show night controls or 'Cannot choose Dubai Stopover for this route or dates'\r\n                                bp_hide_or_display_cannot_chose_dubai_stopover();\r\n                                bp_updateNightsDisplay();\r\n                                \r\n                            }, 200);\r\n                        }\r\n                    }\r\n                  }\r\n                };\r\n                \r\n                bp_mobile_airport_observer = new MutationObserver(bp_mobile_airport_attribute_change);\r\n                \r\n                bp_mobile_airport_observer.observe(document.querySelectorAll('.origin-destination__airportField div[role=\"combobox\"]')[0], {\r\n                  attributes: true, // Observe attribute changes\r\n                  attributeFilter: ['aria-expanded'] \r\n                });\r\n                bp_mobile_airport_observer.observe(document.querySelectorAll('.origin-destination__airportField div[role=\"combobox\"]')[1], {\r\n                  attributes: true, // Observe attribute changes\r\n                  attributeFilter: ['aria-expanded'] \r\n                });\r\n            }\r\n            \r\n            bp_trackAirportsMobile();\r\n        }\r\n        \r\n        // Function to track Date changes on both Desktop & Mobile\r\n        function bp_track_dates () {\r\n            \r\n            function bp_track_dates_mobile () {\r\n    \r\n                function bp_mobile_date_attribute_change (date_type) {\r\n                    \r\n                    return new MutationObserver((mutations) => {\r\n\r\n                        for (const m of mutations) {\r\n                            // Detect new input added\r\n                            if (m.type === 'childList') {\r\n                                m.addedNodes.forEach((node) => {\r\n                                    if (node.tagName === 'INPUT') {\r\n                                        let obs_date_mobile = node.getAttribute('value');\r\n            \r\n                                        if (obs_date_mobile) {\r\n            \r\n                                            if (date_type === 'dep') {\r\n                                                const dep_date_observed = new Date(obs_date_mobile);\r\n                                                const formatted_dep_date_observed = dep_date_observed.toLocaleDateString('en-GB', {day: '2-digit', month: 'short', year: '2-digit'}).replace(',', '');\r\n                                                bp_start_date_value = formatted_dep_date_observed;\r\n                                            }\r\n                                            if (date_type === 'arr') {\r\n                                                const arr_date_observed = new Date(obs_date_mobile);\r\n                                                const formatted_arr_date_observed = arr_date_observed.toLocaleDateString('en-GB', {day: '2-digit', month: 'short', year: '2-digit'}).replace(',', '');\r\n                                                bp_end_date_value = formatted_arr_date_observed;\r\n                                            }\r\n                                            bp_updateNightsDisplay();\r\n                                        }\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            \r\n                // Start Observing Dates\r\n                if (observeDepDate_mobile) observeDepDate_mobile.disconnect();\r\n                observeDepDate_mobile = bp_mobile_date_attribute_change('dep');\r\n                observeDepDate_mobile.observe(document.querySelectorAll('.rsw-airports-calender__calender .DateInput_wrapper')[0], { \r\n                    childList: true, \r\n                    subtree: true \r\n                });\r\n                \r\n                if (observeArrDate_mobile) observeArrDate_mobile.disconnect();\r\n                observeArrDate_mobile = bp_mobile_date_attribute_change('arr');\r\n                observeArrDate_mobile.observe(document.querySelectorAll('.rsw-airports-calender__calender .DateInput_wrapper')[1], { \r\n                    childList: true, \r\n                    subtree: true \r\n                });\r\n            }\r\n            \r\n            // Tracking Dates on Desktop\r\n            function bp_track_dates_desktop () {\r\n                \r\n                function bp_desktop_date_attribute_change (date_type) {\r\n                    \r\n                    return new MutationObserver((mutations) => {\r\n                        mutations.forEach((mutation) => {\r\n                            if (mutation.type === 'attributes' && mutation.attributeName === 'value') {\r\n                                let obs_date = mutation.target.getAttribute('value');\r\n                                \r\n                                if (date_type === 'dep') {\r\n                                    bp_start_date_value = obs_date;\r\n                                }\r\n                                if (date_type === 'arr') {\r\n                                    bp_end_date_value = obs_date;\r\n                                }\r\n                                bp_updateNightsDisplay();\r\n                            }\r\n                        })\r\n                    });\r\n                }\r\n    \r\n                // Start Observing Dates\r\n                if (observeDepDate) observeDepDate.disconnect();\r\n                observeDepDate = bp_desktop_date_attribute_change('dep');\r\n                observeDepDate.observe(document.querySelectorAll('.rsw-airports-calender__calender input.DateInput_input')[0], {\r\n                    attributes: true,\r\n                    attributeFilter: ['value']\r\n                });\r\n                \r\n                if (observeArrDate) observeArrDate.disconnect();\r\n                observeArrDate = bp_desktop_date_attribute_change('arr');\r\n                observeArrDate.observe(document.querySelectorAll('.rsw-airports-calender__calender input.DateInput_input')[1], {\r\n                    attributes: true,\r\n                    attributeFilter: ['value']\r\n                });\r\n            }\r\n            \r\n            bp_track_dates_desktop();\r\n            bp_track_dates_mobile();\r\n        }\r\n        \r\n        function bp_change_night_count (update_counter) {\r\n            if (update_counter === 'outbound_decrement' && bp_nightsCount_outbound > 0) {\r\n                bp_nightsCount_outbound -= 1;\r\n            }\r\n            if (update_counter === 'outbound_increment' && bp_nightsCount_outbound < 4) {\r\n                bp_nightsCount_outbound += 1;\r\n            }\r\n            if (update_counter === 'inbound_decrement' && bp_nightsCount_inbound > 0) {\r\n                bp_nightsCount_inbound -= 1;\r\n            }\r\n            if (update_counter === 'inbound_increment' && bp_nightsCount_inbound < 4) {\r\n                bp_nightsCount_inbound += 1;\r\n            }\r\n        }\r\n        \r\n        // Update the departure date based on nights count, this needs to be adjusted based on actual flight data\r\n        // Where the flight date is taken from the actual search form\r\n        function bp_updateDepartureDate(outbound_night_count, inbound_night_count) {\r\n            \r\n            let bp_leaving_dxb_outbound_element = document.querySelectorAll('.bp-dxb-stopover-departure-date')[0];\r\n            let bp_leaving_dxb_inbound_element = document.querySelectorAll('.bp-dxb-stopover-departure-date')[1];\r\n            \r\n            \r\n            let bp_extra_night_outbound = 0;\r\n            let bp_extra_night_inbound = 0;\r\n            \r\n            if (bp_dep_airport_value !== '') {\r\n                let bp_dep_airport = bp_dep_airport_value.split('(')[1].replace(')', '');\r\n                bp_extra_night_outbound = !non_two_days_stopover_airports.includes(bp_dep_airport) ? 1 : 0;\r\n            }\r\n            \r\n            if (bp_arr_airport_value !== '') {\r\n                let bp_arr_airport = bp_arr_airport_value.split('(')[1].replace(')', '');\r\n                bp_extra_night_inbound = !non_two_days_stopover_airports.includes(bp_arr_airport) ? 1 : 0;\r\n            }\r\n            \r\n            let bp_total_outbound_nights = outbound_night_count === 0  ? outbound_night_count : outbound_night_count + bp_extra_night_outbound;\r\n            let bp_total_inbound_nights = inbound_night_count === 0  ? inbound_night_count : inbound_night_count + bp_extra_night_inbound;\r\n            \r\n            const bp_options = { day: 'numeric', month: 'short', year: '2-digit' };\r\n                \r\n                \r\n            if (bp_start_date_value !== \"\" && outbound_night_count > 0) {\r\n                bp_outbound_base_date = convert_ddmmmyy_to_date(bp_start_date_value, ' ');\r\n                bp_outbound_base_date.setDate(bp_outbound_base_date.getDate() + bp_total_outbound_nights);\r\n                \r\n                const bp_outbound_formatted_date = bp_outbound_base_date.toLocaleDateString('en-GB', bp_options).replace(',', '');\r\n                bp_leaving_dxb_outbound_element.textContent = `Leaving Dubai on ${bp_outbound_formatted_date}`;\r\n            } else {\r\n                bp_outbound_base_date = '';\r\n                bp_leaving_dxb_outbound_element.textContent = '';\r\n            }\r\n            \r\n            if (bp_end_date_value !== \"\" && inbound_night_count > 0) {\r\n                bp_inbound_base_date = convert_ddmmmyy_to_date(bp_end_date_value, ' ');\r\n                bp_inbound_base_date.setDate(bp_inbound_base_date.getDate() + bp_total_inbound_nights);\r\n                \r\n                const bp_inbound_formatted_date = bp_inbound_base_date.toLocaleDateString('en-GB', bp_options).replace(',', '');\r\n                bp_leaving_dxb_inbound_element.textContent = `Leaving Dubai on ${bp_inbound_formatted_date}`;\r\n            } else {\r\n                bp_inbound_base_date = '';\r\n                bp_leaving_dxb_inbound_element.textContent = '';\r\n            }\r\n        }\r\n\r\n        // Function to update the night count display, Levaing Dubai on <date> display and disable buttons as needed\r\n        function bp_updateNightsDisplay() {\r\n            \r\n            if (bp_start_date_value !== '' && bp_end_date_value !== '') {\r\n                let bp_start_date = convert_ddmmmyy_to_date(bp_start_date_value, ' ');\r\n                let bp_end_date = convert_ddmmmyy_to_date(bp_end_date_value, ' ');\r\n                let days_bw_outbound_inbound_flight = (bp_end_date-bp_start_date)/(24*3600*1000);\r\n                \r\n                if (days_bw_outbound_inbound_flight < 7) {\r\n                    bp_valid_dates = false;\r\n                } else {\r\n                    bp_valid_dates = true;\r\n                }\r\n                bp_hide_or_display_cannot_chose_dubai_stopover();\r\n            }\r\n            \r\n            const bp_nightsDisplay_outbound = document.querySelectorAll('.bp-dxb-stopover-nights-count')[0];\r\n            const bp_nightsDisplay_inbound = document.querySelectorAll('.bp-dxb-stopover-nights-count')[1];\r\n            \r\n            // Update nights text\r\n            bp_nightsDisplay_outbound.textContent = bp_nightsCount_outbound <= 1 ? `${bp_nightsCount_outbound} night` : `${bp_nightsCount_outbound} nights`;\r\n            bp_nightsDisplay_inbound.textContent = bp_nightsCount_inbound <= 1 ? `${bp_nightsCount_inbound} night` : `${bp_nightsCount_inbound} nights`;\r\n            \r\n            // Update departure date\r\n            bp_updateDepartureDate(bp_nightsCount_outbound, bp_nightsCount_inbound);\r\n        }\r\n        \r\n        // Function to track changes for both airports and dates\r\n        function bp_start_observing() {\r\n            bp_track_airports();\r\n            bp_track_dates();\r\n        }\r\n        \r\n        // Function to stop tracking changes for both airports and dates\r\n        function bp_stop_observing() {\r\n            if (observeDepDate) {\r\n                observeDepDate.disconnect();\r\n                observeDepDate = null;\r\n            }\r\n            if (observeArrDate) {\r\n                observeArrDate.disconnect();\r\n                observeArrDate = null;\r\n            }\r\n            if (observeDepDate_mobile) {\r\n                observeDepDate_mobile.disconnect;\r\n                observeDepDate_mobile = null;\r\n            }\r\n            if (observeArrDate_mobile) {\r\n                observeArrDate_mobile.disconnect;\r\n                observeArrDate_mobile = null;\r\n            }\r\n            if (observeArrAirport) {\r\n                observeArrAirport.disconnect();\r\n                observeArrAirport = null;\r\n            }\r\n            if (observeDepAirport) {\r\n                observeDepAirport.disconnect();\r\n                observeDepAirport = null;\r\n            }\r\n            if (bp_mobile_airport_observer) {\r\n                bp_mobile_airport_observer.disconnect();\r\n                bp_mobile_airport_observer = null;\r\n            }\r\n        }\r\n        \r\n        // Perform following set of actions when clicked on Dubai Stopover Widget\r\n        function highLightDubaiStopover () {\r\n            \r\n            // Boolean Variables denoting Stopover Chosen State\r\n            bp_stopover_chosen = true;\r\n            \r\n            // Making Modal and Carousel Logic Live\r\n            modal_carousel_logic()\r\n        \r\n            // UI updates\r\n            // Adding Focus to Stopover Search Widget and removing from others\r\n            addClass(bp_dubai_stopover_widget_container, 'rsw-journey-tabs__active');\r\n            changeWidgetSlider();\r\n            set_attribute(multicity_widget_button, 'aria-selected', false);\r\n            removeClasses(bp_other_widgets.slice(0, 3), \"rsw-journey-tabs__active\");\r\n            \r\n            // Show Stopover Benefits\r\n            removeClass(dxb_bp_stopover_benefits_2, \"hp-dxb-stopover-hidden\");                      \r\n            \r\n            // Changing text for the outbound n inbound flights from default values of Flight 1 & 2\r\n            document.getElementById('Flight-1').textContent = 'Outbound flight';\r\n            document.getElementById('Flight-2').textContent = 'Inbound flight';\r\n            \r\n            // Hiding option to add more flights\r\n            addClass(document.querySelector('.rsw-itinerary__list-field__add-flight-container'), \"hp-dxb-stopover-hidden\"); \r\n            \r\n            // Display Night Controls\r\n            let bp_first_row            = document.querySelector('.rsw-itinerary div');                          // Target element to insert Dubai Stopover Middle Row HMTL\r\n            bp_first_row.insertAdjacentHTML(\"afterend\", dxb_bp_form_html);                                       // Add first middle row\r\n            let dxb_bp_form_outer_first_row = document.querySelector('.bp-dxb-stopover-outer-container div');\r\n            removeClass(dxb_bp_form_outer_first_row, \"hp-dxb-stopover-hidden\");                                  // Show first middle row for night controls\r\n            removeClass(dxb_bp_form_outer_second_row, \"hp-dxb-stopover-hidden\");                                 // Show second middle row for night controls\r\n            \r\n            // Disabling inbound flight airport selection\r\n            let bp_inbound_dep_airport_element = document.querySelectorAll('.origin-destination__airportField')[2];\r\n            let bp_inbound_arr_airport_element = document.querySelectorAll('.origin-destination__airportField')[3];\r\n            let bp_inbound_flight_elements = [bp_inbound_dep_airport_element, bp_inbound_arr_airport_element]\r\n            for (let i=0; i<bp_inbound_flight_elements.length; i++) {\r\n                addClass(bp_inbound_flight_elements[i], 'bp_stopover_airport_opaque');\r\n            }\r\n            \r\n            let bp_inbound_airport_elements = document.querySelectorAll('.origin-destination__airports')[1]\r\n            addClass(bp_inbound_airport_elements, 'bp_stopover_airport_cursor_not_allowed');\r\n            \r\n            // Hide Promo Codes\r\n            let promo_banner = document.querySelector('.rsw-action-message__container')\r\n            if (promo_banner) {\r\n                promo_banner.style.display = 'none'\r\n            }\r\n            let promo_code_input = document.querySelector('.responsive-search-widget__promo-cntnr')\r\n            if (promo_code_input) {\r\n                promo_code_input.style.display = 'none'\r\n            }\r\n            \r\n            // Initial Airport Values\r\n            bp_dep_airport_value = document.querySelectorAll('.origin-destination__airportField input')[0].value;\r\n            bp_arr_airport_value = document.querySelectorAll('.origin-destination__airportField input')[1].value;\r\n            \r\n            update_inbound_arrival_airport (bp_dep_airport_value);\r\n            \r\n            // Decide whether to show night controls or 'Cannot choose Dubai Stopover for this route or dates' based on Airport Values\r\n            bp_hide_or_display_cannot_chose_dubai_stopover();\r\n            \r\n            // Initial Date Values\r\n            bp_start_date_value = document.querySelectorAll('.rsw-airports-calender__calender input.DateInput_input')[0].value;\r\n            bp_end_date_value   = document.querySelectorAll('.rsw-airports-calender__calender input.DateInput_input')[1].value;\r\n            \r\n            // Start observing Updates to Airport and Dates\r\n            bp_start_observing();\r\n            \r\n            // Update the night count display, Levaing Dubai on <date> display and disable buttons as needed\r\n            bp_updateNightsDisplay();\r\n            \r\n            let bp_outbound_night_decrement_btn = document.querySelectorAll('.bp-dxb-stopover-counter-btn-decrement')[0];\r\n            let bp_outbound_night_increment_btn = document.querySelectorAll('.bp-dxb-stopover-counter-btn-increment')[0];\r\n            let bp_inbound_night_decrement_btn = document.querySelectorAll('.bp-dxb-stopover-counter-btn-decrement')[1];\r\n            let bp_inbound_night_increment_btn = document.querySelectorAll('.bp-dxb-stopover-counter-btn-increment')[1];\r\n            \r\n            let night_selection_buttons = [bp_outbound_night_decrement_btn, bp_outbound_night_increment_btn, bp_inbound_night_decrement_btn, bp_inbound_night_increment_btn];\r\n            let night_selection_button_functionality = ['outbound_decrement', 'outbound_increment', 'inbound_decrement', 'inbound_increment'];\r\n            \r\n            for (let i=0; i<night_selection_buttons.length; i++) {\r\n                night_selection_buttons[i].onclick = (e) => {\r\n                    bp_change_night_count(night_selection_button_functionality[i]);\r\n                    bp_updateNightsDisplay();\r\n                }\r\n            }\r\n            \r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BP_Search\");\r\n        }\r\n        \r\n        // Perform following set of actions when clicked on Dubai Stopover Widget\r\n        function removehighLightDubaiStopover () {\r\n            bp_stopover_chosen = false;\r\n            \r\n            // Remove Focus from Stopover Search Widget and removing from others\r\n            removeClass(bp_dubai_stopover_widget_container, 'rsw-journey-tabs__active');\r\n            \r\n            // Hide middle rows for nigth control\r\n            let dxb_bp_form_outer_first_row = document.querySelector('.bp-dxb-stopover-outer-container');\r\n            dxb_bp_form_outer_first_row.remove();\r\n            addClass(dxb_bp_form_outer_second_row, \"hp-dxb-stopover-hidden\");\r\n            \r\n            // Disabling inbound flight airport selection\r\n            let bp_inbound_dep_airport_element = document.querySelectorAll('.origin-destination__airportField')[2];\r\n            let bp_inbound_arr_airport_element = document.querySelectorAll('.origin-destination__airportField')[3];\r\n            let bp_inbound_flight_elements = [bp_inbound_dep_airport_element, bp_inbound_arr_airport_element]\r\n            for (let i=0; i<bp_inbound_flight_elements.length; i++) {\r\n                removeClass(bp_inbound_flight_elements[i], 'bp_stopover_airport_opaque');\r\n            }\r\n            \r\n            let bp_inbound_airport_elements = document.querySelectorAll('.origin-destination__airports')[1]\r\n            removeClass(bp_inbound_airport_elements, 'bp_stopover_airport_cursor_not_allowed');\r\n            \r\n            // Show Promo Codes\r\n            let promo_banner = document.querySelector('.rsw-action-message__container')\r\n            if (promo_banner) {\r\n                promo_banner.style.display = 'block'\r\n            }\r\n            let promo_code_input = document.querySelector('.responsive-search-widget__promo-cntnr')\r\n            if (promo_code_input) {\r\n            }\r\n            \r\n            // Stop observing any changes\r\n            bp_stop_observing();\r\n            \r\n            // Hide Stopover Benefits\r\n            addClass(dxb_bp_stopover_benefits_2, \"hp-dxb-stopover-hidden\");\r\n        }\r\n        \r\n        // When clicked on Dubai Stopover Widget\r\n        bp_dubai_stopover_widget_button.onclick = function () {\r\n            \r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionClicked\", \"Promotion Clicked\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BP_Widget\");\r\n            dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BP_Info\");\r\n            \r\n            // If the return form is already selected\r\n            if (multicity_widget.classList.value.includes('rsw-journey-tabs__active')) {\r\n                bp_stopover_chosen = true;\r\n                highLightDubaiStopover();\r\n            } else {\r\n                multicity_widget_button.click(); // Esle, force the Return Trip Form\r\n                bp_stopover_chosen = true;\r\n                setTimeout(function() {\r\n                    highLightDubaiStopover();\r\n                }, 300);\r\n            }\r\n        }\r\n            \r\n        // Hide Dubai Stopover option when clicked on One Way or Multi City Options\r\n        bp_other_widget_buttons.slice(0, 2).forEach((e) => {\r\n            e.onclick = function () {\r\n                if (bp_stopover_chosen) {\r\n                    removehighLightDubaiStopover();\r\n                }\r\n            }\r\n        });\r\n        \r\n        // If Dubai Stopover option is selected, and user clicks on return trip widget\r\n        multicity_widget_button.onclick = function () {\r\n            if (bp_stopover_chosen) {\r\n                removehighLightDubaiStopover();\r\n                addClass(multicity_widget, 'rsw-journey-tabs__active');\r\n                widget_slider.style = '--slider-width: 65.140px; --slider-translate-x: translateX(123.718px);'\r\n                document.getElementById('Flight-1').textContent = 'Flight 1';\r\n                document.getElementById('Flight-2').textContent = 'Flight 2';\r\n                removeClass(document.querySelector('.rsw-itinerary__list-field__add-flight-container'), \"hp-dxb-stopover-hidden\");\r\n            }\r\n        }\r\n        \r\n        // bp_search.onclick = function () {\r\n        bp_search.addEventListener('click', (e) => {\r\n            \r\n            if (bp_dep_airport_value) {\r\n                setTimeout( () => update_inbound_arrival_airport(bp_dep_airport_value), 500);\r\n            }\r\n            \r\n            if (bp_stopover_chosen && bp_start_date_value && bp_end_date_value && bp_dep_airport_value && bp_arr_airport_value) {\r\n                e.stopPropagation();\r\n                dataLayer_push (\"EventTrigger.PageBody_PromotionClicked\", \"Promotion Clicked\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BP_Search\");\r\n                \r\n                let bp_start_date                           = convert_ddmmmyy_to_search_date(bp_start_date_value, ' ');\r\n                let bp_end_date                             = convert_ddmmmyy_to_search_date(bp_end_date_value, ' ');\r\n                let bp_dep_airport                          = bp_dep_airport_value.split('(')[1].replace(')', '');\r\n                let bp_arr_airport                          = bp_arr_airport_value.split('(')[1].replace(')', '');\r\n                let bp_cabin_class                          = document.querySelector('.responsive-search-widget__pax-n-cabin .rsw-drop-down input').value\r\n                let bp_cabin_class_final                    = map_cabin_class_bp(bp_cabin_class);\r\n                let journeyType                             = '';\r\n                let bp_outbound_base_date_final             = '';\r\n                let bp_inbound_base_date_final              = '';\r\n                \r\n                // Updating Journey Type\r\n                if ((bp_nightsCount_outbound > 0) || (bp_nightsCount_inbound > 0)) {\r\n                    journeyType = 'MULTICITY'\r\n                } else {\r\n                    journeyType = 'RETURN'\r\n                }\r\n\r\n                // Updating Final Stopover Dates\r\n                if (bp_outbound_base_date !== '') {\r\n                    bp_outbound_base_date_final = convert_date_to_search_date(bp_outbound_base_date);\r\n                }\r\n                if (bp_inbound_base_date !== '') {\r\n                    bp_inbound_base_date_final = convert_date_to_search_date(bp_inbound_base_date);\r\n                }\r\n                \r\n                // Building Passenger Array\r\n                let passenger_arr = [];\r\n                if (bp_adult > 0)    { passenger_arr.push(`{\"type\":\"ADT\",\"count\":${bp_adult}}`) };\r\n                if (bp_children > 0) { passenger_arr.push(`{\"type\":\"CHD\",\"count\":${bp_children}}`) };\r\n                if (bp_infant > 0)   { passenger_arr.push(`{\"type\":\"INF\",\"count\":${bp_infant}}`) };\r\n                if (bp_ofw > 0)      { passenger_arr.push(`{\"type\":\"OFW\",\"count\":${bp_ofw}}`) };\r\n                if (bp_teenager > 0) { passenger_arr.push(`{\"type\":\"GBE\",\"count\":${bp_teenager}}`) };\r\n                let passenger_data = `[${passenger_arr}]`;\r\n                \r\n                // Building Segment Array\r\n                let segment_arr = [];\r\n                if (journeyType === 'RETURN') {\r\n                    segment_arr.push(construct_travel_segment(bp_dep_airport, bp_arr_airport, bp_start_date, bp_cabin_class_final));\r\n                    segment_arr.push(construct_travel_segment(bp_arr_airport, bp_dep_airport, bp_end_date, bp_cabin_class_final));\r\n                }\r\n                else if (journeyType === 'MULTICITY') {\r\n                    if (bp_inbound_base_date_final !== '' && bp_outbound_base_date_final !== '') {\r\n                        segment_arr.push(construct_travel_segment(bp_dep_airport, 'DXB', bp_start_date, bp_cabin_class_final));\r\n                        segment_arr.push(construct_travel_segment('DXB', bp_arr_airport, bp_outbound_base_date_final, bp_cabin_class_final));\r\n                        segment_arr.push(construct_travel_segment(bp_arr_airport, 'DXB', bp_end_date, bp_cabin_class_final));\r\n                        segment_arr.push(construct_travel_segment('DXB', bp_dep_airport, bp_inbound_base_date_final, bp_cabin_class_final));\r\n                    }\r\n                    else if (bp_outbound_base_date_final !== '') {\r\n                        segment_arr.push(construct_travel_segment(bp_dep_airport, 'DXB', bp_start_date, bp_cabin_class_final));\r\n                        segment_arr.push(construct_travel_segment('DXB', bp_arr_airport, bp_outbound_base_date_final, bp_cabin_class_final));\r\n                        segment_arr.push(construct_travel_segment(bp_arr_airport, bp_dep_airport, bp_end_date, bp_cabin_class_final));\r\n                    }\r\n                    else if (bp_inbound_base_date_final !== '') {\r\n                        segment_arr.push(construct_travel_segment(bp_dep_airport, bp_arr_airport, bp_start_date, bp_cabin_class_final));\r\n                        segment_arr.push(construct_travel_segment(bp_arr_airport, 'DXB', bp_end_date, bp_cabin_class_final));\r\n                        segment_arr.push(construct_travel_segment('DXB', bp_dep_airport, bp_inbound_base_date_final, bp_cabin_class_final));\r\n                    }\r\n                }\r\n              \r\n                let segment_data        = `[${segment_arr}]`;\r\n                let raw_form_data       = '{\"journeyType\":\"' + journeyType + '\",\"bookingType\":\"REVENUE\",\"passengers\":' + passenger_data + ',' + '\"segments\":' + segment_data + ','\r\n                                          + '\"referrer\":\"/booking/search-results\",\"source\":\"trip-summary\"}';\r\n                let encoded_form_data   = btoa(raw_form_data);\r\n                \r\n                setTimeout (() => {\r\n                    window.location.href = `https://www.emirates.com/booking/search-results/?searchRequest=${encoded_form_data}&dso=t`;\r\n                    setCookie('dso', `bp,${bp_nightsCount_outbound},${bp_nightsCount_inbound}`, 30 * 60 * 1000);\r\n                }, 200);\r\n            }\r\n        });\r\n    }\r\n    \r\n    // ---------------------------------------------------------------------------\r\n    // Search Results page & Flight Review Page\r\n    // Delete Cookie if flight search results page does not include dso parameter\r\n    // And use dso Cookie to display stopover stay duration in Dubai\r\n    if (window.location.href.indexOf(\"emirates.com/booking/search-results/\") > -1) {\r\n        if (window.location.href.indexOf(\"dso=t\") > -1) {\r\n            // Do Nothing\r\n        } else {\r\n            setCookie('dso', '');\r\n        }\r\n    \r\n        let dso_data = getCookie('dso')\r\n        if (dso_data !== undefined) {\r\n            \r\n            const observer2 = new MutationObserver((mutationsList, observer) => {\r\n                const targetDiv2 = document.querySelector('.flight-card-price-review__wrapper');\r\n                if (targetDiv2) {\r\n                    observer2.disconnect(); // Stop observing\r\n                    \r\n                    let dso_click_page = dso_data.split(',')[0];\r\n                    let o_nights = dso_data.split(',')[1];\r\n                    let i_nights = dso_data.split(',')[2];\r\n                    const assumedYear = 2025;\r\n                    \r\n                    let dso_dates = document.querySelectorAll('.flight-info__date-time-details__date');\r\n                    let dso_times = document.querySelectorAll('.flight-info__date-time-details__time');\r\n                    \r\n                    let flight_review_cards = document.querySelectorAll(\".flight-card-price-review__wrapper\");\r\n                    \r\n                    if (o_nights > 0) {\r\n                        let flight_dso_arr = `${dso_dates[1].textContent} ${dso_times[1].textContent}`;\r\n                        let flight_dso_dep = `${dso_dates[2].textContent} ${dso_times[2].textContent}`;\r\n                        const difference1 = calculateDateTimeDifference(flight_dso_arr, flight_dso_dep, assumedYear);\r\n                        let stopover_days = difference1.days\r\n                        let stopover_day_text = stopover_days > 0 ? (stopover_days === 1 ? `1 day, ` : `${stopover_days} days, `) : '';\r\n                        let stopover_hours = difference1.hours\r\n                        let stopover_hour_text = stopover_hours > 0 ? (stopover_hours === 1 ? `1 hour` : `${stopover_hours} hours`) : '';\r\n                        let o_night_text = o_nights > 1? 'nights' : 'night';\r\n                        if (typeof difference1 === 'string') {\r\n                        } else {\r\n                            flight_review_cards[0].insertAdjacentHTML(\"afterend\", `<div class=\"dxb-frp-dso-info-outer-container\"><div class=\"dxb-frp-dso-info-inner-container\"><span class=\"dxb-frp-skyline-svg\"></span><div class=\"dxb-frp-dso-info-header\">Dubai stopover</div><div class=\"dxb-frp-dso-info\">You have chosen to stay in dubai for <span class=\"dxb-frp-dso-info-nights\">${stopover_day_text}${stopover_hour_text}</span></div></div></div>`)\r\n                        }\r\n                    }\r\n                    if (o_nights === '0' && i_nights > 0) {\r\n                        let flight_dso_arr = `${dso_dates[3].textContent} ${dso_times[3].textContent}`;\r\n                        let flight_dso_dep = `${dso_dates[4].textContent} ${dso_times[4].textContent}`;\r\n                        const difference2 = calculateDateTimeDifference(flight_dso_arr, flight_dso_dep, assumedYear);\r\n                        let stopover_days = difference2.days\r\n                        let stopover_day_text = stopover_days > 0 ? (stopover_days === 1 ? `1 day, ` : `${stopover_days} days, `) : '';\r\n                        let stopover_hours = difference2.hours\r\n                        let stopover_hour_text = stopover_hours > 0 ? (stopover_hours === 1 ? `1 hour` : `${stopover_hours} hours`) : '';\r\n                        if (typeof difference2 === 'string') {\r\n                        } else {\r\n                            flight_review_cards[flight_review_cards.length-2].insertAdjacentHTML(\"afterend\", `<div class=\"dxb-frp-dso-info-outer-container\"><div class=\"dxb-frp-dso-info-inner-container\"><span class=\"dxb-frp-skyline-svg\"></span><div class=\"dxb-frp-dso-info-header\">Dubai stopover</div><div class=\"dxb-frp-dso-info\">You have chosen to stay in dubai for <span class=\"dxb-frp-dso-info-nights\">${stopover_day_text}${stopover_hour_text}</span></div></div></div>`)\r\n                        }\r\n                    }\r\n                    if (o_nights > 0 && i_nights > 0) {\r\n                        let flight_dso_arr = `${dso_dates[5].textContent} ${dso_times[5].textContent}`;\r\n                        let flight_dso_dep = `${dso_dates[6].textContent} ${dso_times[6].textContent}`;\r\n                        const difference2 = calculateDateTimeDifference(flight_dso_arr, flight_dso_dep, assumedYear);\r\n                        let stopover_days = difference2.days\r\n                        let stopover_day_text = stopover_days > 0 ? (stopover_days === 1 ? `1 day, ` : `${stopover_days} days, `) : '';\r\n                        let stopover_hours = difference2.hours\r\n                        let stopover_hour_text = stopover_hours > 0 ? (stopover_hours === 1 ? `1 hour` : `${stopover_hours} hours`) : '';\r\n                        if (typeof difference2 === 'string') {\r\n                        } else {\r\n                            flight_review_cards[flight_review_cards.length-2].insertAdjacentHTML(\"afterend\", `<div class=\"dxb-frp-dso-info-outer-container\"><div class=\"dxb-frp-dso-info-inner-container\"><span class=\"dxb-frp-skyline-svg\"></span><div class=\"dxb-frp-dso-info-header\">Dubai stopover</div><div class=\"dxb-frp-dso-info\">You have chosen to stay in dubai for <span class=\"dxb-frp-dso-info-nights\">${stopover_day_text}${stopover_hour_text}</span></div></div></div>`)\r\n                        }\r\n                    }\r\n                    \r\n                    let changeSelectionButtons = document.querySelectorAll('.flight-card-price-review__change-selection button');\r\n                    \r\n                    for (let i=0; i<changeSelectionButtons.length; i++) {\r\n                        changeSelectionButtons[i].onclick = function () {\r\n                            observer2.observe(document.body, { childList: true, subtree: true });\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            observer2.observe(document.body, { childList: true, subtree: true });\r\n            \r\n        }\r\n    }\r\n    \r\n    // ---------------------------------------------------------------------------\r\n    // confirmation Page\r\n    if (window.location.href.indexOf(\"emirates.com/booking/confirmation/\") > -1) {\r\n        let dl = dataLayer;\r\n        let dl_data = dl[0];\r\n        let dl_country_code = dl_data.countryCode;\r\n        let eligible_countries = ['BH', 'CA', 'EG', 'DE', 'GH', 'KE', 'KW', 'LB', 'NG', 'PK', 'ZA', 'CH', 'TZ', 'UG', 'GB', 'ZM', 'ZW'];\r\n        let dso_data_1 = getCookie('dso')\r\n        \r\n        let dex_link = `https://www.emirates.com/${dl_country_code.toLowerCase()}/english/dubai-experience/`;\r\n        \r\n        if (dso_data_1 !== undefined && eligible_countries.includes(dl_country_code)) {\r\n            const observer3 = new MutationObserver((mutationsList, observer) => {\r\n                const targetDiv3 = document.querySelector('.booking-header-card');\r\n                if (targetDiv3) {\r\n                    observer3.disconnect(); // Stop observing\r\n                    \r\n                    // Insert HTML for Booking Page\r\n                    targetDiv3.insertAdjacentHTML(\"afterend\", confirm_page_html)\r\n                    dataLayer_push (\"EventTrigger.PageBody_PromotionShown\", \"Promotion Shown\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BCP_Widget\");\r\n                    \r\n                    // Update inserted HTML's CTA with relevant link and onclick function\r\n                    let confirm_page_cta_element = document.querySelector('.cp-dxb-stopover-cta-container');\r\n                    set_attribute(confirm_page_cta_element, 'href', dex_link);\r\n                    confirm_page_cta_element.onclick = function () {\r\n                       dataLayer_push (\"EventTrigger.PageBody_PromotionClicked\", \"Promotion Clicked\", \"BX:479:STOPOVER:CustomerVariantHPBP\", \"BCP_Widget\");\r\n                    }\r\n                }\r\n            });\r\n            observer3.observe(document.body, { childList: true, subtree: true });\r\n        }\r\n    }\r\n    \r\n})();"}}],notificationEnabled:!1},{ref:"535e5c57-f4e2-4fcb-bdd1-cd8871de6d31",name:"BOX-313 Global Navigation Search (EK.com)",revision:124,archived:!1,target:{script:'if (\n  typeof dataLayer !== "undefined" &&\n  dataLayer &&\n  dataLayer.length\n  //&& dataLayer[0].languageCode === "EN"\n  //&& dataLayer[0].pageCategory !== \'Home\'\n) {\n  const searchBtn = getHeaderSearchBtn();\n  if (searchBtn) {\n    searchBtn.addEventListener("click", function () {\n      if (!window.box313IsSearchFormClicked) {\n        const searchWrapper = getSearchWrapper();\n        if (searchWrapper) {\n          searchWrapper.classList.add("bx-313-hidden");\n        }\n        targetingPassed();\n      }\n    });\n  }\n}\n\nfunction getHeaderSearchBtn() {\n  if (typeof __NEXT_DATA__ !== "undefined" && __NEXT_DATA__)\n    return document.querySelector(\n      ".header-buttons__item--search .header-popup__btn"\n    );\n  if (typeof __EK__ !== "undefined")\n    return document.querySelector(\n      ".js-website-search .js-search-selector-list-item-link"\n    );\n  return document.querySelector(\n    ".ek-global-navigation__secondarymenu--search .search-selector-list-item-link"\n  );\n}\n\nfunction getSearchWrapper() {\n  if (typeof __NEXT_DATA__ !== "undefined" && __NEXT_DATA__)\n    return null;\n  if (typeof __EK__ !== "undefined")\n    return document.querySelector(".js-website-search .js-search-popup");\n  return document.querySelector(\n    ".ek-global-navigation__secondarymenu--search .search-popup"\n  );\n}',targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-09-30T17:58:28.967Z",allocationLow:1,allocationHigh:120,splits:[{ref:"014befe5-98bc-4a41-bdd3-e75682c30c6e",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"e656c02a-42f9-499a-a166-6e581ec2cb98",name:"Original",assets:{css:"",html:"",js:'function sendBoxeverEvent(eventType) {\n  let eventLabel = `BOX313_${eventType}`;\n  var event = {\n    channel: "WEB",\n    type: eventLabel,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\n\nfunction trackSearchSubmitCTA() {\n  if (typeof __EK__ !== "undefined") {\n    let searchBtn = document.querySelector("#search-country-input");\n    if (searchBtn) {\n      searchBtn.addEventListener("click", function (e) {\n        sendBoxeverEvent("CLICKED");\n      });\n    }\n  } else if (typeof __INITIAL_STATE__ !== "undefined") {\n    document.addEventListener("click", function (e) {\n      const searchBtnWrapper = document.querySelector(\n        ".header-buttons__item--search .header-search__form .header-search__btn"\n      );\n      if (searchBtnWrapper && searchBtnWrapper.contains(e.target)) {\n        sendBoxeverEvent("CLICKED");\n      }\n    });\n  } else {\n    let searchBtn = document.querySelector(\n      ".ek-global-navigation__secondarymenu--search #search-input"\n    );\n    if (searchBtn) {\n      searchBtn.addEventListener("click", function (e) {\n        sendBoxeverEvent("CLICKED");\n      });\n    }\n  }\n}\nfunction getSearchWrapper() {\n  if (typeof __INITIAL_STATE__ !== "undefined" && __INITIAL_STATE__)\n    return null;\n  if (typeof __EK__ !== "undefined")\n    return document.querySelector(".js-website-search .js-search-popup");\n  return document.querySelector(\n    ".ek-global-navigation__secondarymenu--search .search-popup"\n  );\n}\nconst searchWrapper = getSearchWrapper();\nif (searchWrapper) {\n  searchWrapper.classList.remove("bx-313-hidden");\n}\n\ntrackSearchSubmitCTA();\n'}},{ref:"014befe5-98bc-4a41-bdd3-e75682c30c6e",name:"Predictive search",assets:{css:'@font-face {\n  font-family: "bx-iconography";\n  src: url("https://c.ekstatic.net/shared/fonts/iconography/iconography.woff2?5078cb4a2b9be389d6dda67c3e1207e7")\n      format("woff2"),\n    url("https://c.ekstatic.net/shared/fonts/iconography/iconography.woff?580e865c7c5f11c3fae0de33e30a4db9")\n      format("woff"),\n    url("https://c.ekstatic.net/shared/fonts/iconography/iconography.ttf?580e865c7c5f11c3fae0de33e30a4db9")\n      format("truetype");\n  font-weight: normal;\n  font-style: normal;\n}\n.bx-313-hidden {\n    display: none !important;\n}\n/*classic related*/\n.ek-global-navigation__secondarymenu--search .search-popup {\n  display: none !important;\n}\n.ek-global-navigation__secondarymenu--search .bx-313-header-popup__wrapper--active {\n  z-index: 12;\n}\n.ek-global-navigation__secondarymenu--search .bx-313-input-field__input:focus {\n  box-shadow: none !important;\n  outline: none !important;\n}\n.ek input.bx-313-input-field__input:not([disabled]):not([tabindex="-1"]):not(.panel-disabled):focus {\n  outline: none !important;\n}\n.ek button.bx-313-auto-suggest__item:not([disabled]):not([tabindex="-1"]):not(.panel-disabled):focus {\n  outline: none !important;\n}\n/*end classic related*/\n\n/*home page*/\n.js-website-search .js-search-popup {\n  display: none !important;\n}\n.js-website-search .bx-313-header-popup__wrapper {\n  z-index: unset;\n}\n* input.bx-313-input-field__input:focus {\n  box-shadow: none;\n}\n@media only screen and (max-width: 1199px) {\n  .js-website-search .bx-313-header-popup__content {\n    margin-left: 40px;\n  }\n  html[dir="rtl"] .js-website-search .bx-313-header-popup__content {\n    margin-right: 40px;\n  }\n}\n/*end home page*/\n.bx-313-global-nav-search-popup {\n  display: none;\n}\n.bx-313-input-field {\n  vertical-align: bottom;\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 60px;\n  padding: 0 20px;\n  overflow: hidden;\n  color: #333;\n  line-height: 60px;\n  background: #fff;\n  border: 1px solid #666;\n  border-radius: 3px;\n  box-shadow: inset 4px 4px 0 0 #f2f2f2;\n}\n.bx-313-input-field--focus {\n  box-shadow: 0 0 6px 0 rgb(0 0 0 / 50%), inset 0 0 4px #a9a9a9;\n}\n/*.bx-313-header-search__input .bx-313-input-field {*/\n/*    padding: 0;*/\n/*}*/\n.bx-313-input-field__field {\n  display: flex;\n  height: 58px;\n}\n.bx-313-header-search__input .bx-313-input-field .bx-313-input-field__field {\n  padding: 0 20px;\n}\n.bx-313-global-nav-search-input__errored {\n  border: 0.1rem solid #8d0203;\n  box-shadow: inset 4px 4px 0 0 rgb(141 2 3 / 10%);\n  padding: 0;\n}\n.bx-313-ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.bx-313-input-field__input {\n  font-family: HelveticaNeue-Medium, Helvetica, Arial, Lucida Grande, sans-serif !important;\n  position: absolute;\n  top: 18px;\n  bottom: 0;\n  color: #333 !important;\n  left: 0;\n  box-sizing: border-box;\n  width: 100%;\n  height: 40px;\n  padding: 0 20px;\n  font-size: 20px !important;\n  background-color: transparent;\n  border: none;\n  outline: none;\n  line-height: normal !important;\n}\n\n.bx-313-input-field--active .bx-313-input-field__placeholder {\n  top: 6px;\n  bottom: inherit;\n  font-size: 12px;\n  line-height: 16px;\n}\n\n.bx-313-input-field__placeholder {\n  text-align: initial !important;\n  cursor: unset !important;\n  color: #333 !important;\n  margin-bottom: 0 !important;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n  display: block !important;\n  padding: 0 20px;\n  overflow: hidden;\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 60px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  transition: all 0.2s ease;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue,\n    Helvetica, Arial, Lucida Grande, sans-serif;\n}\n@media only screen and (min-width: 992px) {\n  .bx-313-global-nav-search-popup .bx-313-auto-suggest__not-found {\n    padding: 0 20px;\n  }\n}\n.bx-313-auto-suggest__not-found-heading {\n  padding: 0 !important;\n  margin: 20px 0 20px !important;\n  font-size: 14px !important;\n  font-weight: 700 !important;\n  font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande,\n    sans-serif !important;\n  text-align: initial !important;\n  line-height: 0 !important;\n}\n.header-buttons__item--search .header-popup__wrapper {\n  display: none;\n}\n\n.bx-313-header-popup__wrapper {\n  position: absolute;\n  right: 0;\n  left: 0;\n  display: none;\n  overflow: hidden;\n  border-bottom: 1px solid hsla(0, 0%, 40%, 0.5);\n  box-shadow: 0 10px 19px rgb(51 51 51 / 11%);\n}\n.bx-313-header-popup__wrapper--active {\n  z-index: 1101;\n}\n.bx-313-header-popup__wrapper:after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  background-color: #fff;\n  content: "";\n}\n.bx-313-header-popup__content {\n  position: relative;\n  box-sizing: border-box;\n  max-width: 1100px;\n  margin: 0 auto;\n  padding: 0 10px;\n  outline: none;\n}\n@media only screen and (min-width: 1024px) {\n  .bx-313-header-popup__content {\n    padding-left: 105px;\n  }\n  html[dir="rtl"] .bx-313-header-popup__content {\n    padding-right: 105px;\n    padding-left: 10px;\n  }\n  .bx-313-header-popup__close {\n    top: 24px;\n    right: 0;\n  }\n}\n\n.bx-313-header-search {\n  padding: 15px 0;\n}\n.bx-313-header-popup__close {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  padding: 10px !important;\n  font-size: 1rem;\n  background: none;\n  border: none;\n  cursor: pointer;\n  line-height: normal !important;\n}\nhtml[dir="rtl"] .bx-313-header-popup__close {\n  right: unset;\n  left: 10px;\n}\n.bx-313-header-search + .bx-313-header-popup__close {\n  top: 30px;\n}\n.bx-313-pictogram-wrapper {\n  display: inline-block;\n  line-height: 1em;\n  vertical-align: middle;\n}\n.bx-313-hidden-control {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n}\n.bx-313-close-icon--big {\n  font-size: 11px;\n}\n.bx-313-icon {\n  margin: 0;\n}\n.bx-313-icon {\n  display: inline-flex;\n  direction: ltr !important;\n}\nhtml[dir="rtl"] .bx-313-icon {\n  direction: rtl !important;\n}\n.bx-313-icon {\n  line-height: 1;\n  font-weight: 400;\n  line-height: 1;\n}\n[class*="bx-313-icon-"]:before,\n[class^="bx-313-icon-"]:before {\n  font-weight: normal;\n  font-family: bx-iconography;\n  speak: none;\n  font-style: normal;\n  font-variant: normal;\n  line-height: 1;\n  text-transform: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.bx-313-icon-close:before {\n  content: "\\f154";\n}\n.bx-313-icon-information:before {\n  content: "\\f1c6";\n}\n.bx-313-header-search__input {\n  margin: 0 0 10px;\n}\n.bx-313-global-nav-search-info {\n  padding: 10px 20px;\n  border-radius: 3px;\n  border: 1px solid #666;\n  background-color: #fef7d7;\n  margin: 15px 35px 0 15px;\n  color: #333;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  text-align: left;\n}\nhtml[dir="rtl"] .bx-313-global-nav-search-info {\n  margin: 15px 15px 0 35px;\n  text-align: right;\n}\n.bx-313-global-nav-search-info__content {\n  font-family: HelveticaNeue, Helvetica, Arial, sans-serif !important;\n  font-weight: 700 !important;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #333;\n  margin: 0 0 0 10px !important;\n  padding: 0 !important;\n}\nhtml[dir="rtl"] .bx-313-global-nav-search-info__content {\n  margin: 0 10px 0 0 !important;\n}\nhtml.ar .bx-313-global-nav-search-info__content {\n    font-family: emirates-medium,Helvetica,Arial,Lucida Grande,sans-serif !important;\n}\n.bx-313-global-nav-search-info__link {\n  font-family: HelveticaNeue, Helvetica, Arial, sans-serif !important;\n  color: #333 !important;\n  font-size: 14px !important;\n  display: inline-block !important;\n  font-weight: 700 !important;\n  text-decoration: underline !important;\n  padding: 0 !important;\n  text-transform: none !important;\n  font-style: normal;\n  font-stretch: normal;\n  line-height: normal;\n  letter-spacing: normal;\n  color: #333;\n}\n.bx-313-global-nav-search-info__link:hover {\n  text-decoration: none !important;\n}\n.bx-313-global-nav-search-info__link:focus {\n  box-shadow: 0 0 2px 1.5px #fff, 0 0 3px 3px #000 !important;\n}\n.bx-313-input-field__button-icon {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 10;\n  width: 40px;\n  height: 60px;\n  color: #333;\n  line-height: 60px;\n  background: transparent;\n  display: none;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  font-size: 14px;\n  font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue,\n    Helvetica, Arial, Lucida Grande, sans-serif;\n}\nhtml[dir="rtl"] .bx-313-input-field__button-icon {\n  right: unset;\n  left: 0;\n}\n.bx-313-input-field__button-icon .bx-313-close-icon--small {\n  margin-right: 6px;\n}\nhtml[dir="rtl"] .bx-313-input-field__button-icon .bx-313-close-icon--small {\n  margin-left: 6px;\n  margin-right: 0;\n}\n.bx-313-close-icon--small {\n  font-size: 8px;\n}\nbutton.bx-313-input-field__button-icon:focus {\n  border: none;\n  box-shadow: none;\n  outline: none;\n}\n.bx-313-header-popup__close:focus {\n  border: none;\n  box-shadow: none;\n  outline: none;\n}\n.bx-313-header-search__btn {\n  margin: 0 0 10px;\n}\n/*.bx-313-header-search__btn-cta:focus {*/\n/*     border: none;*/\n/*    box-shadow: none;*/\n/*    outline: none;*/\n/*}*/\n.bx-313-header-search__btn-cta:hover {\n  box-shadow: 0 0 6px 0 grey !important;\n  background-color: #b20a2b !important;\n}\n.bx-313-header-search__btn-cta:active,\n.bx-313-header-search__btn-cta:focus {\n  background: #b20a2b !important;\n}\n.bx-313-header-search__btn-cta {\n  min-height: 60px;\n  text-transform: none !important;\n  padding: 0 20px !important;\n  color: #fff !important;\n  background: #c60c30;\n  border: 0;\n  height: auto !important;\n  line-height: 1 !important;\n  font-size: 16px !important;\n  font-weight: 700 !important;\n  font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande,\n    sans-serif !important;\n  display: inline-block !important;\n  width: 100%;\n  overflow: hidden !important;\n  white-space: nowrap;\n  text-align: center !important;\n  text-decoration: none !important;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  border-radius: 3px;\n  cursor: pointer !important;\n  transition: 0.1s ease;\n  -webkit-appearance: none !important;\n  -moz-appearance: none !important;\n  appearance: none !important;\n}\n.bx-313-header-search__btn-cta-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  min-height: inherit;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  white-space: normal;\n  vertical-align: middle;\n}\n.bx-313-header-search__btn-cta-wrapper-content {\n  display: inline-block;\n  max-height: 2em;\n  overflow: hidden;\n}\n.bx-313-popover {\n  font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande,\n    sans-serif;\n  position: absolute;\n  top: 0;\n  z-index: 1101;\n  padding: 1px;\n  background-color: #fff;\n  border: 1px solid #666;\n  border-radius: 3px;\n  box-shadow: 0 5px 10px rgb(0 0 0 / 20%);\n}\n.bx-313-popover__arrow {\n  top: -11px;\n  left: 50%;\n  border-color: transparent transparent #666;\n  border-style: solid;\n  border-width: 0 11px 11px;\n}\n.bx-313-popover__arrow,\n.bx-313-popover__arrow:after {\n  position: absolute;\n  width: 0;\n  height: 0;\n  margin-left: -11px;\n}\nhtml[dir="rtl"] .bx-313-popover__arrow,\nhtml[dir="rtl"] .bx-313-popover__arrow:after {\n  margin-left: 0;\n  margin-right: -11px;\n}\n.bx-313-popover__arrow:after {\n  top: 2px;\n  display: block;\n  border-color: transparent transparent #fff;\n  border-style: solid;\n  border-width: 0 11px 11px;\n  content: "";\n}\n.bx-313-scroll {\n  position: relative;\n  overflow: hidden;\n}\n.bx-313-scroll__box {\n  max-height: 420px;\n  overflow: auto;\n}\n.bx-313-auto-suggest {\n  flex-grow: 1;\n  /*padding-bottom: 10px;*/\n  border-radius: 0 !important;\n  box-shadow: none !important;\n}\n.bx-313-auto-suggest__list {\n  font-size: 14px;\n}\n.bx-313-auto-suggest__item {\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  width: 100%;\n  padding: 10px 0;\n  text-align: left;\n  background: none;\n  border-width: 1px 0;\n  border-color: transparent;\n  color: #333 !important;\n  cursor: pointer !important;\n  font-size: 14px !important;\n  line-height: 18px !important;\n  font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue,\n    Helvetica, Arial, Lucida Grande, sans-serif !important;\n}\n.bx-313-auto-suggest__item:focus,\n.bx-313-auto-suggest__item:hover:enabled {\n  background: rgba(0, 0, 0, 0.05);\n  border-width: 1px 0;\n  border-radius: 0;\n  box-shadow: none !important;\n}\n.bx-313-auto-suggest__item:focus {\n  border-style: solid;\n  border-color: #a9a9a9;\n  outline: none !important;\n}\n.bx-313-global-nav-search-input__errored-msg {\n  width: auto;\n  height: auto;\n  padding: 10px 14px;\n  font-weight: 700;\n  font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 18px;\n  margin: 0 !important;\n  color: #8d0203;\n  letter-spacing: 0;\n  text-align: left;\n  background: rgba(141, 2, 3, 0.1);\n}\nhtml[dir="rtl"] .bx-313-global-nav-search-input__errored-msg {\n  text-align: right;\n}\n@media only screen and (min-width: 992px) {\n  .bx-313-header-search__form {\n    display: flex;\n    padding-right: 36px;\n  }\n  html[dir="rtl"] .bx-313-header-search__form {\n    padding-left: 36px;\n  }\n  .bx-313-header-search__input {\n    flex: 1 1 100%;\n    margin: 0;\n    padding: 0 20px 0 15px;\n  }\n  html[dir="rtl"] .bx-313-header-search__input {\n    padding: 0 15px 0 20px;\n  }\n  .bx-313-header-search__btn {\n    flex: 1 1 140px;\n    max-width: 300px;\n    margin: 0;\n  }\n}\n@media only screen and (min-width: 769px) {\n  .bx-313-auto-suggest__item {\n    padding: 10px 20px;\n  }\n  html[dir="rtl"] .bx-313-auto-suggest__item {\n    padding: 10px 20px;\n  }\n}\n@media (hover: hover) {\n  .bx-313-input-field:hover {\n    box-shadow: 0 0 6px 0 rgb(0 0 0 / 50%), inset 0 0 4px #a9a9a9;\n  }\n}\n\nhtml.ar .bx-313-auto-suggest__item, html.ar .bx-313-input-field__input, html.ar .bx-313-input-field__placeholder, html.ar .bx-313-header-search__btn-cta, html.ar .bx-313-global-nav-search-info__link {\n    font-family: emirates-medium,Helvetica,Arial,Lucida Grande,sans-serif !important;\n}\n',html:'<div class="bx-313-header-popup__wrapper bx-313-header-popup__wrapper--active">\n    <div class="bx-313-header-popup__content">\n        <div class="bx-313-header-search">\n            <div class="bx-313-header-search__form">\n                <div class="bx-313-header-search__input">\n                    <span class="bx-313-input-field bx-313-input-field--active">\n                        <span class="bx-313-input-field__field">\n                            <input aria-describedby="bx-313-search-description"\n                                aria-labelledby="bx-313-search-input_label" id="bx-313-search-input"\n                                aria-required="false" class="bx-313-input-field__input bx-313-ellipsis" type="text"\n                                autocomplete="off">\n                        </span>\n                        <label for="bx-313-search-input" id="bx-313-search-input_label" aria-label="Search"\n                            class="bx-313-input-field__placeholder"></label>\n                        <button type="button" class="bx-313-input-field__button-icon" tabindex="-1" aria-hidden="true">\n                            <span dir="auto" class="bx-313-close-icon--small bx-313-pictogram-wrapper"\n                                aria-hidden="true">\n                                <i class="bx-313-icon bx-313-icon-close"></i>\n                            </span>\n                        </button>\n                    </span>\n                    <span id="bx-313-search-description" style="display:none;"></span>\n                </div>\n                <div class="bx-313-header-search__btn">\n                    <button type="button" class="bx-313-header-search__btn-cta">\n                        <div class="bx-313-header-search__btn-cta-wrapper"><span\n                                class="bx-313-header-search__btn-cta-wrapper-content"></span></div>\n                    </button>\n                </div>\n            </div>\n            <div class="bx-313-global-nav-search-info" style="display: none;">\n                <span class="bx-313-icon bx-313-icon-information" aria-hidden="true"></span>\n                <p class="bx-313-global-nav-search-info__content">\n                    <a class="bx-313-global-nav-search-info__link">\n                        <span class="link__text link__text--underline" id="bx-313-global-nav-search-info__link-label"></span>\n                    </a>\n                </p>\n            </div>\n        </div>\n        <button role="link" class="bx-313-header-popup__close">\n            <span dir="auto" class="bx-313-close-icon--big bx-313-pictogram-wrapper" aria-hidden="true">\n                <i class="bx-313-icon bx-313-icon-close"></i>\n            </span>\n            <span class="bx-313-hidden-control bx-313-close-icon-aa"></span>\n        </button>\n    </div>\n</div>\n\n<div class="bx-313-global-nav-search-popup">\n    <div class="bx-313-popover" tabindex="-1">\n        <div class="bx-313-popover__arrow"></div>\n        <div class="bx-313-scroll">\n            <div class="bx-313-scroll__box">\n                <div class="bx-313-auto-suggest" tabindex="-1" role="listbox">\n                    <div class="bx-313-auto-suggest__list"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',js:'function sendBoxeverEvent(eventType) {\n  let eventLabel = `BOX313_${eventType}`;\n  var event = {\n    channel: "WEB",\n    type: eventLabel,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\n\nfunction getResourceKeys(resources, resourceMap) {\n  let mappedResources = {};\n  for (var key of Object.keys(resourceMap)) {\n    if (resourceMap[key] in resources) {\n      mappedResources[key] = resources[resourceMap[key]];\n    } else {\n      mappedResources[key] = "";\n    }\n  }\n  return mappedResources;\n}\nfunction getContent(publication) {\n  return fetch(\n    `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Global-Navigation-Search-Widget`\n  )\n    .then((results) => results.json())\n    .then((results) => results.results);\n}\n\nconst codes = {\n  space: 32,\n  enter: 13,\n  arrowUp: 38,\n  arrowDown: 40,\n  arrowLeft: 37,\n  arrowRight: 39,\n  tab: 9,\n  escape: 27,\n  backspace: 8,\n  shift: 16,\n  backslash: 220,\n  comma: 188,\n};\n/**\n * The base implementation of `propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return (key) => (object == null ? undefined : object[key]);\n}\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nconst deburredLetters = {\n  // Latin-1 Supplement block.\n  "\\xc0": "A",\n  "\\xc1": "A",\n  "\\xc2": "A",\n  "\\xc3": "A",\n  "\\xc4": "A",\n  "\\xc5": "A",\n  "\\xe0": "a",\n  "\\xe1": "a",\n  "\\xe2": "a",\n  "\\xe3": "a",\n  "\\xe4": "a",\n  "\\xe5": "a",\n  "\\xc7": "C",\n  "\\xe7": "c",\n  "\\xd0": "D",\n  "\\xf0": "d",\n  "\\xc8": "E",\n  "\\xc9": "E",\n  "\\xca": "E",\n  "\\xcb": "E",\n  "\\xe8": "e",\n  "\\xe9": "e",\n  "\\xea": "e",\n  "\\xeb": "e",\n  "\\xcc": "I",\n  "\\xcd": "I",\n  "\\xce": "I",\n  "\\xcf": "I",\n  "\\xec": "i",\n  "\\xed": "i",\n  "\\xee": "i",\n  "\\xef": "i",\n  "\\xd1": "N",\n  "\\xf1": "n",\n  "\\xd2": "O",\n  "\\xd3": "O",\n  "\\xd4": "O",\n  "\\xd5": "O",\n  "\\xd6": "O",\n  "\\xd8": "O",\n  "\\xf2": "o",\n  "\\xf3": "o",\n  "\\xf4": "o",\n  "\\xf5": "o",\n  "\\xf6": "o",\n  "\\xf8": "o",\n  "\\xd9": "U",\n  "\\xda": "U",\n  "\\xdb": "U",\n  "\\xdc": "U",\n  "\\xf9": "u",\n  "\\xfa": "u",\n  "\\xfb": "u",\n  "\\xfc": "u",\n  "\\xdd": "Y",\n  "\\xfd": "y",\n  "\\xff": "y",\n  "\\xc6": "Ae",\n  "\\xe6": "ae",\n  "\\xde": "Th",\n  "\\xfe": "th",\n  "\\xdf": "ss",\n  // Latin Extended-A block.\n  "\\u0100": "A",\n  "\\u0102": "A",\n  "\\u0104": "A",\n  "\\u0101": "a",\n  "\\u0103": "a",\n  "\\u0105": "a",\n  "\\u0106": "C",\n  "\\u0108": "C",\n  "\\u010a": "C",\n  "\\u010c": "C",\n  "\\u0107": "c",\n  "\\u0109": "c",\n  "\\u010b": "c",\n  "\\u010d": "c",\n  "\\u010e": "D",\n  "\\u0110": "D",\n  "\\u010f": "d",\n  "\\u0111": "d",\n  "\\u0112": "E",\n  "\\u0114": "E",\n  "\\u0116": "E",\n  "\\u0118": "E",\n  "\\u011a": "E",\n  "\\u0113": "e",\n  "\\u0115": "e",\n  "\\u0117": "e",\n  "\\u0119": "e",\n  "\\u011b": "e",\n  "\\u011c": "G",\n  "\\u011e": "G",\n  "\\u0120": "G",\n  "\\u0122": "G",\n  "\\u011d": "g",\n  "\\u011f": "g",\n  "\\u0121": "g",\n  "\\u0123": "g",\n  "\\u0124": "H",\n  "\\u0126": "H",\n  "\\u0125": "h",\n  "\\u0127": "h",\n  "\\u0128": "I",\n  "\\u012a": "I",\n  "\\u012c": "I",\n  "\\u012e": "I",\n  "\\u0130": "I",\n  "\\u0129": "i",\n  "\\u012b": "i",\n  "\\u012d": "i",\n  "\\u012f": "i",\n  "\\u0131": "i",\n  "\\u0134": "J",\n  "\\u0135": "j",\n  "\\u0136": "K",\n  "\\u0137": "k",\n  "\\u0138": "k",\n  "\\u0139": "L",\n  "\\u013b": "L",\n  "\\u013d": "L",\n  "\\u013f": "L",\n  "\\u0141": "L",\n  "\\u013a": "l",\n  "\\u013c": "l",\n  "\\u013e": "l",\n  "\\u0140": "l",\n  "\\u0142": "l",\n  "\\u0143": "N",\n  "\\u0145": "N",\n  "\\u0147": "N",\n  "\\u014a": "N",\n  "\\u0144": "n",\n  "\\u0146": "n",\n  "\\u0148": "n",\n  "\\u014b": "n",\n  "\\u014c": "O",\n  "\\u014e": "O",\n  "\\u0150": "O",\n  "\\u014d": "o",\n  "\\u014f": "o",\n  "\\u0151": "o",\n  "\\u0154": "R",\n  "\\u0156": "R",\n  "\\u0158": "R",\n  "\\u0155": "r",\n  "\\u0157": "r",\n  "\\u0159": "r",\n  "\\u015a": "S",\n  "\\u015c": "S",\n  "\\u015e": "S",\n  "\\u0160": "S",\n  "\\u015b": "s",\n  "\\u015d": "s",\n  "\\u015f": "s",\n  "\\u0161": "s",\n  "\\u0162": "T",\n  "\\u0164": "T",\n  "\\u0166": "T",\n  "\\u0163": "t",\n  "\\u0165": "t",\n  "\\u0167": "t",\n  "\\u0168": "U",\n  "\\u016a": "U",\n  "\\u016c": "U",\n  "\\u016e": "U",\n  "\\u0170": "U",\n  "\\u0172": "U",\n  "\\u0169": "u",\n  "\\u016b": "u",\n  "\\u016d": "u",\n  "\\u016f": "u",\n  "\\u0171": "u",\n  "\\u0173": "u",\n  "\\u0174": "W",\n  "\\u0175": "w",\n  "\\u0176": "Y",\n  "\\u0177": "y",\n  "\\u0178": "Y",\n  "\\u0179": "Z",\n  "\\u017b": "Z",\n  "\\u017d": "Z",\n  "\\u017a": "z",\n  "\\u017c": "z",\n  "\\u017e": "z",\n  "\\u0132": "IJ",\n  "\\u0133": "ij",\n  "\\u0152": "Oe",\n  "\\u0153": "oe",\n  "\\u0149": "\'n",\n  "\\u017f": "s",\n};\n\n/**\n * Used by `deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nconst deburrLetter = basePropertyOf(deburredLetters);\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nconst reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nconst rsComboMarksRange = "\\\\u0300-\\\\u036f";\nconst reComboHalfMarksRange = "\\\\ufe20-\\\\ufe2f";\nconst rsComboSymbolsRange = "\\\\u20d0-\\\\u20ff";\nconst rsComboMarksExtendedRange = "\\\\u1ab0-\\\\u1aff";\nconst rsComboMarksSupplementRange = "\\\\u1dc0-\\\\u1dff";\nconst rsComboRange =\n  rsComboMarksRange +\n  reComboHalfMarksRange +\n  rsComboSymbolsRange +\n  rsComboMarksExtendedRange +\n  rsComboMarksSupplementRange;\n\n/** Used to compose unicode capture groups. */\nconst rsCombo = `[${rsComboRange}]`;\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nconst reComboMark = RegExp(rsCombo, "g");\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @category String\n * @param {string} [string=\'\'] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * deburr(\'dj vu\')\n * // => \'deja vu\'\n */\nfunction deburr(string) {\n  if (!Array.isArray(string))\n    return (\n      string && string.replace(reLatin, deburrLetter).replace(reComboMark, "")\n    );\n  let results = "";\n  for (var i = 0; i < string.length; i++) {\n    results +=\n      string[i] &&\n      string[i].replace(reLatin, deburrLetter).replace(reComboMark, "");\n    if (i !== string.length - 1) {\n      results += ",";\n    }\n  }\n  return results;\n}\n\nfunction handleSearchIconClick(e) {\n  if (e) {\n    e.preventDefault();\n  }\n  const popupWrapper = document.querySelector(".bx-313-header-popup__wrapper");\n\n  window.box313IsExpanded = !window.box313IsExpanded;\n  if (window.box313IsExpanded) {\n    popupWrapper.style.display = "block";\n  } else {\n    popupWrapper.style.display = "none";\n    document.querySelector(".bx-313-global-nav-search-popup").style.display =\n      "none";\n  }\n  if (PUBLICATION && !window.globalNavSearchTriggered) {\n    if (!window.box313IsSearchFormClicked) {\n      const urlParts = PUBLICATION.split("/");\n      const country = urlParts && urlParts.length > 2 ? urlParts[1] : null;\n      const language = urlParts && urlParts.length > 2 ? urlParts[2] : null;\n      if (country && language) {\n        let promises = [\n          fetch(\n            `${HOST}/service/search-keywords?country=${country}&language=${language}`\n          )\n            .then((response) => {\n              return response.json();\n            })\n            .then((results) => results.results),\n            getContent(`/${country}/${language}`),\n        ];\n        if (language !== "english") {\n          promises.push(\n            fetch(\n              `${HOST}/service/search-keywords?country=${country}&language=english`\n            )\n              .then((response) => {\n                return response.json();\n              })\n              .then((results) => results.results)\n          );\n        }\n        Promise.all(promises)\n          .then(([searchKeywords, content ,englishKeywords]) => {\n            if (\n                content && Object.keys(content).length &&\n              searchKeywords &&\n              searchKeywords.length &&\n              (language === "english" ||\n                (language !== "english" &&\n                  englishKeywords &&\n                  englishKeywords.length))\n            ) {\n                      const resourceKeys = getResourceKeys(content, {\n        inputLabel: "Experiences/Global-Navigation-Search-Widget/search-input-label__text",\n        inputAA: "Experiences/Global-Navigation-Search-Widget/search-input-aa__text",\n        ctaLabel: "Experiences/Global-Navigation-Search-Widget/search-cta-label__text",\n        viewPageMessage: "Experiences/Global-Navigation-Search-Widget/view-page-message__text",\n        viewPageLink: "Experiences/Global-Navigation-Search-Widget/view-page-link-label__text",\n        closeIcon: "Experiences/Global-Navigation-Search-Widget/close-icon-aa__text",\n        noResultsMessage: "Experiences/Global-Navigation-Search-Widget/no-match-found__text",\n        noResultsError: "Experiences/Global-Navigation-Search-Widget/no-results-error__text"\n      });\n      document.querySelector(\'.bx-313-input-field__placeholder\').innerHTML = resourceKeys.inputLabel;\n      document.querySelector(\'#bx-313-search-description\').innerHTML = resourceKeys.inputAA;\n            document.querySelector(\'.bx-313-header-search__btn-cta-wrapper-content\').innerHTML = resourceKeys.ctaLabel;\n            document.querySelector(\'.bx-313-global-nav-search-info__content\').innerHTML = resourceKeys.viewPageMessage + document.querySelector(\'.bx-313-global-nav-search-info__content\').innerHTML;\n            \n            document.querySelector(\'.bx-313-close-icon-aa\').innerHTML = resourceKeys.closeIcon;\n            document.querySelector(\'#bx-313-global-nav-search-info__link-label\').innerHTML = resourceKeys.viewPageLink;\n              window.box313SearchKeywordsResults = formatCollection(\n                searchKeywords\n              );\n              window.box313EnglishKeywordsResults = englishKeywords;\n              sendBoxeverEvent("VIEWED");\n              window.globalNavSearchTriggered = true;\n              window.box313IsSearchFormClicked = true;\n              window.box313Resources = resourceKeys;\n              bindSearchInputEvents(e);\n            }\n          })\n          .catch((error) => console.log(error));\n      }\n    } else if (e) {\n      bindSearchInputEvents(e);\n    }\n  } else {\n    bindSearchInputEvents(e);\n  }\n}\n\nfunction bindSearchInputEvents(e) {\n  const searchInput = getSearchInput();\n  if (searchInput) {\n    if (window.box313SelectedItem) {\n      searchInput.value = window.box313SelectedItem.content.title;\n\n      findSuggestions(searchInput.value, true).then((suggestions) => {\n        renderPopUp(\n          suggestions &&\n            suggestions.listCollection &&\n            suggestions.listCollection.length > 0\n            ? suggestions.listCollection[0]\n            : []\n        );\n      });\n    } else if (isLargeSearchTerm(searchInput.value)) {\n      findSuggestions(searchInput.value).then((suggestions) => {\n        renderPopUp(\n          suggestions &&\n            suggestions.listCollection &&\n            suggestions.listCollection.length > 0\n            ? suggestions.listCollection[0]\n            : []\n        );\n      });\n    }\n    searchInput.select();\n  }\n}\nfunction setFocusToFirstSuggestion() {\n  const firstSuggestionElement = document.querySelector(\n    ".bx-313-auto-suggest__item"\n  );\n  if (firstSuggestionElement) {\n    firstSuggestionElement.focus();\n  }\n}\nfunction handleInputKeys(ev) {\n  if (ev.keyCode === codes.arrowUp || ev.keyCode === codes.arrowDown) {\n    ev.preventDefault();\n\n    setFocusToFirstSuggestion();\n  } else if (ev.keyCode === codes.enter) {\n    ev.preventDefault();\n    handleInputBlur(ev);\n  } else if (ev.keyCode === codes.tab) {\n    ev.preventDefault();\n    const searchBtn = document.querySelector(".bx-313-header-search__btn-cta");\n    if (searchBtn) {\n      searchBtn.focus();\n    }\n    handleInputBlur(ev);\n  }\n}\nfunction handleInputFocus(focusEvent) {\n  if (window.box313SelectedItem) {\n    focusEvent.target.value = window.box313SelectedItem.content.title;\n\n    findSuggestions(window.box313SelectedItem.content.title, true).then(\n      (suggestions) => {\n        renderPopUp(\n          suggestions &&\n            suggestions.listCollection &&\n            suggestions.listCollection.length > 0\n            ? suggestions.listCollection[0]\n            : []\n        );\n      }\n    );\n  }\n  const clearInputElement = document.querySelector(\n    ".bx-313-input-field__button-icon"\n  );\n\n  if (focusEvent.target.value !== "") {\n    clearInputElement.style.display = "block";\n  } else {\n    clearInputElement.style.display = "none";\n  }\n\n  focusEvent.target.select();\n  const inputFieldWrapper = document.querySelector(".bx-313-input-field");\n  if (inputFieldWrapper) {\n    inputFieldWrapper.classList.add("bx-313-input-field--focus");\n    inputFieldWrapper.classList.add("bx-313-input-field--active");\n  }\n}\nfunction getSearchInput() {\n  return document.querySelector(".bx-313-input-field__input");\n}\nfunction handleInputBlur(blurEvent) {\n  const searchContainer = document.querySelector(".bx-nav-search");\n  if (\n    isLargeSearchTerm(blurEvent.target.value) &&\n    (!blurEvent.relatedTarget ||\n      !(\n        blurEvent.relatedTarget &&\n        (blurEvent.relatedTarget === searchContainer ||\n          childOf(blurEvent.relatedTarget, searchContainer))\n      ))\n  ) {\n    const popupElement = getPopUpContainer();\n    if (popupElement) {\n      popupElement.style.display = "none";\n    }\n    if (\n      window.box313State &&\n      window.box313State.listCollection &&\n      window.box313State.listCollection.length &&\n      window.box313State.listCollection[0] &&\n      window.box313State.listCollection[0].length\n    ) {\n      const searchBtn = document.querySelector(\n        ".bx-313-header-search__btn-cta"\n      );\n      if (searchBtn) {\n        searchBtn.focus();\n      }\n\n      if (\n        window.box313State.listCollection[0][0] &&\n        window.box313State.listCollection[0][0].content &&\n        window.box313State.listCollection[0][0].content.title\n      ) {\n        if (!window.box313SelectedItem) {\n          window.box313SelectedItem = window.box313State.listCollection[0][0];\n          handleSearchCTA();\n\n          blurEvent.target.value =\n            window.box313State.listCollection[0][0].content.title;\n        } else {\n          blurEvent.target.value = window.box313SelectedItem.content.title;\n        }\n      } else {\n        blurEvent.target.value = "";\n        window.box313SelectedItem = null;\n        handleSearchCTA();\n      }\n    } else {\n      if (isLargeSearchTerm(blurEvent.target.value)) {\n        renderInputInlineError();\n      }\n      blurEvent.target.value = "";\n\n      window.box313SelectedItem = null;\n      handleSearchCTA();\n    }\n  }\n  const inputFieldWrapper = document.querySelector(".bx-313-input-field");\n  if (inputFieldWrapper) {\n    inputFieldWrapper.classList.remove("bx-313-input-field--focus");\n    if (blurEvent.target.value === "") {\n      inputFieldWrapper.classList.remove("bx-313-input-field--active");\n    }\n  }\n}\n\nfunction renderInputInlineError() {\n  const inlineErrorElement = document.querySelector(\n    ".bx-313-global-nav-search-input__errored-msg"\n  );\n  if (!inlineErrorElement) {\n    const error = `<p role="region" aria-live="polite" class="bx-313-global-nav-search-input__errored-msg" tabindex="-1">\n        ${window.box313Resources.noResultsError}\n        </p>`;\n    const inputWrapperElement = document.querySelector(\n      ".bx-313-header-search__input .bx-313-input-field"\n    );\n    if (inputWrapperElement) {\n      inputWrapperElement.insertAdjacentHTML("beforeend", error);\n      inputWrapperElement.classList.add(\n        "bx-313-global-nav-search-input__errored"\n      );\n    }\n  }\n}\nfunction removeInlineError() {\n  const inputWrapperElement = document.querySelector(\n    ".bx-313-header-search__input .bx-313-input-field"\n  );\n  if (inputWrapperElement) {\n    inputWrapperElement.classList.remove(\n      "bx-313-global-nav-search-input__errored"\n    );\n    const errorElement = document.querySelector(\n      ".bx-313-global-nav-search-input__errored-msg"\n    );\n    if (errorElement && errorElement.parentNode) {\n      errorElement.parentNode.removeChild(errorElement);\n    }\n  }\n}\nfunction handleInputChange(inputEvent) {\n  const clearInputElement = document.querySelector(\n    ".bx-313-input-field__button-icon"\n  );\n  if (inputEvent.target.value === "") {\n    clearInputElement.style.display = "none";\n  } else {\n    clearInputElement.style.display = "block";\n  }\n  removeInlineError();\n\n  findSuggestions(inputEvent.target.value)\n    .then((suggestions) => {\n      renderPopUp(\n        suggestions &&\n          suggestions.listCollection &&\n          suggestions.listCollection.length > 0\n          ? suggestions.listCollection[0]\n          : []\n      );\n    })\n    .catch((error) => console.log(error));\n}\nfunction getIndexOfOccurence(source, term) {\n  return source.indexOf(term);\n}\n\nfunction findSuggestions(value, ignoreValue) {\n  return new Promise((resolve) => {\n    const stateData = {\n      listCollection: [],\n      listCollectionExpand: [],\n      findWords: [],\n    };\n    if (\n      window.box313SearchKeywordsResults &&\n      window.box313SearchKeywordsResults.length &&\n      isLargeSearchTerm(value)\n    ) {\n      const searchValue = ignoreValue ? "" : value.toLowerCase();\n      const searchResult = [];\n\n      if (searchValue) {\n        const trimmedSearchValue = deburr(searchValue)\n          .replace(/,/g, " ")\n          .trim();\n        const strArr = trimmedSearchValue.split(" ").filter((word) => !!word);\n\n        let searchCollection = [];\n\n        while (strArr.length > 0) {\n          searchCollection.push(strArr.join(" "));\n          strArr.pop();\n          searchCollection = [trimmedSearchValue].concat(\n            searchCollection.filter(\n              (v) =>\n                !!v &&\n                v !== trimmedSearchValue &&\n                v.length >= SEARCH_TERM_MIN_LENGTH\n            )\n          );\n          let searchLength = searchCollection.length;\n          window.box313SearchKeywordsResults.forEach(\n            (groupCollection, groupCollectionIndex) => {\n              const findCollection = {};\n              const priorityData = {};\n              const otherData = {};\n\n              for (let i = 0, l = groupCollection.length; i < l; i += 1) {\n                const current = groupCollection[i].searchData;\n                let searchCount = 0;\n                let isFind = false;\n                let isFindInPriority = false;\n                current.isPriority = false;\n                while (!isFind && searchCount < searchLength) {\n                  const searchTermStr = searchCollection[searchCount];\n                  for (let n = 0, m = current.priority.length; n < m; n += 1) {\n                    const searchSourceStr = current.priority[n];\n                    const index = getIndexOfOccurence(\n                      searchSourceStr,\n                      searchTermStr\n                    );\n                    if (index > -1) {\n                      if (searchCount === 0) {\n                        searchLength = 1;\n                      }\n                      saveFoundPriority(\n                        priorityData,\n                        groupCollection[i],\n                        searchCount,\n                        n,\n                        index\n                      );\n\n                      current.isPriority = true;\n\n                      isFindInPriority = true;\n                      isFind = true;\n                      findCollection[searchCollection[searchCount]] = true;\n                      break;\n                    }\n                  }\n                  if (\n                    !isFindInPriority &&\n                    searchCollection[searchCount].length >=\n                      SEARCH_TERM_MIN_LENGTH\n                  ) {\n                    for (let n = 0, m = current.other.length; n < m; n += 1) {\n                      const searchSourceStr = current.other[n];\n                      const index = getIndexOfOccurence(\n                        searchSourceStr,\n                        searchTermStr\n                      );\n\n                      if (index > -1) {\n                        saveFoundOther(\n                          otherData,\n                          groupCollection[i],\n                          searchCount\n                        );\n\n                        isFind = true;\n\n                        break;\n                      }\n                    }\n                  }\n\n                  searchCount += 1;\n                }\n              }\n              const priority = normalizePriority(priorityData);\n              const other =\n                normalizeOther(otherData, !!priorityData[0]) || groupCollection;\n\n              searchResult[groupCollectionIndex] = priority.concat(other);\n\n              stateData.findWords = stateData.findWords.concat(\n                searchCollection.filter((word) => findCollection[word])\n              );\n            }\n          );\n          stateData.listCollection = searchResult;\n        }\n      } else {\n        stateData.listCollection = window.box313SearchKeywordsResults;\n      }\n    }\n    window.box313State = stateData;\n    resolve(stateData);\n  });\n}\nfunction sortNumber(a, b) {\n  return a - b;\n}\nfunction normalizePriority(data) {\n  const result = [];\n  // show results for full search string or matched words\n  const wordKeys = data[0] ? [0] : Object.keys(data).sort(sortNumber);\n  wordKeys.forEach((word) => {\n    const orderKeys = Object.keys(data[word]).sort(sortNumber);\n\n    orderKeys.forEach((order) => {\n      const indexKeys = Object.keys(data[word][order]).sort(sortNumber);\n\n      indexKeys.forEach((index) => {\n        data[word][order][index].forEach((item) => {\n          result.push(item);\n        });\n      });\n    });\n  });\n\n  return result;\n}\nfunction normalizeOther(data, isFindFullInPriority) {\n  let result = [];\n  const wordKeys =\n    isFindFullInPriority && data[0] ? [0] : Object.keys(data).sort(sortNumber);\n\n  wordKeys.forEach((word) => {\n    result = result.concat(data[word]);\n  });\n\n  return result;\n}\nfunction saveFoundOther(storage, item, wordOrder) {\n  if (!storage[wordOrder]) {\n    storage[wordOrder] = [];\n  }\n\n  storage[wordOrder].push(item);\n}\nfunction saveFoundPriority(storage, item, wordOrder, order, index) {\n  if (!storage[wordOrder]) {\n    storage[wordOrder] = {};\n  }\n\n  if (!storage[wordOrder][order]) {\n    storage[wordOrder][order] = {};\n  }\n\n  if (!storage[wordOrder][order][index]) {\n    storage[wordOrder][order][index] = [];\n  }\n\n  storage[wordOrder][order][index].push(item);\n}\nfunction getProp(object, path, defaultVal) {\n  const _path = Array.isArray(path)\n    ? path\n    : path.split(".").filter((i) => i.length);\n\n  if (!_path.length) {\n    return object === undefined ? defaultVal : object;\n  }\n\n  return getProp(object[_path.shift()], _path, defaultVal);\n}\nfunction formatCollection(collection) {\n  const formattedCollection = [];\n  collection.forEach((itemData) => {\n    const search = {\n      priority: [],\n      other: [],\n      isPriority: false,\n    };\n    FILTER_COLLECTION.priority.forEach((key) => {\n      search.priority.push(\n        deburr(getProp(itemData, key, "")).replace(/,/g, " ")\n      );\n    });\n    if (FILTER_COLLECTION.other) {\n      FILTER_COLLECTION.other.forEach((key) => {\n        search.other.push(\n          deburr(getProp(itemData, key, "")).replace(/,/g, " ")\n        );\n      });\n    }\n\n    search.priority = normalizeSearchData(search.priority);\n    search.other = normalizeSearchData(search.other);\n    itemData.searchData = search;\n    if (!formattedCollection.length) {\n      formattedCollection.push([itemData]);\n    } else {\n      formattedCollection[0].push(itemData);\n    }\n  });\n  return formattedCollection;\n}\nfunction normalizeSearchData(data) {\n  return data\n    .reduce((a, b) => a.concat(b), [])\n    .filter((item) => !!item)\n    .map((item) => item.toLowerCase());\n}\nfunction isLargeSearchTerm(value) {\n  return !!value && value.length >= SEARCH_TERM_MIN_LENGTH;\n}\nfunction getPopUpContainer() {\n  return document.querySelector(".bx-313-global-nav-search-popup");\n}\nfunction getPopoverLeft(element) {\n  const popoverContainer = getPopUpContainer();\n\n  let leftPosition = 0;\n\n  if (element) {\n    const { width: elementWidth, left: elementLeft } = getDimensions(\n      element,\n      document.documentElement\n    );\n    const leftOffset = elementLeft;\n    leftPosition = leftOffset;\n  }\n\n  return leftPosition;\n}\nfunction renderPopUp(suggestions) {\n  const searchInput = getSearchInput();\n  const popupElement = getPopUpContainer();\n  if (popupElement) {\n    if (searchInput && isLargeSearchTerm(searchInput.value)) {\n      const suggestionsListElement = document.querySelector(\n        ".bx-313-auto-suggest__list"\n      );\n\n      if (suggestionsListElement && suggestions && suggestions.length) {\n        let suggestionsHTML = "";\n        for (var i = 0; i < suggestions.length; i++) {\n          suggestionsHTML += renderSuggestion(suggestions[i], i);\n        }\n        suggestionsListElement.innerHTML = suggestionsHTML;\n      } else {\n        suggestionsListElement.innerHTML = renderNoMatchFound();\n      }\n      const popoverWrapper = document.querySelector(".bx-313-popover");\n      if (popoverWrapper) {\n        const inputWrapper = document.querySelector(\n          ".bx-313-header-search__input"\n        );\n        let topOffset = 10;\n        const opWrapper = document.querySelector(".operational-updates");\n        if (opWrapper && typeof __EK__ !== "undefined") {\n          topOffset = topOffset - opWrapper.offsetHeight;\n        }\n        const opWrapperBEX = document.querySelector(\n          ".operational-update__wrapper"\n        );\n        if (opWrapperBEX && typeof __NEXT_DATA__ !== "undefined") {\n          topOffset = topOffset - opWrapperBEX.offsetHeight;\n        }\n        popoverWrapper.style.top =\n          getPopoverTop(inputWrapper, topOffset) + "px";\n        popoverWrapper.style.left =\n          getPopoverLeft(document.querySelector(".bx-313-input-field")) + "px";\n        popoverWrapper.style.width =\n          getPopoverWidth(document.querySelector(".bx-313-input-field")) + "px";\n      }\n      if (window.box313IsExpanded)\n        popupElement.style.display = "block";\n    } else {\n      popupElement.style.display = "none";\n    }\n  }\n}\nfunction getPopoverWidth(element) {\n  const { width: elementWidth } = getDimensions(\n    element,\n    document.documentElement\n  );\n  return elementWidth;\n}\nfunction renderNoMatchFound() {\n  return `<div class="bx-313-auto-suggest__not-found">\n        <p class="bx-313-auto-suggest__not-found-heading">\n            <b>${window.box313Resources.noResultsMessage}</b>\n        </p>\n        </div>`;\n}\nfunction handleSuggestionKeyDown(ev) {\n  ev.preventDefault();\n\n  if (ev.keyCode === codes.arrowDown) {\n    if (ev.target.nextSibling) {\n      ev.target.nextSibling.focus();\n    }\n  } else if (ev.keyCode === codes.arrowUp) {\n    if (ev.target.previousSibling) {\n      ev.target.previousSibling.focus();\n    }\n  } else if (ev.keyCode === codes.enter || ev.keyCode === codes.tab) {\n    handleSuggestionSelect(ev);\n  }\n}\nfunction renderSuggestion(suggestion, index) {\n  if (suggestion && suggestion.content && suggestion.content.title) {\n    return `<button type="button" data-index="${index}" onblur="handleNavSearchSuggestionBlur(event)" onclick="handleNavSearchSuggestionClick(event)" role="option" aria-selected="false"\n                                         class="bx-313-auto-suggest__item">\n                                       <strong>${suggestion.content.title}</strong>\n                                    </button>`;\n  }\n  return "";\n}\nfunction getDimensions(element, root) {\n  let scrollY = window.pageYOffset;\n  let scrollX = window.pageXOffset;\n\n  if (root && root !== document.documentElement) {\n    scrollY = root.scrollTop;\n    scrollX = root.scrollLeft;\n  }\n\n  const bounding = element.getBoundingClientRect();\n  const { offsetHeight: height, offsetWidth: width } = element;\n  const left = bounding.left + scrollX;\n  const top = bounding.top + scrollY;\n  const right = left + width;\n  const bottom = top + height;\n\n  return {\n    left,\n    right,\n    top,\n    bottom,\n    width,\n    height,\n  };\n}\nfunction isInViewport(el) {\n  const rect = el.getBoundingClientRect();\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <=\n      (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n}\nfunction getScrollableWrapperOffset() {\n  const popoverContainer = getPopUpContainer();\n  if (popoverContainer) {\n    return getDimensions(popoverContainer, document.documentElement);\n  }\n\n  return {\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n  };\n}\nfunction getPopoverTop(element, verticalSpace) {\n  let topPosition = 0;\n\n  if (element) {\n    const { bottom: elementBottom } = getDimensions(\n      element,\n      document.documentElement\n    );\n\n    topPosition = elementBottom + verticalSpace;\n  }\n\n  return topPosition;\n}\nfunction runVariant() {\n  if (PUBLICATION && !window.globalNavSearchTriggered) {\n    const searchElementWrapper = getHeaderSearchWrapper();\n    if (searchElementWrapper) {\n      searchElementWrapper.insertAdjacentHTML(\n        "beforeend",\n        \'<div class="bx-nav-search"></div>\'\n      );\n\n      insertHTMLAfter(".bx-nav-search");\n      const searchBtn = getHeaderSearchBtn();\n      searchBtn.addEventListener("click", handleSearchIconClick);\n      const popupWrapper = document.querySelector(\n        ".bx-313-header-popup__wrapper"\n      );\n      if (popupWrapper) {\n        popupWrapper.style.top =\n          searchBtn.offsetTop + searchBtn.offsetHeight + "px";\n      }\n      const inputWrapper = getSearchInput();\n      if (inputWrapper) {\n        inputWrapper.addEventListener("input", handleInputChange);\n        inputWrapper.addEventListener("focus", handleInputFocus);\n        inputWrapper.addEventListener("blur", handleInputBlur);\n        inputWrapper.addEventListener("keydown", handleInputKeys);\n      }\n      const clearInputElement = document.querySelector(\n        ".bx-313-input-field__button-icon"\n      );\n      if (clearInputElement) {\n        clearInputElement.addEventListener("click", function (e) {\n          e.preventDefault();\n          const inputElement = document.querySelector(\n            ".bx-313-input-field__input"\n          );\n          if (inputElement) {\n            inputElement.value = "";\n            clearInputElement.style.display = "none";\n            window.box313SelectedItem = null;\n            handleSearchCTA();\n            const popupContainer = getPopUpContainer();\n            if (popupContainer) {\n              popupContainer.style.display = "none";\n            }\n            inputElement.focus();\n          }\n        });\n      }\n\n      const closePupupBtn = document.querySelector(\n        ".bx-313-header-popup__close"\n      );\n      if (closePupupBtn) {\n        closePupupBtn.addEventListener("click", function (e) {\n          e.preventDefault();\n          searchBtn.click();\n          searchBtn.focus();\n        });\n      }\n\n      document.addEventListener("click", function (event) {\n        var searchContainer = document.querySelector(".bx-nav-search");\n        if (searchContainer) {\n          if (\n            searchContainer !== event.target &&\n            !childOf(event.target, searchContainer) &&\n            searchBtn !== event.target &&\n            !childOf(event.target, searchBtn)\n          ) {\n            const popupWrapper = document.querySelector(\n              ".bx-313-header-popup__wrapper"\n            );\n            if (window.box313IsExpanded) {\n              window.box313IsExpanded = false;\n              popupWrapper.style.display = "none";\n              document.querySelector(\n                ".bx-313-global-nav-search-popup"\n              ).style.display = "none";\n            }\n          }\n        }\n      });\n      if(typeof __EK__ !== "undefined") {\n          let publicationLink = document.querySelector(\'a#close-country-popup\');\n          publicationLink.addEventListener("click", function (event) {\n                   const popupWrapper = document.querySelector(\n                  ".bx-313-header-popup__wrapper"\n                );\n                if (window.box313IsExpanded) {\n                  window.box313IsExpanded = false;\n                  popupWrapper.style.display = "none";\n                  document.querySelector(\n                    ".bx-313-global-nav-search-popup"\n                  ).style.display = "none";\n                }\n          });\n        }\n      document.addEventListener(\n        "scroll",\n        function () {\n          const inputWrapper = getSearchInput();\n          if (inputWrapper) {\n            if (!isInViewport(inputWrapper)) {\n              const popupContainer = getPopUpContainer();\n              if (popupContainer) {\n                popupContainer.style.display = "none";\n              }\n            }\n          }\n        },\n        {\n          passive: true,\n        }\n      );\n      document.addEventListener("keydown", function (e) {\n        if (e.target.classList.contains("bx-313-auto-suggest__item")) {\n          handleSuggestionKeyDown(e);\n        }\n      });\n      const submitBtn = document.querySelector(\n        ".bx-313-header-search__btn-cta"\n      );\n      if (submitBtn) {\n        submitBtn.addEventListener("click", function (e) {\n          if (e && e.currentTarget) {\n            if (e.currentTarget.dataset) {\n              if (e.currentTarget.dataset.href) {\n                const popupElement = getPopUpContainer();\n                if (popupElement) {\n                  popupElement.style.display = "none";\n                }\n                let target = "_self";\n                if (e.currentTarget.dataset.target) {\n                  target = e.currentTarget.dataset.target;\n                }\n                sendBoxeverEvent("CLICKED");\n                window.open(e.currentTarget.dataset.href, target);\n              }\n            }\n          }\n        });\n      }\n      handleSearchIconClick();\n    }\n  }\n}\nconst getTcmId = (key) => {\n  if (key) {\n    const splittedKey = key.split("/");\n    if (splittedKey && splittedKey.length) {\n      return splittedKey[splittedKey.length - 1];\n    }\n  }\n  return "";\n};\nconst getDefaultRedirectUrl = (val, keywords) => {\n  const redirectURL = keywords.find((keyword) => {\n    if (keyword && keyword.content && keyword.content.redirectLink)\n      return getTcmId(keyword.content.redirectLink.key) === val;\n    return false;\n  });\n  if (\n    redirectURL &&\n    redirectURL.content &&\n    redirectURL.content.redirectLink &&\n    redirectURL.content.redirectLink.content &&\n    redirectURL.content.redirectLink.content.externalLink\n  )\n    return redirectURL.content.redirectLink.content.externalLink;\n  return "";\n};\n\nfunction handleSearchCTA() {\n  const submitBtn = document.querySelector(".bx-313-header-search__btn-cta");\n  if (submitBtn) {\n    if (window.box313SelectedItem) {\n      const urlParts = PUBLICATION.split("/");\n      const language = urlParts && urlParts.length > 2 ? urlParts[2] : null;\n      const newValue = window.box313SelectedItem.content.title;\n      let tcmId = "";\n      let isRedirect = false;\n      let languageRedirectUrl = "";\n      let target = "_self";\n      let externalLink = "";\n      if (window.box313SelectedItem.content) {\n        if (window.box313SelectedItem.content.redirectLink) {\n          tcmId = getTcmId(window.box313SelectedItem.content.redirectLink.key);\n          if (window.box313SelectedItem.content.redirectLink.content) {\n            if (\n              window.box313SelectedItem.content.redirectLink.content\n                .externalLink\n            ) {\n              languageRedirectUrl = window.box313SelectedItem.content.redirectLink.content.externalLink.replace(\n                language,\n                "english"\n              );\n\n              externalLink =\n                window.box313SelectedItem.content.redirectLink.content\n                  .externalLink;\n            }\n            if (window.box313SelectedItem.content.redirectLink.content.target) {\n              target =\n                window.box313SelectedItem.content.redirectLink.content.target;\n            }\n          }\n        }\n        if (\n          window.box313SelectedItem.content.doRedirect &&\n          window.box313SelectedItem.content.doRedirect.length\n        ) {\n          isRedirect = window.box313SelectedItem.content.doRedirect[0];\n        }\n      }\n      let defaultRedirectUrl = "";\n      if (language !== "english") {\n        defaultRedirectUrl = getDefaultRedirectUrl(\n          tcmId,\n          window.box313EnglishKeywordsResults\n        );\n      }\n      const reDirectURL = languageRedirectUrl || defaultRedirectUrl;\n      if (isRedirect) {\n        const redirectInfoElement = document.querySelector(\n          ".bx-313-global-nav-search-info"\n        );\n        if (redirectInfoElement) {\n          redirectInfoElement.style.display = "flex";\n          const redirectLink = document.querySelector(\n            ".bx-313-global-nav-search-info__link"\n          );\n          if (redirectLink) {\n            redirectLink.href = reDirectURL;\n            redirectLink.target = "_self";\n          }\n        }\n      } else if (externalLink) {\n        const redirectInfoElement = document.querySelector(\n          ".bx-313-global-nav-search-info"\n        );\n        if (redirectInfoElement) {\n          redirectInfoElement.style.display = "none";\n        }\n        submitBtn.dataset.href = externalLink;\n        submitBtn.dataset.target = target;\n      } else {\n        const redirectInfoElement = document.querySelector(\n          ".bx-313-global-nav-search-info"\n        );\n        if (redirectInfoElement) {\n          redirectInfoElement.style.display = "none";\n        }\n      }\n    } else {\n      submitBtn.dataset.href = "";\n      submitBtn.dataset.target = "";\n    }\n  }\n}\nfunction getHeaderSearchBtn() {\n  if (typeof __NEXT_DATA__ !== "undefined" && __NEXT_DATA__)\n    return document.querySelector(\n      ".header-buttons__item--search .header-popup__btn"\n    );\n  if (typeof __EK__ !== "undefined")\n    return document.querySelector(\n      ".js-website-search .js-search-selector-list-item-link"\n    );\n  return document.querySelector(\n    ".ek-global-navigation__secondarymenu--search .search-selector-list-item-link"\n  );\n}\nfunction getHeaderSearchWrapper() {\n  if (typeof __NEXT_DATA__ !== "undefined" && __NEXT_DATA__)\n    return document.querySelector(".header-buttons__item--search");\n  if (typeof __EK__ !== "undefined")\n    return document.querySelector(".js-website-search");\n  return document.querySelector(".ek-global-navigation__secondarymenu--search");\n}\nwindow.handleNavSearchSuggestionBlur = function (event) {\n  if (\n    !event.relatedTarget ||\n    (event.relatedTarget &&\n      !event.relatedTarget.classList.contains("bx-313-auto-suggest__item"))\n  ) {\n    handleSuggestionSelect(event);\n  }\n};\nwindow.handleNavSearchSuggestionClick = function (event) {\n  handleSuggestionSelect(event);\n};\nfunction handleSuggestionSelect(event) {\n  if (\n    window.box313State &&\n    window.box313State.listCollection &&\n    window.box313State.listCollection.length &&\n    window.box313State.listCollection[0] &&\n    window.box313State.listCollection[0].length\n  ) {\n    window.box313SelectedItem =\n      window.box313State.listCollection[0][event.target.dataset.index];\n    handleSearchCTA();\n    const searchBtn = document.querySelector(".bx-313-header-search__btn-cta");\n    if (searchBtn) {\n      searchBtn.focus();\n    }\n    const searchInput = getSearchInput();\n    if (searchInput) {\n      searchInput.value =\n        window.box313State.listCollection[0][\n          event.target.dataset.index\n        ].content.title;\n    }\n    const popoverContainer = getPopUpContainer();\n    if (popoverContainer) {\n      popoverContainer.style.display = "none";\n    }\n  }\n}\nfunction childOf(node, ancestor) {\n  var child = node;\n  while (child !== null) {\n    if (child === ancestor) return true;\n    child = child.parentNode;\n  }\n  return false;\n}\nfunction getPublication() {\n  if (typeof __NEXT_DATA__ !== "undefined" && __NEXT_DATA__) {\n    return `/${__NEXT_DATA__.props.pageProps.appState.urlparser.results.country}/${__NEXT_DATA__.props.pageProps.appState.urlparser.results.language}`;\n  }\n  if (typeof __EK__ !== "undefined" && __EK__) {\n    return `/${__EK__.urlparser.country}/${__EK__.urlparser.language}`;\n  }\n  const publicationMetaElement = document.querySelector(\n    \'meta[name="PublishURL"]\'\n  );\n  if (publicationMetaElement) {\n    if (publicationMetaElement.content !== "/english") {\n      return publicationMetaElement.content;\n    } else {\n      return "/global/english";\n    }\n  }\n  return null;\n}\nconst HOST = "https://www.emirates.com";\nconst SEARCH_TERM_MIN_LENGTH =\n  "1";\nconst PUBLICATION = getPublication();\nconst FILTER_COLLECTION = {\n  priority: ["content.keywords"],\n  other: ["analytics.title"],\n};\nif (typeof window.globalNavSearchTriggered === "undefined") {\n  window.box313SearchKeywordsResults = null;\n  window.box313EnglishKeywordsResults = null;\n  window.box313State = {};\n  window.box313IsExpanded = false;\n  window.box313SelectedItem = null;\n  window.box313IsSearchFormClicked = false;\n  window.box313Resources = {};\n  window.globalNavSearchTriggered = false;\n  runVariant();\n}\n'}}],notificationEnabled:!1},{ref:"ff9933fb-25ff-4ac3-adf0-4b08811659d0",name:"Visitor Prediction Cookie - V2",revision:28,archived:!1,traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"6296b710-206a-4f4d-8804-2bf30bca33a7",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"6296b710-206a-4f4d-8804-2bf30bca33a7",name:"Set Visitor model cookie",assets:{css:"/** style your Experience with CSS */",html:"",js:'(function () {\n\n    function setCookie(name, value, days) {\n        let expires = "";\n        \n        if (days) {\n            let date = new Date();\n            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n            expires = "; expires=" + date.toUTCString();\n        }\n        \n        document.cookie = name + "=" + value + expires + "; path=/; domain=.emirates.com; secure";\n    }\n    \n    let gaClientId = \'{{gaClientId}}\';\n    let guestType ="{{guestType}}";\n        \n    let bookingLabel ="{{bookingLabel}}";\n    let bookingPropensity ="{{bookingPropensity}}";\n    let abandonmentLabel ="{{abandonmentLabel}}";\n    let abandonmentPropensity ="{{abandonmentPropensity}}";\n    \n    setCookie("PLV", JSON.stringify({\n        bl: bookingLabel,\n        bp: bookingPropensity, \n        al: abandonmentLabel,\n        ap: abandonmentPropensity, \n        gt: 1\n    }) , 14);\n})();\n\n'}}],notificationEnabled:!1},{ref:"09508f8c-772d-4108-8854-285dc8b81bf8",name:"BOX 477 - Homepage Abandonment Customers USP",revision:21,archived:!1,target:{script:"(function () {\r\n\r\n    // Checking if dataLayer exists and has at least one element\r\n    if (dataLayer && dataLayer.length) {\r\n\r\n        // Checking specific targeting conditions\r\n        if (\r\n            dataLayer[0].pageName && \r\n            dataLayer[0].pageName === '/ Home' && \r\n            dataLayer[0].languageCode.startsWith(\"EN\") &&  \r\n            dataLayer[0].countryCode != 'US'\r\n        ) {\r\n            // If all the conditions are met, run the targetingPassed function\r\n            targetingPassed();\r\n        }\r\n    }\r\n})();",targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"0773f1e0-8363-4ccb-9a36-8fdb2a9bdbf9",lowSplit:1,highSplit:60},{ref:"6249d769-7fc1-43d1-8cd7-a1c1f83d24ee",lowSplit:61,highSplit:120}],coupled:!1},variants:[{ref:"0773f1e0-8363-4ccb-9a36-8fdb2a9bdbf9",name:"Original",assets:{css:'/** style your Experience with CSS */\n  <style>\n        /* Reset default margin and padding */\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        /* RTL support */\n        [dir="rtl"] .bx-one-destination-background {\n            direction: rtl;\n        }\n        [dir="rtl"] .bx-one-destination-details {\n            text-align: right;\n            padding-right: 82px;;\n        }\n        [dir="rtl"] .bx-one-destination-title {\n            text-align: right;\n        }\n        [dir="rtl"] .bx-rectangle-separator {\n            text-align: right;\n        }      \n        [dir="rtl"] .bx-one-destination-sub-title {\n            text-align: right;\n        }\n        \n        .bx-one-destination-background {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            width: 301px;\n            max-width: 100%;\n            height: auto;\n            margin: 24px auto;\n            border-radius: 3px;\n            box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n            background-color: #fff;\n            flex-grow: 0;\n        }\n\n        .bx-one-destination-details {\n            order: 1; /* Default order for desktop view */\n            width: 50%;\n            height: 100%;\n        }\n\n        .bx-one-destination-title {\n            font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\n            font-weight: normal;\n            font-stretch: normal;\n            font-style: normal;\n            line-height: normal;\n            letter-spacing: normal;\n            text-align: left;\n            color: #333;\n            display: inline-block;          \n        }\n\n        .bx-one-destination-title .bx-text-title-style {\n            font-weight: bold;\n        }\n\n        .bx-one-destination-sub-title {\n            font-family: HelveticaNeue, Helvetica, Arial, sans-serif;;\n            font-size: 14px;\n            font-weight: 300;\n            font-stretch: normal;\n            font-style: normal;\n            line-height: 1.43;\n            letter-spacing: normal;\n            text-align: left;\n            color: #333;\n            display: inline-block;\n        }\n\n        .bx-one-destination-book-now {\n            font-family: HelveticaNeue, Helvetica, Arial, sans-serif;;\n            font-size: 16px;\n            font-weight: bold;\n            font-stretch: normal;\n            font-style: normal;\n            line-height: normal;\n            letter-spacing: normal;\n            text-align: center;\n            color: #333;\n            border: solid 1px #333;\n            background-color: #fff;\n            text-align: center;\n            display: inline-block;\n            text-decoration: none;\n            height: 40px;\n            padding: 10px;\n        }\n\n        .bx-one-destination-book-now:focus,\n        .bx-one-destination-book-now:hover {\n            background-color: #f0f0f0;\n        }\n\n        .bx-image-block {\n            width: 100%;\n            height: 100%;\n            order: 2; /* Default order for mobile view */\n            object-fit: cover;\n            overflow: hidden;\n        }\n\n        .bx-image-block img {\n            width: 100%;\n            height: 100%;\n            border-radius: 3px;\n            object-fit: cover;\n            display: block;\n        }\n\n        .bx-rectangle-separator {\n            width: 59.5px;\n            height: 2px;\n            margin-bottom: 20px;\n            background-color: #c60c30;\n        }\n\n        @media only screen and (max-width: 768px) {\n        .card-design\n        {\n            max-width: 1200px;\n            padding-left: 10px;\n            padding-right: 10px;\n        }\n        \n        .card-design .bx-one-destination-background\n        {\n            width:100%;\n            \n        }\n\n            [dir="rtl"] .bx-one-destination-details {\n                text-align: center;\n                padding-right: 0px;\n                width: 100%;\n                height: 70%;\n            }\n            \n            [dir="rtl"] .bx-one-destination-title {\n                text-align: center;\n                padding-right: 0px;;\n            }           \n\n            [dir="rtl"] .bx-one-destination-sub-title {\n                text-align: center;\n                padding-right: 0px;;\n            }           \n\n            .bx-one-destination-background {\n                max-width: 1100px;\n                padding: 0 0 8px;\n                height: 287px;\n                border-radius: 3px;\n                box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n                background-color: #fff;                \n                flex-direction: column;\n                justify-content: space-between;    \n                width: 80%;\n            }\n            \n            .bx-one-destination-title {\n                margin-top: 15px;\n                text-align: center;\n                margin: 21px 20.5px 7px;\n                display: block;\n                font-size: 18px; \n            }\n\n            .bx-one-destination-sub-title {\n                margin: 7px 20.5px 0px;\n                text-align: center;\n                display: block;\n                font-size: 12px; \n            }\n\n            .bx-one-destination-details {\n                order: 2; /* Change order for desktop view */\n                text-align: center;\n                width: 100%;\n                height: 60%;\n            }\n\n            .bx-image-block {\n                justify-content: center;\n                margin: 0px;\n                order: 1;\n                width: 100%;\n                height: 50%;\n            }\n\n            .bx-image-block img {\n                border-top-left-radius: 3px;\n                border-top-right-radius: 3px;\n            }\n                \n            .bx-one-destination-book-now {\n                width: 90%;\n                margin: 22px 8px 8px;\n            }\n\n            .bx-rectangle-separator {\n                display: none;\n            }\n        }\n\n\n        @media only screen and (min-width: 769px) {\n\n            .bx-one-destination-background {\n                max-width: 1100px;\n                height: 370px;\n                border-radius: 3px;\n                box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n                background-color: #fff;                \n                flex-direction: row;\n                justify-content: space-between;    \n                width: 80%;\n                margin: 47px auto;\n            }\n\n            .bx-one-destination-details {\n                width: 50%;\n                height: 100%;\n                padding-top: 89px;\n                padding-left: 82px;;\n                padding-bottom: 71px;;\n            }\n\n            .bx-one-destination-title {\n                font-size: 24px; \n                margin-bottom: 14px;\n                width: auto;\n                height: auto;\n            }\n\n            .bx-one-destination-sub-title {\n                width: auto;\n                height: auto;\n                margin-bottom: 36px;\n            }\n\n            .bx-one-destination-book-now {\n                min-width: 149px;\n            }\n\n            .bx-image-block {\n                width: 50%;\n                height: 100%;\n                position: relative;\n            }\n        }\n\n        @media only screen and (min-width: 769px) and (max-width: 1024px) \n        {\n        .card-design\n            {\n            max-width: 1200px;\n            padding-left: 50px;\n            padding-right: 50px;\n            }\n        \n        .card-design .bx-one-destination-background\n            {\n                width:100%;\n                \n            } \n        \n        .bx-one-destination-details \n            {\n                    width: 50%;\n                    height: 100%;\n                    padding-top: 50px;\n                    padding-left: 50px;\n                    padding-bottom: 50px;\n            }\n        }\n        \n        @media only screen and (min-width: 1025px) and (max-width: 1199px)\n        {\n        .card-design\n            {\n            max-width: 1200px;\n            padding-left: 50px;\n            padding-right: 50px;\n            }\n            \n        .card-design .bx-one-destination-background\n            {\n                width:100%;\n                \n            } \n         }\n      \n           @media only screen and (min-width: 769px) and (max-width: 1023px) {\n        .card-design\n            {\n            max-width: 1200px;\n            padding-left: 30px;\n            padding-right: 30px;\n            }\n        \n        .card-design .bx-one-destination-background\n            {\n                width:100%;\n            } \n        }\n       \n        @media only screen and (min-width: 1200px)\n        {\n        .card-design\n            {\n                max-width:1200px; \n                padding-left:50px; \n                padding-right:50px;\n                margin:0 auto;\n                \n            } \n \n        .card-design .bx-one-destination-background\n            {\n                width:100%;\n                \n            } \n        }\n\n    </style>',html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n{{!--<div>My Content</div>--}}\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'    \r\n    // Get the required data to process from the template data\r\n    let destination_code = "{{destination_code}}";\r\n    let destination_city = "{{destination_city}}";\r\n    let ek_route = "{{EK-route}}";\r\n    const flightType = "{{flight_type}}";\r\n    const originCode = "{{origin_code}}";\r\n    let returnDate = "{{return_date}}";\r\n    let departDate = "{{depart_date}}";\r\n    const adultsRaw = {{adults}};\r\n    const childrenRaw = {{children}};\r\n    const infantsRaw = {{infants}};\r\n    const youthsRaw = {{youths}};\r\n    const ofwsRaw = {{ofws}};\r\n    const bookingClass = "{{booking_class}}";\r\n    const chauffeurStatus = "{{chauffeur_available}}";\r\n\r\n    //Assign journeyclass\r\n    const isEconomy = bookingClass === "Y";\r\n    const isPremiumEconomy = bookingClass === "W";\r\n    const isFirstClass = bookingClass === "F";\r\n    const isBusinessClass = bookingClass === "J";\r\n    const isDestinationDubai = destination_code === "DXB";\r\n    \r\n    // Determine journeyType\r\n    const journeyType = flightType === "OW" ? "ONEWAY" : "RETURN";\r\n\r\n    // Function to send Boxever event\r\n    function sendBoxeverEvent(eventType) {\r\n        let eventLabel = `BOX477_CONTROL_${eventType}`;\r\n        var event = {\r\n            channel: "WEB",\r\n            type: eventLabel,\r\n            page: dataLayer[0].pageName,\r\n            pos: _boxever_settings.pointOfSale,\r\n            browser_id: Boxever.getID(),\r\n        };\r\n        Boxever.eventCreate(event, function(data) {}, "json");\r\n    }\r\n    \r\n    // Variant to letter mapping\r\n    const variantSuffixMap = {\r\n        ICE                         : "a|ICE",           // Economy - ICE\r\n        FAMILY_USP                  : "b|Family",        // Economy - Family\r\n        MY_EMIRATES_PASS            : "c|EmiratesPass",  // Economy - Emirates Pass\r\n        CHAUFFEUR_DRIVE_J           : "d|Chauffeur",     // Chauffeur - Business\r\n        CHAUFFEUR_DRIVE_F           : "d|Chauffeur",     // Chauffeur - First\r\n        CHAUFFEUR_DRIVE_J_DINING    : "e|Dining",        // Dining - Business\r\n        CHAUFFEUR_DRIVE_F_DINING    : "e|Dining",        // Dining - First\r\n        NON_EK_ECONOMY              : "f|Fallback",      // Fallback - Economy\r\n        NON_EK_BUSINESS             : "f|Fallback",      // Fallback - Business\r\n        NON_EK_FIRST                : "f|Fallback"       // Fallback - First\r\n    };\r\n\r\n    function buildEventLabel(group) {\r\n        // group = "Control" or "CustomerVariant"\r\n        return `BX:477:ABD_HP_USP_C:${group}`;\r\n    }\r\n    function buildEventFormDetails(variantType) {\r\n        const suffix = variantSuffixMap[variantType] || "x"; // fallback if not mapped\r\n        return `${suffix}`;\r\n    }\r\n    \r\n    // Generic helper for pushing into dataLayer with delay\r\n    function pushToDataLayer(eventName, category, action, label, formDetails, value, delay = 500) {\r\n        if (typeof window.dataLayer === "undefined") {\r\n            window.dataLayer = [];\r\n        }\r\n        setTimeout(() => {\r\n            const payload = {\r\n                event: eventName,\r\n                category: category,\r\n                action: action,\r\n                label: label,\r\n                formDetails : formDetails,\r\n                value: value\r\n            };\r\n            window.dataLayer.push(payload);\r\n        }, delay);\r\n    }\r\n    \r\n    function render() {\r\n        \r\n        const wrapper = document.querySelector(".widget__container");\r\n        wrapper.insertAdjacentHTML(\r\n            "afterend",\r\n            \'<div class = "card-design"><div class="bx-one-destination-background"></div></div>\'\r\n        );\r\n\r\n        insertHTMLAfter(".bx-one-destination-background");\r\n        \r\n        // Simple parser for "DD-MMM-YY" or "DD-MMM-YYYY"\r\n        function parseDDMMMYY(dateStr) {\r\n            const [dayStr, monStr, yearStr] = dateStr.split(\'-\');\r\n            const day = parseInt(dayStr, 10);\r\n            const monthMap = {\r\n                jan: 0,\r\n                feb: 1,\r\n                mar: 2,\r\n                apr: 3,\r\n                may: 4,\r\n                jun: 5,\r\n                jul: 6,\r\n                aug: 7,\r\n                sep: 8,\r\n                oct: 9,\r\n                nov: 10,\r\n                dec: 11\r\n            };\r\n            const month = monthMap[monStr.toLowerCase()];\r\n            let year = parseInt(yearStr, 10);\r\n            if (year < 100) year += 2000; // handle 2-digit year\r\n            return new Date(year, month, day);\r\n        }\r\n        \r\n        // Add months safely without day rollover\r\n        function addMonthsSafe(date, months) {\r\n            const d = new Date(date.getTime());\r\n            const day = d.getDate();\r\n            d.setDate(1); // prevent rollover\r\n            d.setMonth(d.getMonth() + months);\r\n            const lastDay = new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\r\n            d.setDate(Math.min(day, lastDay));\r\n            return d;\r\n        }\r\n    \r\n        // Adjust dates if they are in the past relative to today\r\n        function adjustDatesIfPast(departDateStr, returnDateStr, journeyType) {\r\n            const today = new Date();\r\n            today.setHours(0, 0, 0, 0);\r\n    \r\n            const departOrig = parseDDMMMYY(departDateStr);\r\n            let depart = departOrig ? new Date(departOrig.getTime()) : null;\r\n            let ret = (journeyType === "RETURN" && returnDateStr) ? parseDDMMMYY(returnDateStr) : null;\r\n            let newPayload;\r\n    \r\n            if (journeyType === "ONEWAY") {\r\n                if (depart && depart < today) {\r\n                    let monthsToAdd = (today.getFullYear() - depart.getFullYear()) * 12 +\r\n                        (today.getMonth() - depart.getMonth());\r\n                    if (monthsToAdd < 0) monthsToAdd = 0;\r\n    \r\n                    let candidate;\r\n                    let safety = 0;\r\n                    while (safety < 48) {\r\n                        candidate = addMonthsSafe(depart, monthsToAdd);\r\n                        if (candidate >= today) break;\r\n                        monthsToAdd++;\r\n                        safety++;\r\n                    }\r\n                    depart = addMonthsSafe(depart, monthsToAdd);\r\n    \r\n                    newPayload = {\r\n                        journeyType: journeyType,\r\n                        bookingType: "REVENUE",\r\n                        flexiSearch: true,\r\n                        passengers: [],\r\n                        segments: [],\r\n                        referrer: "/book"\r\n                    };\r\n                } else {\r\n                    // future -> no flexiSearch\r\n                    newPayload = {\r\n                        journeyType: journeyType,\r\n                        bookingType: "REVENUE",\r\n                        passengers: [],\r\n                        segments: [],\r\n                        referrer: "/book"\r\n                    };\r\n                }\r\n    \r\n                return {\r\n                    departDate: depart,\r\n                    returnDate: null,\r\n                    payload: newPayload\r\n                };\r\n            }\r\n    \r\n            // RETURN flight logic\r\n            if (journeyType === "RETURN") {\r\n                if ((depart && depart < today) || (ret && ret < today)) {\r\n                    const earliest = (!ret || depart <= ret) ? depart : ret;\r\n    \r\n                    let monthsToAdd = (today.getFullYear() - earliest.getFullYear()) * 12 +\r\n                        (today.getMonth() - earliest.getMonth());\r\n                    if (monthsToAdd < 0) monthsToAdd = 0;\r\n    \r\n                    let candidate;\r\n                    let safety = 0;\r\n                    while (safety < 48) {\r\n                        candidate = addMonthsSafe(earliest, monthsToAdd);\r\n                        if (candidate >= today) break;\r\n                        monthsToAdd++;\r\n                        safety++;\r\n                    }\r\n    \r\n                    depart = addMonthsSafe(depart, monthsToAdd);\r\n                    if (ret) {\r\n                        ret = addMonthsSafe(ret, monthsToAdd);\r\n                        while (ret <= depart && safety < 48) {\r\n                            ret = addMonthsSafe(ret, 1);\r\n                            safety++;\r\n                        }\r\n                    }\r\n    \r\n                    newPayload = {\r\n                        journeyType: journeyType,\r\n                        bookingType: "REVENUE",\r\n                        flexiSearch: true,\r\n                        passengers: [],\r\n                        segments: [],\r\n                        referrer: "/book"\r\n                    };\r\n                } else {\r\n                    // future -> no flexiSearch\r\n                    newPayload = {\r\n                        journeyType: journeyType,\r\n                        bookingType: "REVENUE",\r\n                        passengers: [],\r\n                        segments: [],\r\n                        referrer: "/book"\r\n                    };\r\n                }\r\n                return {\r\n                    departDate: depart,\r\n                    returnDate: ret,\r\n                    payload: newPayload\r\n                };\r\n            }\r\n        }\r\n        \r\n        let adjusted = adjustDatesIfPast(departDate, returnDate, journeyType);\r\n        departDate = adjusted.departDate;\r\n        returnDate = adjusted.returnDate;\r\n        let payload = adjusted.payload;\r\n    \r\n        // Convert Date object to YYYY-MM-DD\r\n        function convertDate(dateObj) {\r\n            if (!dateObj) return null; // Prevents calling getFullYear on null\r\n            const year = dateObj.getFullYear();\r\n            const month = String(dateObj.getMonth() + 1).padStart(2, \'0\');\r\n            const day = String(dateObj.getDate()).padStart(2, \'0\');\r\n            return `${year}-${month}-${day}`;\r\n        }\r\n        \r\n        let depart_date = convertDate(departDate);\r\n        let return_date = convertDate(returnDate);\r\n        \r\n        function base64EncodeUtf8(str) {\r\n            return btoa(unescape(encodeURIComponent(str)));\r\n        }\r\n\r\n        // Construct JSON payload for future dates\r\n        if (!payload) {\r\n            payload = {\r\n                journeyType: journeyType,\r\n                bookingType: "REVENUE",\r\n                passengers: [],\r\n                segments: [],\r\n                referrer: "/book"\r\n            };\r\n        }\r\n\r\n        // Add passengers only if count > 0\r\n        if (adultsRaw > 0) payload.passengers.push({ type: "ADT", count: adultsRaw });\r\n        if (childrenRaw > 0) payload.passengers.push({ type: "CHD", count: childrenRaw });\r\n        if (infantsRaw > 0) payload.passengers.push({ type: "INF", count: infantsRaw });\r\n        if (youthsRaw > 0) payload.passengers.push({ type: "GBE", count: youthsRaw });\r\n        if (ofwsRaw > 0) payload.passengers.push({ type: "OFW", count: ofwsRaw });\r\n\r\n        // Add outbound segment\r\n        payload.segments.push({\r\n            departure: originCode,\r\n            arrival: destination_code,\r\n            travelDate: depart_date,\r\n            cabinClass: bookingClass\r\n        });\r\n\r\n        // Add return segment if applicable\r\n        if (flightType !== "OW" && returnDate) {\r\n            payload.segments.push({\r\n                departure: destination_code,\r\n                arrival: originCode,\r\n                travelDate: return_date,\r\n                cabinClass: bookingClass\r\n            });\r\n        }\r\n\r\n        const encodedPayload = base64EncodeUtf8(JSON.stringify(payload));\r\n\r\n        // Construct final Emirates booking URL\r\n        const bookingUrl = `https://www.emirates.com/booking/search-results/?searchRequest=${encodedPayload}`;\r\n\r\n        // Logic to display correct image\r\n        const imageUrl = `https://c.ekstatic.net/shared/images/destination/v1/airports/${destination_code}/600x360.jpg`; // Your main image URL\r\n        const fallbackUrl = \'https://c.ekstatic.net/shared/images/destination/v1/airports/CDSR/600x360.jpg\'; // Your fallback image URL\r\n        let correct_image_url = \'\';\r\n\r\n        function checkImage(url) {\r\n            const xhttp = new XMLHttpRequest();\r\n            xhttp.open(\'HEAD\', url, false); // HEAD request to check status without downloading content\r\n            xhttp.onload = function() {\r\n                if (xhttp.status === 200) {\r\n                    correct_image_url = imageUrl;\r\n                } else {\r\n                    correct_image_url = fallbackUrl;\r\n                }\r\n            };\r\n\r\n            // xhttp.onerror = errorCallback;\r\n            xhttp.send();\r\n        }\r\n\r\n        checkImage(imageUrl);\r\n\r\n        var cabinClassLabel;\r\n\r\n        if (isEconomy) {\r\n            cabinClassLabel = "Economy Class";\r\n        } \r\n        else if (isBusinessClass) {\r\n            cabinClassLabel = "Business Class";\r\n        } \r\n        else if (isFirstClass) {\r\n            cabinClassLabel = "First Class";\r\n        } \r\n        else if (isPremiumEconomy) {\r\n            cabinClassLabel = "Premium Economy Class";\r\n        }\r\n\r\n        // create the html for the expeirnece\r\n        var html =  \'<div class="bx-one-destination-details">\' +\r\n                        \'<span class="bx-one-destination-title">\' +\r\n                            \'Still thinking about <b>[destination_city]?</b></span>\' +\r\n                        \'</span>\' +\r\n                        \'<div class="bx-rectangle-separator" role="separator"></div>\' +\r\n                        \'<span class="bx-one-destination-sub-title">\' +\r\n                            \'Find the best [cabin_class_Label] fares\' +\r\n                        \'</span>\' +\r\n                        \'<div>\' +\r\n                            \'<a data-id="pagebody_cta" href="[deep_link]" class="bx-one-destination-book-now" aria-label="Book now">\' +\r\n                                \'Book now\' +\r\n                            \'</a>\' +\r\n                        \'</div>\' +\r\n                    \'</div>\' +\r\n                    \'<div class="bx-image-block">\' +\r\n                        `<img src=${correct_image_url} alt="Family holding hands">` +\r\n                    \'</div>\';\r\n\r\n        html = html.replace("[destination_city]", "{{destination_city}}");\r\n        html = html.replace("[deep_link]", bookingUrl);\r\n        html = html.replace("[cabin_class_Label]", cabinClassLabel);\r\n\r\n        var backgroundElement = document.querySelector(\'.bx-one-destination-background\');\r\n        backgroundElement.innerHTML = "";\r\n        backgroundElement.innerHTML = html;\r\n\r\n        // Handling Event Push into DataLayer\r\n        let variantType = null;\r\n        if (ek_route == "Yes") {\r\n            \r\n            if (isFirstClass && chauffeurStatus === "Yes") {\r\n                variantType = "CHAUFFEUR_DRIVE_F";\r\n            } \r\n            else if (isBusinessClass && chauffeurStatus === "Yes") {\r\n                variantType = "CHAUFFEUR_DRIVE_J";\r\n            } \r\n            else if (isFirstClass && chauffeurStatus === "No") {\r\n                variantType = "CHAUFFEUR_DRIVE_F_DINING";\r\n            } \r\n            else if (isBusinessClass && chauffeurStatus === "No") {\r\n                variantType = "CHAUFFEUR_DRIVE_J_DINING";\r\n            } \r\n            else if ((childrenRaw > 0 || infantsRaw > 0) && (isEconomy || isPremiumEconomy)) {\r\n                variantType = "FAMILY_USP";\r\n            } \r\n            else if ((isEconomy || isPremiumEconomy) && !isDestinationDubai) {\r\n                variantType = "ICE";\r\n            } \r\n            else if ((isEconomy || isPremiumEconomy) && isDestinationDubai) {\r\n                variantType = "MY_EMIRATES_PASS";\r\n            }\r\n        \r\n            if (variantType) {\r\n                sendBoxeverEvent("VIEWED");\r\n                pushToDataLayer(\r\n                    "EventTrigger.PageBody_PromotionShown",\r\n                    "A/B Testing and Personalisation",\r\n                    "Promotion Shown",\r\n                    buildEventLabel("Control"), \r\n                    buildEventFormDetails(variantType), \r\n                    0, \r\n                    0\r\n                );\r\n            }    \r\n        }\r\n        else if (ek_route == "No") {\r\n            \r\n            if(isEconomy || isPremiumEconomy) {\r\n                variantType = "NON_EK_ECONOMY";\r\n            } \r\n            else if (isBusinessClass) {\r\n                variantType = "NON_EK_BUSINESS";\r\n            } \r\n            else if (isFirstClass) {\r\n                variantType = "NON_EK_FIRST";\r\n            }\r\n            \r\n            if (variantType) {\r\n                sendBoxeverEvent("VIEWED");\r\n                pushToDataLayer(\r\n                    "EventTrigger.PageBody_PromotionShown",\r\n                    "A/B Testing and Personalisation",\r\n                    "Promotion Shown",\r\n                    buildEventLabel("Control"), \r\n                    buildEventFormDetails(variantType), \r\n                    0, \r\n                    0\r\n                );\r\n            }  \r\n        }\r\n        \r\n        const bookCTA = document.querySelector(\'.bx-one-destination-book-now\');\r\n        \r\n        if (bookCTA) {\r\n            \r\n            bookCTA.addEventListener("click", function (e) {\r\n                e.preventDefault();\r\n                sendBoxeverEvent("CLICKED");\r\n                const href = e.currentTarget.getAttribute("href");\r\n                pushToDataLayer(\r\n                    "EventTrigger.PageBody_PromotionClicked",\r\n                    "A/B Testing and Personalisation",\r\n                    "Promotion Clicked",\r\n                    buildEventLabel("Control"), \r\n                    buildEventFormDetails(variantType), \r\n                    0, \r\n                    400\r\n                );\r\n                setTimeout(function () {\r\n                    window.location.href = href;\r\n                }, 400);\r\n            });\r\n        }\r\n    }\r\n\r\n    if (destination_code !== "") {\r\n        render();\r\n    }\r\n    \r\n    '}},{ref:"6249d769-7fc1-43d1-8cd7-a1c1f83d24ee",name:"Variant",assets:{css:'<style>\r\n\r\n/* Global Reset and Defaults */\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n    font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\r\n    background-color: #fff;\r\n    color: #111;\r\n}\r\n\r\n.bx-one-destination-background {\r\n    display: flex;\r\n    flex-direction: column;\r\n    max-width: 1100px;\r\n    margin: 40px auto;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n    padding: 20px;\r\n}\r\n\r\n.bx-one-destination-title {\r\n    width: 100%;\r\n    font-family: Helvetica;\r\n    font-size: 24px;\r\n    font-weight: bold;\r\n    font-stretch: normal;\r\n    font-style: bold;\r\n    line-height: normal;\r\n    letter-spacing: normal;\r\n    text-align: left;\r\n    color: #333;\r\n    flex: 1 1 auto;\r\n    min-width: 0;\r\n    white-space: nowrap;\r\n}\r\n\r\n.bx-one-destination-title::after {\r\n    content: "";\r\n    display: block;\r\n    width: 70px;\r\n    height: 2px;\r\n    background-color: #c60c30;\r\n    margin-top: 5px;\r\n}\r\n\r\n.bx-one-destination-title-row {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n}\r\n\r\n.bx-one-destination-book-now {\r\n    flex: 0 0 228px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 14px 24px;\r\n    border-radius: 3px;\r\n    border: solid 1px #000;\r\n    background-color: #fff;\r\n    color: #000;\r\n    font-weight: bold;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n    text-decoration: none;\r\n}\r\n\r\n.bx-one-destination-dates {\r\n    font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\r\n    font-size: 16px;\r\n    color: #333;\r\n    width: 484.5px;\r\n    text-align: left;\r\n    margin-left: 1px;\r\n    padding-top: 15px;\r\n}\r\n\r\n.booknow-cta a {\r\n    padding: 14px 0;\r\n    width: 230px;\r\n    font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\r\n    line-height: normal;\r\n}\r\n\r\n@media (min-width: 769px) and (max-width: 840px) {\r\n    .booknow-cta a {\r\n        /*max-width: 230px;*/\r\n        padding: 14px 30px !important;\r\n        width: auto;\r\n    }\r\n}\r\n\r\n.thin-divider {\r\n    width: 100%;\r\n    height: 1px;\r\n    border-bottom: 1px solid #e8e8e8;\r\n    padding-top: 20px;\r\n}\r\n\r\n.bx-image-block {\r\n    width: 213.5px;\r\n    height: 106px;\r\n    margin: 1px 20.2px 0 0.2px;\r\n    flex-shrink: 0;\r\n}\r\n\r\n.bx-image-block img {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    border-radius: 3px;\r\n}\r\n\r\n@media (min-width: 769px) and (max-width: 999px) {\r\n    .bx-one-destination-title.non-ek {\r\n        font-size: 20px;\r\n    }\r\n\r\n    .bx-one-destination-sub-title.non-ek {\r\n        font-size: 14px !important;\r\n    }\r\n}\r\n\r\n.bx-content-info {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    /*margin-top: 20px;*/\r\n    gap: 16px;\r\n    flex: 1;\r\n}\r\n\r\n.bx-one-destination-sub-title {\r\n    font-size: 20px;\r\n    color: #111;\r\n    font-weight: normal;\r\n    font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\r\n    line-height: normal;\r\n}\r\n\r\n.bx-icons-inline {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 5px;\r\n    align-items: center;\r\n    font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\r\n    line-height: normal;\r\n}\r\n\r\n.bx-icon-inline-block {\r\n    display: inline-flex;\r\n    align-items: center;\r\n    gap: 10px;\r\n    margin: 5px 30px 5px 0;\r\n}\r\n\r\n.bx-icon-img {\r\n    width: 16px;\r\n    height: 16px;\r\n    object-fit: contain;\r\n}\r\n\r\n.bx-icon-label-inline {\r\n    font-size: 16px;\r\n    font-weight: 300;\r\n    color: #333;\r\n    line-height: 1;\r\n    white-space: nowrap;\r\n}\r\n\r\n@media (min-width: 769px) and (max-width: 900px) {\r\n    .bx-icon-inline-block {\r\n        margin: 5px 15px 5px 0;\r\n    }\r\n\r\n    .bx-icon-label-inline {\r\n        font-size: 14px;\r\n    }\r\n\r\n    .bx-image-block {\r\n        width: 180px;\r\n        height: 90px;\r\n    }\r\n\r\n    .bx-one-destination-sub-title {\r\n        font-size: 16px;\r\n    }\r\n}\r\n}\r\n\r\n.mbl-divider {\r\n    display: none !important;\r\n}\r\n\r\n.d-flex {\r\n    display: flex;\r\n    padding: 20px 0 0;\r\n    align-items: center;\r\n}\r\n\r\n.bx-image-block.img-mobile {\r\n    display: none !important;\r\n}\r\n\r\n@media (max-width:1190px) {\r\n    .mobile-shadow.non-ek {\r\n        padding: 20px !important;\r\n    }\r\n}\r\n\r\n/* Responsive: Tablet Styles */\r\n@media (max-width: 1200px) {\r\n    .bx-one-destination-background {\r\n        max-width: 1200px;\r\n        padding: 0 50px;\r\n        box-shadow: none;\r\n    }\r\n\r\n    .mobile-shadow {\r\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\r\n        padding: 30px;\r\n    }\r\n}\r\n\r\n\r\n/* Responsive: Tablet Styles */\r\n@media (max-width: 992px) {\r\n\r\n    .bx-one-destination-background {\r\n        padding: 0 30px;\r\n\r\n    }\r\n}\r\n\r\n@media (max-width: 1023px) {\r\n    .bx-one-destination-background {\r\n        padding: 0 30px;\r\n\r\n    }\r\n}\r\n\r\n/* Responsive: Mobile Styles */\r\n\r\n@media (max-width: 768px) {\r\n    .bx-one-destination-title.non-ek {\r\n        order: 0;\r\n        margin-bottom: 0;\r\n    }\r\n\r\n    .pad-lr-20 {\r\n        padding: 0 20px;\r\n    }\r\n\r\n    .bx-one-destination-background {\r\n        padding: 20px 10px 10px;\r\n        margin: 20px auto;\r\n    }\r\n\r\n    .bx-image-block.img-mobile {\r\n        display: block !important;\r\n    }\r\n\r\n    .d-flex {\r\n        display: block;\r\n        padding: 0;\r\n    }\r\n\r\n    .booknow-cta {\r\n        width: 100%;\r\n        padding: 0 20px;\r\n    }\r\n\r\n    .booknow-cta a {\r\n        width: 100%;\r\n    }\r\n\r\n    .thin-divider.dis-none {\r\n        display: none !important;\r\n    }\r\n\r\n    .mbl-divider {\r\n        display: block !important;\r\n        width: auto;\r\n        height: 1px;\r\n        border-bottom: 1px solid #e8e8e8;\r\n        padding-top: 20px;\r\n        margin: 0 20px;\r\n    }\r\n\r\n    .mobile-shadow {\r\n        box-shadow: 0 4px 4px 0 rgba(0, 0, 0, 0.25);\r\n        padding: 0;\r\n    }\r\n\r\n    .mobile-shadow.non-ek {\r\n        padding: 0px !important;\r\n    }\r\n\r\n    .bx-one-destination-details {\r\n        grid-template-areas:\r\n            "subtitle"\r\n            "icons";\r\n        grid-template-columns: 1fr;\r\n        grid-row-gap: 12px;\r\n        flex-direction: column;\r\n        width: 100%;\r\n        height: auto;\r\n        padding: 0;\r\n    }\r\n\r\n    .bx-image-block {\r\n        grid-area: image;\r\n        order: -1;\r\n        width: 100%;\r\n        height: auto;\r\n        margin: 0;\r\n    }\r\n\r\n    .bx-image-block img {\r\n        width: 100%;\r\n        height: 178px;\r\n        object-fit: cover;\r\n        border-radius: 3px 3px 0 0;\r\n    }\r\n\r\n    .bx-image-block.des-img {\r\n        display: none important;\r\n        visibility: hidden;\r\n        height: 0;\r\n    }\r\n\r\n    .bx-one-destination-title-row {\r\n        grid-area: title;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n        width: 100%;\r\n        gap: 8px;\r\n    }\r\n\r\n    .bx-one-destination-title {\r\n        order: 1;\r\n        font-size: 18px;\r\n        margin: 0;\r\n        margin-bottom: 0;\r\n        width: 100%;\r\n        padding-top: 20px;\r\n    }\r\n\r\n    .bx-one-destination-title::after {\r\n        margin-top: 4px;\r\n        margin-bottom: 4px;\r\n    }\r\n\r\n    .bx-one-destination-dates {\r\n\r\n        order: 2;\r\n        width: 100%;\r\n        margin: 8px 0 0 0;\r\n        font-size: 14px;\r\n        color: #333;\r\n        line-height: normal;\r\n    }\r\n\r\n    .bx-one-destination-dates {\r\n        order: 2;\r\n        width: 100%;\r\n        margin-bottom: 6px;\r\n\r\n    }\r\n\r\n    .bx-one-destination-dates {\r\n        grid-area: dates;\r\n        order: 2;\r\n        flex: 1 1 auto;\r\n\r\n\r\n        color: #555;\r\n    }\r\n\r\n    .bx-one-destination-book-now {\r\n        grid-area: cta;\r\n        order: 3;\r\n        width: 100%;\r\n        font-size: 16px;\r\n        padding: 14px;\r\n        height: auto;\r\n        text-align: center;\r\n        border-radius: 3px;\r\n        border: 1px solid #000;\r\n        background-color: #fff;\r\n        line-height: 1.2;\r\n        font-weight: bold;\r\n        margin: 10px 0 0 0;\r\n    }\r\n\r\n    .bx-one-destination-book-now {\r\n        order: 3;\r\n        white-space: nowrap;\r\n        flex: 0 0 auto;\r\n    }\r\n\r\n\r\n    .bx-one-destination-book-now {\r\n        order: 3;\r\n        width: 100%;\r\n        margin-bottom: 0;\r\n    }\r\n\r\n    .thin-divider {\r\n        margin: 8px 0;\r\n        width: 100%;\r\n        border-top: 1px solid #ccc;\r\n        height: 1px;\r\n        background-color: #e8e8e8;\r\n    }\r\n\r\n    .bx-content-info {\r\n        margin-top: 0;\r\n        padding: 20px 20px 0;\r\n        width: 100%;\r\n    }\r\n\r\n    .bx-content-info.non-ek {\r\n        margin-top: 0;\r\n        padding: 0px 20px 0;\r\n        width: 100%;\r\n    }\r\n\r\n    .bx-one-destination-sub-title {\r\n        grid-area: subtitle;\r\n        font-size: 16px;\r\n        width: 100%;\r\n        line-height: normal;\r\n    }\r\n\r\n    .bx-icons-inline {\r\n        grid-area: icons;\r\n        display: flex;\r\n        flex-direction: column;\r\n        gap: 8px;\r\n        width: 100%;\r\n        padding-bottom: 21px;\r\n    }\r\n\r\n    .bx-icon-inline-block {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 10px;\r\n        width: 100%;\r\n        padding-bottom: 4px;\r\n    }\r\n\r\n    .bx-icon-img {\r\n        width: 16px;\r\n        height: 16px;\r\n    }\r\n\r\n    .bx-icon-label-inline {\r\n        font-size: 14px;\r\n        color: #333;\r\n    }\r\n\r\n    .bx-one-destination-title-row {\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        align-items: center;\r\n        gap: 10px;\r\n    }\r\n\r\n    .bx-one-destination-title {\r\n        order: 1;\r\n        flex: 1 1 auto;\r\n        min-width: 200px;\r\n    }\r\n\r\n    .bx-one-destination-title-row {\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n    }\r\n\r\n    .bx-one-destination-title {\r\n        order: 1;\r\n        width: 100%;\r\n        margin-bottom: 6px;\r\n    }\r\n}\r\n\r\n</style>',html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:'// Get the required data to process from the template data\r\nlet destination_code = "{{destination_code}}";\r\nlet destination_city = "{{destination_city}}";\r\nlet ek_route = "{{EK-route}}";\r\nconst flightType = "{{flight_type}}";\r\nconst originCode = "{{origin_code}}";\r\nlet returnDate = "{{return_date}}";\r\nlet departDate = "{{depart_date}}";\r\nconst adultsRaw = {{adults}};\r\nconst childrenRaw = {{children}};\r\nconst infantsRaw = {{infants}};\r\nconst youthsRaw = {{youths}};\r\nconst ofwsRaw = {{ofws}};\r\nconst bookingClass = "{{booking_class}}";\r\nconst chauffeurStatus = "{{chauffeur_available}}";\r\n\r\n//Assign journeyclass and destination Dubai\r\nconst isEconomy = bookingClass === "Y";\r\nconst isPremiumEconomy = bookingClass === "W";\r\nconst isFirstClass = bookingClass === "F";\r\nconst isBusinessClass = bookingClass === "J";\r\nconst isDestinationDubai = destination_code === "DXB";\r\n\r\n// Determine journeyType\r\nconst journeyType = flightType === "OW" ? "ONEWAY" : "RETURN";\r\n\r\n// Sends a Boxever (Sitecore CDP) event with the given event type\r\nfunction sendBoxeverEvent(eventType) {\r\n    let eventLabel = `BOX477_VARIANT_${eventType}`;\r\n    var event = {\r\n        channel: "WEB",\r\n        type: eventLabel,\r\n        page: dataLayer[0].pageName,\r\n        pos: _boxever_settings.pointOfSale,\r\n        browser_id: Boxever.getID(),\r\n    };\r\n    Boxever.eventCreate(event, function() {}, "json");\r\n}\r\n\r\n// Icon label to image map\r\nconst iconMap = {\r\n    "Live TV": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCNmOHF5ZXp3anRhKSI+CiAgICAgICAgPG1hc2sgaWQ9InhyYTAzMjU5ZGIiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNS40MzggMi41SC41NjNBLjU2NC41NjQgMCAwIDAgMCAzLjA2NHY5LjgyYzAgLjMxMi4yNTIuNTY1LjU2My41NjVoMTQuODc1YS41NjUuNTY1IDAgMCAwIC41NjItLjU2NXYtOS44MmEuNTY1LjU2NSAwIDAgMC0uNTYyLS41NjR6bS0uNyA5LjY4NUgxLjI2M3YtOC40MmgxMy40NzV2OC40MnptLTguMzY1LTEuNDQ3IDQuNTU1LTIuNjMyYy4yMjktLjEzMi4yMjktLjM0NyAwLS40NzhsLTQuNTU1LTIuNjNjLS4yMjctLjEzMS0uNDEzLS4wMjMtLjQxMy4yMzh2NS4yNjFjMCAuMjYzLjE4Ni4zNy40MTMuMjR6IiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxnIG1hc2s9InVybCgjeHJhMDMyNTlkYikiPgogICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS03LjgxMy03LjA0N2gzMS4yNDdWMjQuMkgtNy44MTNWLTcuMDQ3eiIgZmlsbD0iIzMzMyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxkZWZzPgogICAgICAgIDxjbGlwUGF0aCBpZD0iZjhxeWV6d2p0YSI+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoMTZ2MTZIMHoiLz4KICAgICAgICA8L2NsaXBQYXRoPgogICAgPC9kZWZzPgo8L3N2Zz4K",\r\n    "Onboard Wi-Fi": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCNha3NtMzVsa2JhKSI+CiAgICAgICAgPGcgY2xpcC1wYXRoPSJ1cmwoIzM0aG4xemIxOGIpIj4KICAgICAgICAgICAgPG1hc2sgaWQ9ImxpZTVpOTdoYWMiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJtMTEuODEgOS43Ny0xLjAxIDEuMDA3YTMuOTUyIDMuOTUyIDAgMCAwLTUuNjAxLS4wMThMNC4xOSA5Ljc1MWE1LjM3NiA1LjM3NiAwIDAgMSA3LjYyLjAxOHptLTMuODIgMS4yNzJjLS42OSAwLTEuMzE4LjI4LTEuNzc1LjczM2wxLjc5NCAxLjc5MyAxLjc3NS0xLjc3NmEyLjUxOSAyLjUxOSAwIDAgMC0xLjc5My0uNzV6TTAgNS41NjFsMS4wNDggMS4wNDhhOS44MDQgOS44MDQgMCAwIDEgNi45NDMtMi44NzYgOS44MDYgOS44MDYgMCAwIDEgNi45NiAyLjg5M0wxNiA1LjU3OEExMS4yODMgMTEuMjgzIDAgMCAwIDcuOTkgMi4yNSAxMS4yNzggMTEuMjc4IDAgMCAwIDAgNS41NnptNy45OS0uMzljLTIuMzEgMC00LjQwNi45MzgtNS45MjYgMi40NTVsMS4xMSAxLjEwOUE2LjgwMyA2LjgwMyAwIDAgMSA3Ljk5IDYuNzRjMS44ODcgMCAzLjU5Ny43NjkgNC44MzUgMi4wMTJsMS4xMDktMS4xMUE4LjM3IDguMzcgMCAwIDAgNy45OTEgNS4xN3oiIGZpbGw9IiNmZmYiLz4KICAgICAgICAgICAgPC9tYXNrPgogICAgICAgICAgICA8ZyBtYXNrPSJ1cmwoI2xpZTVpOTdoYWMpIj4KICAgICAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNLTYuNzY2LTcuMDQ3aDMwLjQ0djMwLjQ0aC0zMC40NHYtMzAuNDR6IiBmaWxsPSIjMzMzIi8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZGVmcz4KICAgICAgICA8Y2xpcFBhdGggaWQ9ImFrc20zNWxrYmEiPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgICAgICA8Y2xpcFBhdGggaWQ9IjM0aG4xemIxOGIiPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgIDwvZGVmcz4KPC9zdmc+Cg==",\r\n    "Up to 6,500 titles": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCNudDJjdHJzMmNhKSI+CiAgICAgICAgPG1hc2sgaWQ9ImYwdnp0bDRxamIiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjEiIHk9IjAiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yLjY5OCA2LjkyNHYuMDAyYy0uMDAzLS4wMTMtLjAwOS0uMDI3LS4wMTQtLjA0bDExLjMyOC00LjA2TDEzLjE0NC40YS42MDYuNjA2IDAgMCAwLS43NzEtLjM2M0wxLjM5OSAzLjk2N2EuNjA3LjYwNyAwIDAgMC0uMzY1Ljc3MWwuMzMzLjkzNS4yNTQuNzA4YS44MzQuODM0IDAgMCAwLS41NTQuNzg0YzAgLjM3Ny4yNTIuNjkuNTk0Ljc5N3Y3LjE5M2MwIC40NjYuMzc4Ljg0NS44NDIuODQ1SDE0LjE2YS44NDMuODQzIDAgMCAwIC44NDEtLjg0NVY2LjkyNEgyLjY5OHptMTAuMjMyLjQ4NC0yLjg1NSAyLjg1N0g3Ljg0M2wyLjg1NC0yLjg1N2gyLjIzM3ptLTQuODQgMC0yLjg1NSAyLjg1N0gzLjAwMmwyLjg1NS0yLjg1N0g4LjA5ek0xMi41MzUuNDg5bC4wNC0uMDFjLjA0MyAwIC4wOTcuMDI5LjExOS4wODVsLjM2MyAxLjAxNkwxMS41Mi44NTRsMS4wMTUtLjM2NXpNOS4wNjMgMS43MzVsMi44MzUgMS4zNC0yLjEwMy43NTMtMi44MzMtMS4zNCAyLjEwMS0uNzUzek00LjUwNSAzLjM2OCA3LjM0IDQuNzFsLTIuMTAxLjc1NS0yLjgzNS0xLjM0MSAyLjEwMS0uNzU1ek0xLjk4NCA1Ljk2NmwuNzk3LjM3NS0uMzk5LjE0M2EuODA0LjgwNCAwIDAgMC0uMjU2LS4xMTlsLS4xNDItLjR6bS4xNTggMS45OTdhLjgzNS44MzUgMCAwIDAgLjU1NS0uNTU1aC41NUwyLjE0MiA4LjUxMnYtLjU0OXptMTIuMzgzIDcuMTk0YzAgLjEtLjA0LjE5LS4xMDcuMjU3YS4zNzQuMzc0IDAgMCAxLS4yNTYuMTA4SDIuNTA2YS4zNzMuMzczIDAgMCAxLS4zNjMtLjM2NXYtNC4yNzhoMTIuMzgydjQuMjc4em0wLTQuODkyaC0xLjg0bDEuODQtMS44NDN2MS44NDN6TTMuNjIxIDEyLjY1Mmg5LjM1M2MuMTE0IDAgLjIxLS4wOTQuMjEtLjIxMWEuMjEuMjEgMCAwIDAtLjIxLS4yMTJIMy42MmEuMjEuMjEgMCAwIDAtLjIwOC4yMTIuMjEuMjEgMCAwIDAgLjIwOC4yMTF6bTAgMS44NTFoOS4zNTNhLjIxMS4yMTEgMCAwIDAgMC0uNDI0SDMuNjJhLjIxLjIxIDAgMCAwLS4yMDguMjEyYzAgLjExNi4wOTMuMjEyLjIwOC4yMTJ6IiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxnIG1hc2s9InVybCgjZjB2enRsNHFqYikiPgogICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS03LjQ2LTcuNjI1aDMwLjQ1NnYzMC40ODhILTcuNDYxVi03LjYyNXoiIGZpbGw9IiMzMzMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZGVmcz4KICAgICAgICA8Y2xpcFBhdGggaWQ9Im50MmN0cnMyY2EiPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgIDwvZGVmcz4KPC9zdmc+Cg==",\r\n    "Priority boarding for families": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxtYXNrIGlkPSJtZjBxYmM2cXdhIiBzdHlsZT0ibWFzay10eXBlOmFscGhhIiBtYXNrVW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgICAgIDxwYXRoIGQ9Im0xNS40OTQgOS43MTctNC4yOTItMy4yOC0yLjAxMy0xLjYyM3MtLjMzNC0uMTM4LS4zMzQtLjg2OGMwLS43MjcuMDU2LTEuMjYtLjExMy0yLjEyOUM4LjU3NC45NSA4LjMyMi41IDguMDY4LjVjLS4yNSAwLS41NTkuNTYyLS43IDEuMjYxLS4xNC43LS4wNTUgMi4xNTctLjA1NSAyLjE1N3MuMDI4LjQ1LS4zNjYuODRMNC44NzUgNi40MTJsLTIuMjU5IDEuNjdMLjUzMyA5LjcxOFMwIDEwLjA1NSAwIDEwLjUzM2wuMDI4LjQxN1MzIDkuNjkgNC4yMzMgOS4yNDNjMS4yMzItLjQ1IDIuMjctLjk1NSAyLjg1NS0uOTU1bC4yMjUuNjc0LS4wMjggMi4xODRzLjA4NC42NDYuMjUzIDEuNDU4bC0xLjk5MSAxLjY1MXMtLjQ3NS4zOTQtLjYxNS43ODdsLS4wNTYuNTYgMi44Ni0xLjEyMi4yMi41MzQuMDYzLjU4Ny4wNzQuMDMuMDMyLS41OS4xOTctLjU5IDIuOTcyIDEuMTc3LS4xMTMtLjQ3NHMtLjE0MS0uNTM0LS40NzgtLjgxNWwtMi4wNDUtMS42OHMuMjI1LTEuMDY0LjIyNS0xLjU2OVY4Ljk2MmwuMjc3LS42NzRzMS4wNjguMTY5IDMuMTEzIDEuMDk0QTYwLjQ2NSA2MC40NjUgMCAwIDAgMTYgMTAuOTIydi0uMzljMCAuMDAyLS4xMDgtLjQ4Ny0uNTA3LS44MTV6IiBmaWxsPSIjZmZmIi8+CiAgICA8L21hc2s+CiAgICA8ZyBtYXNrPSJ1cmwoI21mMHFiYzZxd2EpIj4KICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS03LjY4LTcuMThoMzAuNzJ2MzAuNzJILTcuNjhWLTcuMTh6IiBmaWxsPSIjMzMzIi8+CiAgICA8L2c+Cjwvc3ZnPgo=",\r\n    "Seated together": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCNrcXVhenhnazZhKSI+CiAgICAgICAgPG1hc2sgaWQ9ImVucjh3dHExZWIiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjIiIHk9IjAiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Im0xMy4wMDcgOS4xNC0xLjAwMi4wODMuMzctMS4xMmEuMjcyLjI3MiAwIDAgMC0uMDM3LS4yNDMuMjcyLjI3MiAwIDAgMC0uMjE4LS4xMTJINy4xNGEuMjcuMjcgMCAwIDAtLjI1Ny4zNTJsLjQ3NiAxLjUxMy0uNTQzLjA0NS0yLjg5Ny03LjA5NUwzLjg3Ljc4OWEuODEuODEgMCAwIDAtMS42Mi4wNDNsLjA1IDEuOTIxYS44Mi44MiAwIDAgMCAuMDYxLjI4NWwzLjE3OCA3Ljc4NWEuODEuODEgMCAwIDAgLjgxOS41MDFsMS41LS4xMjVMOS4zMSAxNS44MWEuMjcuMjcgMCAwIDAgLjI1Ni4xODloLjAwMmEuMjcuMjcgMCAwIDAgLjI1Ny0uMTg2bDEuNjI2LTQuOTE3IDEuNjktLjE0MmEuODEuODEgMCAxIDAtLjEzNS0xLjYxNnptLTMuNDMyIDUuNzFMNy41MDggOC4yOWg0LjIzN2wtMi4xNyA2LjU2MXoiIGZpbGw9IiNmZmYiLz4KICAgICAgICA8L21hc2s+CiAgICAgICAgPGcgbWFzaz0idXJsKCNlbnI4d3RxMWViKSI+CiAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNLTguOTItOC4zNzVoMzMuNTEzdjMzLjUxMkgtOC45MlYtOC4zNzV6IiBmaWxsPSIjMzMzIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgogICAgPGRlZnM+CiAgICAgICAgPGNsaXBQYXRoIGlkPSJrcXVhenhnazZhIj4KICAgICAgICAgICAgPHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDwvY2xpcFBhdGg+CiAgICA8L2RlZnM+Cjwvc3ZnPgo=",\r\n    "Hundreds of family channels to choose from": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCN6MGk5NmZvN29hKSI+CiAgICAgICAgPG1hc2sgaWQ9IjRydDM3eTIzY2IiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNC43NzIgMyAxLjI0IDMuMDIzYy0uODE4IDAtMS4yMy40Ny0xLjIzIDEuMjE0TDAgNy4zODJ2Mi42NDZsLjAxIDEuNzMzYzAgLjc0NS40MTIgMS4yMTYgMS4yMyAxLjIxNkwxNC43NzIgMTNjLjgxNiAwIDEuMjI4LS40NDcgMS4yMjgtMS4xOVY0LjE5QzE2IDMuNDQ2IDE1LjU4OCAzIDE0Ljc3MiAzem0tLjM0OCA4Ljk5NS0xMi44NjgtLjAxM2MtLjM1MSAwLS41NS0uMTYzLS41NS0uNTUzbC0uMDAzLTEuNDA3VjcuMzg4bC4wMDMtMi44MTZjMC0uMzkuMTk4LS41NTIuNTUtLjU1MmwxMi44NjctLjAxNWMuMzUgMCAuNTQ5LjE2Mi41NDkuNTUxdjYuODg4YzAgLjM4OS0uMTk4LjU1MS0uNTQ4LjU1MXpNMy4wMzYgNy4zMWgxLjEzN3YzLjM3MkgzLjAzNlY3LjMxem0uNTY5LTEuNjgxYS41Ny41NyAwIDAgMC0uNDE3LjE2Ny41NDkuNTQ5IDAgMCAwLS4xNy40MDdjMCAuMTU0LjA1Ni4yODkuMTcuNDAzYS41NTYuNTU2IDAgMCAwIC40MTcuMTcxYy4xNTkgMCAuMjk1LS4wNTUuNDA4LS4xN2EuNTU4LjU1OCAwIDAgMCAuMTctLjQwNC41NTUuNTU1IDAgMCAwLS4xNy0uNDA3LjU2Mi41NjIgMCAwIDAtLjQwOC0uMTY3em0zLjkwNS4xMjJhMi4wNSAyLjA1IDAgMCAwLTEuNjA0LjgxNWMtLjM5MS40ODktLjU4NyAxLjA4OC0uNTg3IDEuOCAwIC42OTIuMjEyIDEuMjYuNjM3IDEuNzA1LjQyNS40NDQuOTc3LjY2NyAxLjY1NS42NjcuNDg4IDAgLjg3Ny0uMDY2IDEuMTY1LS4xOTV2LS43NjljLS4yNTEuMzAyLS41NDIuNDU1LS44NzIuNDU1LS4xNTkgMC0uMzM5LS4wNDUtLjU0LS4xMy0uMjctLjEzLS40NzUtLjQwNS0uNjE1LS44MjZhMy41OTYgMy41OTYgMCAwIDEtLjE1Ni0xLjA3NmMwLS41MDUuMTA1LS45Ni4zMTItMS4zNjIuMjI2LS40MjUuNTA3LS42NDUuODQzLS42NTguMDU1LS4wMDYuMTEzLS4wMS4xNzQtLjAxLjQwNCAwIC42ODkuMTk2Ljg1NC41ODZWNmMtLjM1NS0uMTgtLjc3Ny0uMjY0LTEuMjY2LS4yNXptNC4yIDIuNzYyYy40MDMtLjE5MS43MzMtLjQyLjk5LS42ODUuMjc1LS4yOTEuNDE0LS41OTQuNDE0LS45MSAwLS4zMjgtLjE0Mi0uNjA1LS40MjItLjgzNC0uMjgyLS4yMjktLjYzOC0uMzQtMS4wNjUtLjMzMy0uNjQ4LjAwNi0xLjE2MS4yNzQtMS41NC44MDUtLjM0OC40ODktLjUyMyAxLjA4OS0uNTIzIDEuOCAwIC42ODUuMjEgMS4yNTMuNjI4IDEuNzA1LjQxOS40NTIuOTQzLjY3NyAxLjU3Mi42NzcuMTg0LS4wMDYuMzUyLS4wMjUuNTA1LS4wNTYuMzczLS4wNjEuNjUxLS4xNzMuODM1LS4zMzNsLjAxLS43NGMtLjI2NC4zODctLjU5LjU4My0uOTgzLjU4My0uMTgzIDAtLjM2My0uMDQxLS41NC0uMTIxLS4zNjctLjE2Ny0uNTg0LS41MTItLjY1Mi0xLjAyOS4xNDItLjE4Ni4zOTctLjM2My43Ny0uNTI5em0tLjg1My0uMDFhOC4zMjggOC4zMjggMCAwIDEtLjAxLS40MjZjMC0xLjIzLjIzNS0xLjg2LjcwNi0xLjg5LjM1NS0uMDMyLjUzMy4xNi41MzMuNTc0IDAgLjI3Mi0uMDY1LjUyNi0uMTk0Ljc2YTEuNzYgMS43NiAwIDAgMS0uNTMxLjU5M2MtLjMuMjE2LS40NjkuMzQ3LS41MDQuMzl6IiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxnIG1hc2s9InVybCgjNHJ0Mzd5MjNjYikiPgogICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS02LjY1NC03LjA5NGgyOS45NDN2MzAuMjc3SC02LjY1NFYtNy4wOTR6IiBmaWxsPSIjMzMzIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgogICAgPGRlZnM+CiAgICAgICAgPGNsaXBQYXRoIGlkPSJ6MGk5NmZvN29hIj4KICAgICAgICAgICAgPHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDwvY2xpcFBhdGg+CiAgICA8L2RlZnM+Cjwvc3ZnPgo=",\r\n    "Shopping & Dining": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCNpODhqOWVkbXhhKSI+CiAgICAgICAgPGcgY2xpcC1wYXRoPSJ1cmwoIzBtMXdwMjY4ZmIpIj4KICAgICAgICAgICAgPG1hc2sgaWQ9InRjcnA2Y3FsM2MiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjAiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS41MTMgMi43MjVhLjM4Ni4zODYgMCAwIDAgLjM4Ni0uMzg3YzAtLjg2My42MS0xLjU2NSAxLjM2LTEuNTY1Ljc0OSAwIDEuMzYuNzAyIDEuMzYgMS41NjVhLjM4Ni4zODYgMCAwIDAgLjc3MiAwYzAtMS4yOS0uOTU3LTIuMzM4LTIuMTMzLTIuMzM4LTEuMTc1IDAtMi4xMzMgMS4wNDktMi4xMzMgMi4zMzhhLjM4OC4zODggMCAwIDAgLjM4OC4zODd6bS4yMzIgMi44OTNhLjM2LjM2IDAgMSAxLS43MiAwIC4zNi4zNiAwIDAgMSAuNzIgMHptMy43NDkgMGEuMzYuMzYgMCAxIDEtLjcyIDAgLjM2LjM2IDAgMCAxIC43MiAwek0yLjk1NyA1LjFhLjM4Ny4zODcgMCAwIDAgLjM4Ni0uMzg3YzAtLjg2My42MS0xLjU2NSAxLjM2LTEuNTY1Ljc1IDAgMS4zNi43MDIgMS4zNiAxLjU2NWEuMzg3LjM4NyAwIDAgMCAuNzc0IDBjMC0xLjI5LS45NTctMi4zMzgtMi4xMzQtMi4zMzgtMS4xNzYgMC0yLjEzMyAxLjA0OC0yLjEzMyAyLjMzOCAwIC4yMTQuMTc0LjM4Ny4zODcuMzg3em0uMjMyIDIuODkzYS4zNi4zNiAwIDEgMS0uNzIgMCAuMzYuMzYgMCAwIDEgLjcyIDB6bTMuNzQ5IDBhLjM2LjM2IDAgMSAxLS43MiAwIC4zNi4zNiAwIDAgMSAuNzIgMHptOC4wMDktNC41M0g3LjU3YS41MTYuNTE2IDAgMCAwLS41MTUuNTE2djEuODZoLTYuMDRhLjUxNS41MTUgMCAwIDAtLjUxNi41MTZ2OS4xMjljMCAuMjg1LjIzLjUxNi41MTUuNTE2SDguMzljLjI4NCAwIC41MTUtLjIzLjUxNS0uNTE2di0xLjg2aDYuMDQyYy4yODQgMCAuNTE1LS4yMy41MTUtLjUxNXYtOS4xM2EuNTE1LjUxNSAwIDAgMC0uNTE1LS41MTZ6TTcuODc1IDE0Ljk2OEgxLjUzVjYuODdoNS41MjV2Ni4yNGMwIC4yODUuMjMuNTE1LjUxNS41MTVoLjMwNHYxLjM0NHptNi41NTYtMi4zNzVIOC4wODZ2LTguMWg2LjM0NXY4LjF6IiBmaWxsPSIjZmZmIi8+CiAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgPGcgbWFzaz0idXJsKCN0Y3JwNmNxbDNjKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS03LjE4OC02LjgzNmgzMC43NTN2MzAuNzUySC03LjE4OFYtNi44MzZ6IiBmaWxsPSIjMzMzIi8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZGVmcz4KICAgICAgICA8Y2xpcFBhdGggaWQ9Imk4OGo5ZWRteGEiPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgICAgICA8Y2xpcFBhdGggaWQ9IjBtMXdwMjY4ZmIiPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgIDwvZGVmcz4KPC9zdmc+Cg==",\r\n    "Theme parks & attractions": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCM4ejU4Y2Rld2VhKSI+CiAgICAgICAgPG1hc2sgaWQ9IjljeDFoODd0aGIiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjIiIHk9IjAiIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Im0xMi44NS4wNy0xLjQwNC4wNTFjLS41MTUuMDItMS4wMDMuNDUtMS4wODUuOTU4YS44NjYuODY2IDAgMCAwLS4wMTIuMTg3bC0xLjcyIDQuMzQ4LTEuNDYtLjU4Mi44NzYtMi4yMTZhLjg0Ni44NDYgMCAwIDAgLjEyLS4xNDVjLjI4NS0uNDI4LjIyNC0xLjA3NS0uMTM4LTEuNDQyTDcuMDM5LjIyNWMtLjM2MS0uMzY3LS44MS0uMjc1LS45OTkuMjA1bC0uMjY3LjY4MWMtLjE4OS40OC4wMDkgMS4xMDMuNDM2IDEuMzg3bC42NTcuNDM0YS45MjguOTI4IDAgMCAwIC42NjcuMTRsLS43MTkgMS44Mi0uMTY3LS4wNjZhLjY5My42OTMgMCAwIDAtLjg5Ny4zODlsLTMuNDUyIDguNzNjLS4xNC4zNTQuMDM1Ljc2LjM4OC45bDIuNzgyIDEuMTA3YS42OTMuNjkzIDAgMCAwIC44OTgtLjM5bDMuNDUtOC43M2EuNjk2LjY5NiAwIDAgMC0uMzg3LS45bC0uNDQ2LS4xNzggMS41NjItMy45NWEuOTQuOTQgMCAwIDAgLjU4MS4zNTdsLjc3Ny4xMzVjLjUwNC4wODggMS4wNzMtLjIzMSAxLjI2My0uNzFsLjI3Mi0uNjhjLjE5LS40OC0uMDczLS44NTUtLjU4OC0uODM2eiIgZmlsbD0iI2ZmZiIvPgogICAgICAgIDwvbWFzaz4KICAgICAgICA8ZyBtYXNrPSJ1cmwoIzljeDFoODd0aGIpIj4KICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0tNy4xMzMtNy43MDNoMzAuNzF2MzAuNzk4aC0zMC43MVYtNy43MDN6IiBmaWxsPSIjMzMzIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgogICAgPGRlZnM+CiAgICAgICAgPGNsaXBQYXRoIGlkPSI4ejU4Y2Rld2VhIj4KICAgICAgICAgICAgPHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDwvY2xpcFBhdGg+CiAgICA8L2RlZnM+Cjwvc3ZnPgo=",\r\n    "Private pools & beaches": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCNlcXl6YTJjbXNhKSI+CiAgICAgICAgPGcgY2xpcC1wYXRoPSJ1cmwoI3loaGc0cDJvYWIpIj4KICAgICAgICAgICAgPG1hc2sgaWQ9InU3b201bjlmZmMiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJtOC4wMjggMTMuNDI0IDIuNjM2LTQuNTY1Yy4wMTEtLjAxOC0uMDg4LS4yNDMtLjI4MS0uMzU1LS4xOTQtLjExMy0uNDY1LS4xMjMtLjQ3NS0uMTA2bC0yLjkwMSA1LjAyNmgxLjAyMXptNS41NDYtOS42MDcuMjM0LS40MDNhLjQ0Mi40NDIgMCAxIDAtLjc2OC0uNDQxbC0uMjMyLjQwM0MxMC4zMTMgMi4xNjggNy4yMyAzLjA2OCA1LjU0IDUuNDA1Yy40MDEtLjA1NSAxLjIxNy4wNyAxLjk1Ni41QTIuMzk0IDIuMzk0IDAgMCAxIDguNjYzIDcuNjZjLjY4LS4yNzMgMS40OS0uMzE5IDIuMTQ4LjA2LjY1Ny4zODEgMS4wNDQgMS4wNjkgMS4xNDcgMS43OTQuNjc4LS4yNzYgMS40MS0uMTg1IDIuMDguMTc0Ljk5Mi41MzEgMS4yODIgMS4zMDYgMS4zNTIgMS41NyAxLjI2NS0yLjY2MS41MTYtNS44Ni0xLjgxNi03LjQ0ek05LjI1NSA2LjUxMWwtLjA4My4xMDQtLjA2My0uMTJhMy4xNTYgMy4xNTYgMCAwIDAtMS4yMTQtMS4yODIgMy40OTUgMy40OTUgMCAwIDAtLjYzMi0uMjg0bC0uMTU2LS4wNTIuMTI5LS4xMDJhNS4yMTggNS4yMTggMCAwIDEgMy4yMTYtMS4xMzhjLjY4MyAwIDEuMzQzLjE0NSAxLjk1NS40MzIgMCAwLTEuNjY1LjUzMy0zLjE1MSAyLjQ0MnptNS44OTMgMi44NC0uMDI0LjE2My0uMTIyLS4xMWEzLjU5NyAzLjU5NyAwIDAgMC0uNTY3LS40MDUgMy4yNzggMy4yNzggMCAwIDAtMS41NDgtLjQ0MmwtLjEyLS4wMDUuMDM5LS4xMTNjLjYzMi0xLjU5Ni40MzgtMy44OTIuNDM4LTMuODkyIDEuNTEgMS4yMzEgMi4xNzYgMi45NzggMS45MDQgNC44MDR6TTMuMjUzIDEzLjQ2YTMuMjUyIDMuMjUyIDAgMSAxLS4wMDItNi41MDUgMy4yNTIgMy4yNTIgMCAwIDEgLjAwMiA2LjUwNXptLjc4Mi01LjE1NGMuMzM4IDAgLjYxNC4xOTQuNjU0LjQ0Ny4wOTgtLjAxNy41MzMtLjA3NS44NzcuMDA1YTIuNzMzIDIuNzMzIDAgMCAwLTEuNjY4LTEuMjA0Yy4wNDguMTUyLjEuMzg3LjEzMS43NTJoLjAwNnptLjM4NC45MTlhLjc4Ny43ODcgMCAwIDEtLjM4NC4wOTVIMy45cy0uNjQxIDIuMzU1LTEuMzc3IDMuNTIxYy4yMzMuMDY1LjQ3Ny4xMDMuNzMuMTAzYTIuNzMgMi43MyAwIDAgMCAyLjQ0My0xLjUxNGMtLjAzNi0uNDk1LS4yODItMS4yOS0xLjI3Ny0yLjIwNXptLS45MTItLjExYS40MjguNDI4IDAgMCAxLS4xMzQtLjMwMWMwLS4xMi4wNTctLjIzLjE1LS4zMTctLjA1NS0uMDQ0LS43OTQtLjYzNy0xLjYyLS42NjJhMi43MzIgMi43MzIgMCAwIDAtMS4yMzMgMy4yNmMuMjUxLS40NDcuOTQtMS4yMSAyLjgzNy0xLjk4eiIgZmlsbD0iI2ZmZiIvPgogICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgIDxnIG1hc2s9InVybCgjdTdvbTVuOWZmYykiPgogICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0tOC03LjAzMWgzMnYzMkgtOHYtMzJ6IiBmaWxsPSIjMzMzIi8+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZGVmcz4KICAgICAgICA8Y2xpcFBhdGggaWQ9ImVxeXphMmNtc2EiPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgICAgICA8Y2xpcFBhdGggaWQ9InloaGc0cDJvYWIiPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgIDwvZGVmcz4KPC9zdmc+Cg==",\r\n    "Chauffeur-drive": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCNtYzNzaThlMTVhKSI+CiAgICAgICAgPG1hc2sgaWQ9ImdjeW9xdzhrMGIiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Im02LjE0IDUuNDUtLjIzMi0uOTYyYS40OS40OSAwIDAgMC0uNDYtLjM3NUgyLjc2YS40OS40OSAwIDAgMC0uNDYuMzc1bC0uMjMuOTYxaC0uNDYydi4zODJoLjI3MmwtLjA4LjE5djIuMjloLjU3NlY3LjkzaDMuNDU3di4zODJoLjU3NnYtMi4yOWwtLjA4LS4xOUg2LjZ2LS4zODJoLS40NnptLTMuNDYzLS44ODdjLjAwNi0uMDI4LjA1NC0uMDY3LjA4My0uMDY3aDIuNjg4Yy4wMyAwIC4wNzguMDM5LjA4NC4wNjdsLjIxNi44ODZIMi40NjFsLjIxNi0uODg2em0uMDgzIDIuMjIyaC0uNTc2bC0uMTkyLS4xOXYtLjQwMWwuNzY4LjIwOXYuMzgyem0yLjExMy43NjJIMy4zMzZ2LS4zODFoMS41Mzd2LjM4MXptMS4zNDQtLjk1My0uMTkyLjE5aC0uNTc2di0uMzgxbC43NjgtLjIxdi40ek00LjA3NyAyLjI1QzEuODI5IDIuMjUgMCA0LjA2NyAwIDYuM2MwIDIuMjMzIDEuODI5IDQuMDUgNC4wNzcgNC4wNVM4LjE1NCA4LjUzMSA4LjE1NCA2LjNjMC0yLjIzNC0xLjgzLTQuMDUtNC4wNzctNC4wNXptMCA3LjM5QzIuMjIzIDkuNjQuNzE1IDguMTQuNzE1IDYuM2MwLTEuODQyIDEuNTA4LTMuMzQgMy4zNjItMy4zNCAxLjg1MyAwIDMuMzYyIDEuNDk4IDMuMzYyIDMuMzQgMCAxLjg0MS0xLjUwOCAzLjM0LTMuMzYyIDMuMzR6bTkuNTUyLjM0OEg5LjY2NWMtMS4xNjcgMC0yLjEyMi45MzktMi4xMjIgMi4wOTh2MS42NjRoMy42MDVsLjM4OS0xLjQxNi0uNDcyLTEuMTQ5LjcxLS43LjczOC43LS40NzIgMS4xNDkuMzkgMS40MTZoMy4zMTl2LTEuNjY0YzAtMS4xNTktLjk1NC0yLjA5OC0yLjEyMS0yLjA5OHpNOS44ODQgNy4wMDNhMS44NjMgMS44NjMgMCAwIDAtLjA5My41NTZjMCAxLjA0Ny44NTQgMS44OTcgMS45MSAxLjg5NyAxLjA1MyAwIDEuOTA5LS44NSAxLjkwOS0xLjg5NyAwLS4yMDItLjA0LS4zOTMtLjEtLjU3NWEzLjU1MiAzLjU1MiAwIDAgMS0xLjg0NS41MmMtLjc5MiAwLTEuMzkxLS4yNi0xLjc4LS41MDF6bTEuNzguMTI4YTMuMTg1IDMuMTg1IDAgMCAwIDIuMDI3LS43M2wuMDc0LS4wNzguNjM0LS43OTYtMS4wODUtLjY3OS0xLjU1OC0uMzYzLTEuNTg3LjMwOC0xLjIxNy43Mi43MDcuODZjLjAwMyAwIC43NTEuNzU4IDIuMDA2Ljc1OHoiIGZpbGw9IiNmZmYiLz4KICAgICAgICA8L21hc2s+CiAgICAgICAgPGcgbWFzaz0idXJsKCNnY3lvcXc4azBiKSI+CiAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNLTYuNjI5LTYuODA1SDIzLjIxdjI5LjYzOUgtNi42M1YtNi44MDV6IiBmaWxsPSIjMzMzIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgogICAgPGRlZnM+CiAgICAgICAgPGNsaXBQYXRoIGlkPSJtYzNzaThlMTVhIj4KICAgICAgICAgICAgPHBhdGggZmlsbD0iI2ZmZiIgZD0iTTAgMGgxNnYxNkgweiIvPgogICAgICAgIDwvY2xpcFBhdGg+CiAgICA8L2RlZnM+Cjwvc3ZnPgo=",\r\n    "Private suite": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCN0bTIxb2s3Y2FhKSI+CiAgICAgICAgPG1hc2sgaWQ9InA5bHcyNHU0OGIiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMyI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNC41OTQgMmgtNS41N2MtLjQwNCAwLS43NjguMTcyLTEuMDI0LjQ0NUExLjQwNCAxLjQwNCAwIDAgMCA2Ljk3NyAyaC01LjU3QTEuNDEgMS40MSAwIDAgMCAwIDMuNDA2djkuMjc0YTEuNDEgMS40MSAwIDAgMCAxLjQwNyAxLjQwN2g1LjU3QTEuNDA1IDEuNDA1IDAgMCAwIDggMTMuNjRjLjI1Ni4yNzMuNjIuNDQ1IDEuMDI0LjQ0Nmg1LjU3QTEuNDEgMS40MSAwIDAgMCAxNiAxMi42OFYzLjQwNmMwLS43NzYtLjYzLTEuNDA0LTEuNDA2LTEuNDA2ek03LjYxMyAxMi42OGMwIC4xNzQtLjA3LjMzMi0uMTg4LjQ0OGEuNjMuNjMgMCAwIDEtLjQ0OC4xODhoLTUuNTdhLjYzNC42MzQgMCAwIDEtLjQ0OC0uMTg4LjYzLjYzIDAgMCAxLS4xODgtLjQ0N1YzLjQwNWMwLS4xNzQuMDcxLS4zMzEuMTg4LS40NDdhLjYzLjYzIDAgMCAxIC40NDgtLjE4OGg1LjU3YS42My42MyAwIDAgMSAuNDQ4LjE4OC42MjUuNjI1IDAgMCAxIC4xODcuNDQ3djkuMjc0em03LjYxNiAwYzAgLjE3NC0uMDcuMzMyLS4xODguNDQ4YS42MjcuNjI3IDAgMCAxLS40NDcuMTg4aC01LjU3YS42My42MyAwIDAgMS0uNDQ4LS4xODguNjIzLjYyMyAwIDAgMS0uMTg3LS40NDdWMy40MDVjMC0uMTc0LjA3LS4zMzEuMTg3LS40NDdhLjYyNi42MjYgMCAwIDEgLjQ0OC0uMTg4aDUuNTdjLjE3NCAwIC4zMzIuMDcxLjQ0Ny4xODhhLjYyNC42MjQgMCAwIDEgLjE4OC40NDd2OS4yNzR6TTguNzUgNy4xMzR2MS40MDVhLjcwMi43MDIgMCAwIDAgMC0xLjQwNXptLTIuMjY2LjcwMmMwIC4zODkuMzE0LjcwMy43MDEuNzAzVjcuMTMzYS43LjcgMCAwIDAtLjcwMS43MDJ6bTMuMTY1LTMuNjYyYS42ODMuNjgzIDAgMCAwLS4wMjkuMTg4di4yMjhoNC4zNDR2LS4yMjhhLjcxLjcxIDAgMCAwLS4wMjctLjE4OEg5LjY0OXptLS4wMjkuODc2aDQuMzQ0di40MTZIOS42MlY1LjA1em0wIDEuMTdjMCAuMDQyLjAwNy4wODMuMDEyLjEyNGg0LjMxOWEuNjI0LjYyNCAwIDAgMCAuMDEzLS4xMjV2LS4yOTJIOS42MnYuMjkyek02LjM0MyA0LjM2YS43MzUuNzM1IDAgMCAwLS4wMjctLjE4OEgyLjAyN2EuNzEzLjcxMyAwIDAgMC0uMDI4LjE4OHYuMjI4aDQuMzQ0di0uMjI4em0tNC4zNDQuNjg4aDQuMzQ0di40MTZIMlY1LjA1em0wIDEuMTdjMCAuMDQyLjAwNi4wODMuMDEyLjEyNEg2LjMzYS42NTIuNjUyIDAgMCAwIC4wMTItLjEyNXYtLjI5Mkgydi4yOTJ6IiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxnIG1hc2s9InVybCgjcDlsdzI0dTQ4YikiPgogICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS02LjY2NC03LjE2NGgyOS45OHYyOS45OGgtMjkuOTh2LTI5Ljk4eiIgZmlsbD0iIzMzMyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxkZWZzPgogICAgICAgIDxjbGlwUGF0aCBpZD0idG0yMW9rN2NhYSI+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoMTZ2MTZIMHoiLz4KICAgICAgICA8L2NsaXBQYXRoPgogICAgPC9kZWZzPgo8L3N2Zz4K",\r\n    "Lounge access": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCNmY3d3cHljbW9hKSI+CiAgICAgICAgPG1hc2sgaWQ9IjJmYnp2YTY3eGIiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMiI+CiAgICAgICAgICAgIDxwYXRoIGQ9Im0xMy4xNCA2LjE0Ni0uMDIyLS4wNzNBNS4zOSA1LjM5IDAgMCAwIDcuOTgzIDIuMjVhNS4zODcgNS4zODcgMCAwIDAtNS4xMyAzLjgyM2wtLjAxMi4wNzMuMDkzLjAzMWMuOTAzLjQxNyAxLjUyOSAxLjMyMSAxLjUyOSAyLjMwNXYuNjc5bC4wOTMtLjEzMWMuOTU1LS44NjQgMi4xMy0xLjMzNyAzLjQwMS0xLjMzNyAxLjI3MyAwIDIuNDc4LjQ3NCAzLjQzNSAxLjMzN2wuMTA0LjEzMXYtLjY3OWMwLS45ODMuNjI2LTEuODg4IDEuNTMtMi4zMDVsLjExNC0uMDMxek00LjQ2MiA5Ljg0MXYzLjAzaDcuMDMzVjEwLjI0bC4wMzctLjQ2MmMtLjk4Ny0uODkyLTIuMTktMS4zODItMy41MS0xLjM4Mi0xLjMyIDAtMi42OC40OS0zLjU2IDEuNDQ2ek0xLjc5MiA2LjY0Qy43NzQgNi42NCAwIDcuNDY1IDAgOC40ODJjMCAuNTE0LjIzNC45OTMuNTk4IDEuMzI1bDEuMjI3IDIuMTg3djEuMzE4YzAgLjI5LjE0OC40MzguNDM4LjQzOGguODgyYy4yODggMCAuNDM5LS4xNDguNDM5LS40Mzh2LTQuODNjMC0xLjAxNy0uNzczLTEuODQzLTEuNzkyLTEuODQzem0xMi4zODQgMGMtMS4wMTggMC0xLjgwMi44MjYtMS44MDIgMS44NDN2NC44M2MwIC4yOS4xNDkuNDM4LjQ0LjQzOGguODhjLjI4OSAwIC40MzktLjE0OC40MzktLjQzOHYtLjc3bC4wMzgtLjUwNyAxLjIyNS0yLjIwNWExLjgzMiAxLjgzMiAwIDAgMC0xLjIyLTMuMTl6IiBmaWxsPSIjZmZmIi8+CiAgICAgICAgPC9tYXNrPgogICAgICAgIDxnIG1hc2s9InVybCgjMmZienZhNjd4YikiPgogICAgICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTS03Ljg0LTcuMzJoMzEuMzY2VjI0SC03Ljg0Vi03LjMyeiIgZmlsbD0iIzMzMyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxkZWZzPgogICAgICAgIDxjbGlwUGF0aCBpZD0iZmN3d3B5Y21vYSI+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoMTZ2MTZIMHoiLz4KICAgICAgICA8L2NsaXBQYXRoPgogICAgPC9kZWZzPgo8L3N2Zz4K",\r\n    "Lie flat bed": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGNsaXAtcGF0aD0idXJsKCMxbjdjNmV5eTlhKSI+CiAgICAgICAgPG1hc2sgaWQ9IjN5Z3dydzdvOWIiIHN0eWxlPSJtYXNrLXR5cGU6YWxwaGEiIG1hc2tVbml0cz0idXNlclNwYWNlT25Vc2UiIHg9IjAiIHk9IjUiIHdpZHRoPSIxNiIgaGVpZ2h0PSI2Ij4KICAgICAgICAgICAgPHBhdGggZD0iTTE1Ljk4MyA3LjAzNGEuNTg0LjU4NCAwIDAgMC0uNzA2LS40MzNsLS43MzIuMTc2LTUuMTUtLjI2NVY1LjE5NUEuMTk1LjE5NSAwIDAgMCA5LjIgNUg1LjkxYS4xOTUuMTk1IDAgMCAwLS4xOTQuMTk1djEuMTY5bC0zLjc0NC0uMjY3TC45MTUgNS4zOGEuNTg3LjU4NyAwIDAgMC0uNjU4Ljk2OWwxLjE4Ny44MDZhLjU4Ny41ODcgMCAwIDAgLjI4OC4xbDMuOTg0LjI4MnYzLjEyYzAgLjEwNy4wODcuMTk0LjE5NS4xOTRoMy4yOWEuMTk1LjE5NSAwIDAgMCAuMTk0LS4xOTVWNy42ODRsNS4xNzMuMjY2aC4wM2EuNjIuNjIgMCAwIDAgLjEzNy0uMDE1bC44MTUtLjE5NmEuNTg0LjU4NCAwIDAgMCAuNDM0LS43MDR6bS02Ljk3OCAzLjQyN0g2LjEwNnYtNS4wN2gyLjl2NS4wN3oiIGZpbGw9IiNmZmYiLz4KICAgICAgICA8L21hc2s+CiAgICAgICAgPGcgbWFzaz0idXJsKCMzeWd3cnc3bzliKSI+CiAgICAgICAgICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNLTYuNjA1LTYuNTYzSDIzLjEydjI5LjcyN0gtNi42MDVWLTYuNTYzeiIgZmlsbD0iIzMzMyIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KICAgIDxkZWZzPgogICAgICAgIDxjbGlwUGF0aCBpZD0iMW43YzZleXk5YSI+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoMTZ2MTZIMHoiLz4KICAgICAgICA8L2NsaXBQYXRoPgogICAgPC9kZWZzPgo8L3N2Zz4K",\r\n    "Chef curated pairings": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Im0xLjk4NSA1LjQyLjAwNy0yLjI1NnYtLjAyOGMwLS4xMTItLjAxOC0uMjEtLjE3NS0uMjEtLjA5IDAtLjE4LjA4NC0uMTguMjA1bC0uMDA1LjAzNy0uMDQ2IDEuNjE5YzAgLjExLS4wNi4yMS0uMjE2LjIwOC0uMTQ4IDAtLjE4LS4xMTItLjE4LS4yMDVsLS4wNDgtMS42Mjl2LS4wMjdjMC0uMTEtLjAyOC0uMjEtLjE0My0uMjEtLjEyMi0uMDAxLS4xNDUuMTExLS4xNDUuMjA1di4wMzZsLS4wNiAxLjYxOWMwIC4xMTItLjA1Mi4yMS0uMjExLjIxLS4xNDggMC0uMTg0LS4xMTItLjE4NC0uMjA1TC4zNSAzLjE1OXYtLjAyNmMwLS4xMTMtLjA1Ny0uMjEyLS4xNy0uMjEyLS4xNSAwLS4xNzQuMTEyLS4xNzQuMjA1TDAgNS4zOTVjLS4wMDIuNTM4LjE0OC45NDguNTk3IDEuMzQgMCAwIC4wOTYuNDguMDU1IDEuMTg5LS4wNC43MDItLjQ2IDQuNzI4LS4wNTUgNS4zNjUuMTE5LjE4OC42MjQuMjA1Ljc0Ny4wMDIuMzI1LS41My0uMDU5LTQuNjYyLS4wNjQtNS4zNjUtLjAwNS0uNzE4LjA3MS0xLjE5LjA3MS0xLjE5cy42MzItLjYxNy42MzQtMS4zMTZ6bTMuMjM3IDcuMzQuMDI4LTkuNzg1YzAtLjQ4NC0uNDM4LS43MjgtLjgzNi0uMDktLjMyOC41MjMtLjc3NyAyLjY4LS43IDMuODEyLjA3OCAxLjEzLjg0NiAxLjE4My44NDUgMS42MTUtLjAwNCAxLjM0NS0uMjIyIDMuNDQzLS4yNjIgNC4wNjktLjA2NyAxLjAzMy45MiAxLjU2Ny45MjUuMzh6TTEzLjcgNy4yODVhMS45MTQgMS45MTQgMCAxIDAtMS40MDktMi41NDJoMi4xNXMuNTQxLjAwNy41NDEuNjVjMCAuMzM5LTEuMjgzIDEuODkyLTEuMjgzIDEuODkyem0uMzA4LTEuMjQ4Yy40NC0uNTEgMC0uNTc2IDAtLjU3Nkg3LjUzM3MtLjQ0LjA2NyAwIC41NzZsMi45MzMgMy4zODZWMTIuMmwtMS41NDUuNjQ0di4yMDNoMy43di0uMjAzbC0xLjU0Ni0uNjQ0VjkuNDIybDIuOTM0LTMuMzg2eiIgZmlsbD0iIzQ0NCIvPgo8L3N2Zz4K",\r\n    "Michelin inspired cuisine": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik00LjQxMSAyLjI1NmEuNC40IDAgMSAwLS4yNzguNzVjLjAwMy4wMDIuMDE2LjAwOS4wMzYuMDI0LjAyMy4wMTguMDUuMDQzLjA3My4wNzdhLjQ2Ny40NjcgMCAwIDEgLjA3OC4zMWMtLjAwOC4xMDctLjA2NC4xOTUtLjIxMS4zODRsLS4wMTkuMDIzYy0uMTMuMTY1LS4zMzUuNDI2LS4zNjYuNzl2LjAwOGMtLjA0Mi42NDcuMyAxLjAzLjU2NSAxLjI4MmEuNC40IDAgMCAwIC41NTEtLjU4Yy0uMjExLS4yLS4zMzUtLjM2NS0uMzE4LS42NDYuMDEtLjEwNi4wNjctLjE5My4yMTctLjM4NGwuMDE0LS4wMThjLjEzMS0uMTY4LjMzOS0uNDMyLjM2Ni0uODA0di0uMDA1Yy4wNDItLjY5OS0uNDA5LTEuMS0uNzA4LTEuMjF6TTcuMzk0IDIuMjU2YS40LjQgMCAxIDAtLjI3OC43NWMuMDAyLjAwMi4wMTYuMDA5LjAzNS4wMjRhLjM2LjM2IDAgMCAxIC4wNzIuMDc1Yy4wNDMuMDYxLjA4NS4xNTguMDc0LjMwOXYuMDA1Yy0uMDA3LjEwNi0uMDYuMTkyLS4yMDkuMzgzbC0uMDE3LjAyMmMtLjEzLjE2NS0uMzM1LjQyOC0uMzU5Ljc5Ni0uMDQ4LjY0Ny4yOTUgMS4wMzIuNTUgMS4yOGEuNC40IDAgMSAwIC41NTgtLjU3MmMtLjIxLS4yMDUtLjMzMS0uMzY4LS4zMS0uNjV2LS4wMDZjLjAwNy0uMTAyLjA2LS4xODYuMjEtLjM3OWwuMDE1LS4wMmMuMTMtLjE2Ni4zMzctLjQzMS4zNi0uODA0LjA1LS43LS40MDMtMS4xMDItLjcwMS0xLjIxM3pNMTAuMzc2IDIuMjU2YS40LjQgMCAxIDAtLjI3OC43NWMuMDAzLjAwMi4wMTYuMDA5LjAzNi4wMjQuMDIzLjAxOC4wNS4wNDMuMDczLjA3N2EuNDY3LjQ2NyAwIDAgMSAuMDc4LjMxYy0uMDA4LjEwNy0uMDY0LjE5NS0uMjEyLjM4NGwtLjAxOC4wMjNjLS4xMy4xNjUtLjMzNS40MjYtLjM2Ni43OXYuMDA4Yy0uMDQyLjY0Ni4zIDEuMDMuNTU1IDEuMjc5YS40LjQgMCAxIDAgLjU1OS0uNTczYy0uMjA5LS4yMDMtLjMzMy0uMzY4LS4zMTYtLjY1LjAxLS4xMDYuMDY3LS4xOTMuMjE2LS4zODRsLjAxNS0uMDE4Yy4xMzEtLjE2OC4zMzgtLjQzMi4zNjYtLjgwNHYtLjAwNWMuMDQyLS42OTktLjQxLTEuMS0uNzA4LTEuMjF6IiBmaWxsPSIjNDQ0Ii8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE0LjAzNiA0LjU3NWEuNC40IDAgMCAwLS43MzgtLjMwOEwxMS45MDkgNy42SDIuMzM0YS40LjQgMCAwIDAtLjQuNCA1Ljc2OSA1Ljc2OSAwIDAgMCAyLjgzNyA0Ljk2OEg0LjcyYS40LjQgMCAwIDAgMCAuOGg1Ljk2NWEuNC40IDAgMCAwIDAtLjhoLS4wNTJBNS43NyA1Ljc3IDAgMCAwIDEzLjQ3IDhhLjQuNCAwIDAgMC0uNC0uNGgtLjI5NGwxLjI2LTMuMDI1ek00LjE5IDExLjUxM0E0Ljk2OSA0Ljk2OSAwIDAgMSAyLjc0OSA4LjRoOS45MDZhNC45NjggNC45NjggMCAwIDEtOC40NjYgMy4xMTN6IiBmaWxsPSIjNDQ0Ii8+Cjwvc3ZnPgo=",\r\n    "Signature desserts": "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0xMC45IDQuNjg2Yy0uMDQ1LjY4NS4zNTcgMS4wNzQuNTQ4IDEuMjU4LjA4LjA3My4xNzguMTEyLjI3Ny4xMTIuMDk5IDAgLjIwNC0uMDQuMjg0LS4xMThhLjQwMi40MDIgMCAwIDAtLjAwNy0uNTZjLS4yMTgtLjIxMS0uMzMtLjM3LS4zMS0uNjMzLjAxMy0uMTEyLjA4Ni0uMjE3LjIxMS0uMzc1LjE1OC0uMTk4LjM1Ni0uNDQ5LjM4Mi0uODE4LjA0LS42MjUtLjMzNi0xLjA2LS42OTktMS4xOTJhLjM4Ny4zODcgMCAwIDAtLjQ5NC4yMy40MDcuNDA3IDAgMCAwIC4yMjQuNTE0cy4yMDUuMDkzLjE4NS4zOTZjLS4wMDcuMTE4LS4wODYuMjI0LS4yMTEuMzgybC0uMDE4LjAyM2MtLjE0OS4xOTQtLjMzMy40MzMtLjM1OC43OGgtLjAxM3pNOC45MjMgNS4zNDVjLS4wNDYuNjg1LjM1NiAxLjA3NC41NDcgMS4yNTguMDguMDczLjE3OC4xMTIuMjc3LjExMi4wOTkgMCAuMjA0LS4wNC4yODQtLjExOGEuNDAyLjQwMiAwIDAgMC0uMDA3LS41NmMtLjIxOC0uMjExLS4zMy0uMzctLjMxLS42MzMuMDEzLS4xMTIuMDg2LS4yMTcuMjExLS4zNzYuMTU4LS4xOTcuMzU2LS40NDguMzgyLS44MTcuMDQtLjYyNi0uMzM2LTEuMDYtLjY5OC0xLjE5MmEuMzg3LjM4NyAwIDAgMC0uNDk1LjIzLjQwNy40MDcgMCAwIDAgLjIyNC41MTRzLjIwNS4wOTMuMTg1LjM5NmMtLjAwNy4xMTgtLjA4Ni4yMjQtLjIxMS4zODJsLS4wMTguMDIzYy0uMTQ5LjE5NC0uMzMzLjQzMi0uMzU4Ljc4aC0uMDEzeiIgZmlsbD0iIzQ0NCIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS43MzkgMTEuOTczYTUuODA5IDUuODA5IDAgMCAxLTEuMTk0LjkwM2gzLjA2Yy4yMTcgMCAuMzk1LjE3OC4zOTUuMzk1YS4zOTcuMzk3IDAgMCAxLS4zOTYuMzk2SDIuMzk2QS4zOTcuMzk3IDAgMCAxIDIgMTMuMjdjMC0uMjE3LjE3OC0uMzk1LjM5Ni0uMzk1aC41NkwyLjMzIDQuNzM4YS4zOTQuMzk0IDAgMCAxIC4zOTYtLjQyMkg4Yy4xMTIgMCAuMjE4LjA0Ny4yOS4xMjYuMDguMDc5LjExMi4xODQuMTA2LjI5NmwtLjIxOCAyLjgzNGg0Ljg0Yy4yMTcgMCAuMzk1LjE3OC4zOTUuMzk1IDAgMS41MDktLjYgMi45MzItMS42NzUgNC4wMDZ6bS0uNTYxLS41NmE0Ljc5MSA0Ljc5MSAwIDAgMCAxLjQyNC0zLjA1di0uMDA3aC00LjQ5bC0uMzQzIDQuNDhhNC45NDkgNC45NDkgMCAwIDAgMy40MDktMS40MjN6TTcuNDczIDYuNDA1bC4wOTgtMS4zMDR2LS4wMDdIMy4xNTRsLjEzOCAxLjgzMmMuNjkzLjIxIDEuMzQ1LjIyNCAxLjkzOS4wMTMuNzEyLS4yNSAxLjQ1Ny0uNSAyLjI0Mi0uNTM0ek0zLjM1OCA3Ljc2M2wuMzk2IDUuMTEzdi4wMDdoMy4yMjRsLjQzNS01LjY3NGMtLjY0LjA0Ni0xLjI4Ni4yNTctMS44Ni40NjJhMy44MTcgMy44MTcgMCAwIDEtMS4yNjUuMjE3Yy0uMzAzIDAtLjYyLS4wNTMtLjkzLS4xMjV6IiBmaWxsPSIjNDQ0Ii8+Cjwvc3ZnPgo="\r\n};\r\n\r\n// Variant definitions\r\nconst variants = {\r\n    ICE: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/aircraft-interior/inflight-entertainment/friends-enjoying-inflight-entertainment-in-emirates-economy-class-t1024x480.jpg",\r\n        message: "Enjoy award-winning entertainment with ICE",\r\n        icons: ["Live TV", "Onboard Wi-Fi", "Up to 6,500 titles"],\r\n    },\r\n    FAMILY_USP: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/aircraft-interior/inflight-entertainment/indian-family-in-economy-class-on-boeing-777-enjoying-ice-t1024x480.jpg",\r\n        message: "Plan your <strong>family trip</strong> with us today!",\r\n        icons: ["Priority boarding for families", "Seated together", "Hundreds of family channels to choose from"],\r\n    },\r\n    MY_EMIRATES_PASS: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/people/outdoors/family-having-fun-at-waterpark-pb-w1920x480.jpg",\r\n        message: "Enjoy <strong>big savings</strong> on your holiday in Dubai using your Emirates boarding pass.",\r\n        icons: ["Shopping & Dining", "Theme parks & attractions", "Private pools & beaches"],\r\n    },\r\n    CHAUFFEUR_DRIVE_J: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/airport/chauffeur/fly-better-chauffeur-drive-new-768x480.jpg",\r\n        message: `Fly <strong><span style="color:#305291;">Business Class</span></strong> and enjoy luxury chauffeur-driven transfers.`,\r\n        icons: ["Chauffeur-drive", "Lie flat bed", "Lounge access"],\r\n    },\r\n    CHAUFFEUR_DRIVE_F: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/airport/chauffeur/fly-better-chauffeur-drive-new-768x480.jpg",\r\n        message: `Fly <strong><span style="color:#b14242;">First Class</span></strong> and enjoy luxury chauffeur-driven transfers.`,\r\n        icons: ["Chauffeur-drive", "Private suite", "Lounge access"],\r\n    },\r\n    CHAUFFEUR_DRIVE_J_DINING: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/aircraft-interior/business-class/a380/dining-in-emirates-a380-business-class-840x1260.jpg",\r\n        message: `Savour every moment with regional fine dining in <strong><span style="color:#305291;">Business Class</span></strong>`,\r\n        icons: ["Chef curated pairings", "Michelin inspired cuisine", "Signature desserts"],\r\n        objectPosition: "bottom"\r\n    },\r\n    CHAUFFEUR_DRIVE_F_DINING: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/aircraft-interior/first-class/a380/asian-female-first-class-private-suite-alcahol-cuisine-m512x768.jpg",\r\n        message: `Savour every moment with regional fine dining in <strong><span style="color:#b14242;">First Class</span></strong>`,\r\n        icons: ["Chef curated pairings", "Michelin inspired cuisine", "Signature desserts"],\r\n        objectPosition: "bottom"\r\n    },\r\n    NON_EK_ECONOMY: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/aircraft-exterior/airbus-a380/emirates-a380-taxiing-dubai-international-airport-w1920x480.jpg",\r\n        message: `Find the best Economy Class fares`\r\n    },\r\n    NON_EK_BUSINESS: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/aircraft-exterior/airbus-a380/emirates-a380-taxiing-dubai-international-airport-w1920x480.jpg",\r\n        message: `Find the best Business Class fares`\r\n    },\r\n    NON_EK_FIRST: {\r\n        imageUrl: "https://c.ekstatic.net/ecl/aircraft-exterior/airbus-a380/emirates-a380-taxiing-dubai-international-airport-w1920x480.jpg",\r\n        message: `Find the best First Class fares`\r\n    }\r\n};\r\n\r\n// Variant to letter mapping\r\nconst variantSuffixMap = {\r\n    ICE                         : "a|ICE",           // Economy - ICE\r\n    FAMILY_USP                  : "b|Family",        // Economy - Family\r\n    MY_EMIRATES_PASS            : "c|EmiratesPass",  // Economy - Emirates Pass\r\n    CHAUFFEUR_DRIVE_J           : "d|Chauffeur",     // Chauffeur - Business\r\n    CHAUFFEUR_DRIVE_F           : "d|Chauffeur",     // Chauffeur - First\r\n    CHAUFFEUR_DRIVE_J_DINING    : "e|Dining",        // Dining - Business\r\n    CHAUFFEUR_DRIVE_F_DINING    : "e|Dining",        // Dining - First\r\n    NON_EK_ECONOMY              : "f|Fallback",      // Fallback - Economy\r\n    NON_EK_BUSINESS             : "f|Fallback",      // Fallback - Business\r\n    NON_EK_FIRST                : "f|Fallback"       // Fallback - First\r\n};\r\n\r\nfunction buildEventLabel(group) {\r\n    // group = "Control" or "CustomerVariant"\r\n    return `BX:477:ABD_HP_USP_C:${group}`;\r\n}\r\nfunction buildEventFormDetails(variantType) {\r\n    const suffix = variantSuffixMap[variantType] || "x"; // fallback if not mapped\r\n    return `${suffix}`;\r\n}\r\n\r\n// Generic helper for pushing into dataLayer with delay\r\nfunction pushToDataLayer(eventName, category, action, label, formDetails, value, delay = 500) {\r\n    if (typeof window.dataLayer === "undefined") {\r\n        window.dataLayer = [];\r\n    }\r\n    setTimeout(() => {\r\n        const payload = {\r\n            event: eventName,\r\n            category: category,\r\n            action: action,\r\n            label: label,\r\n            formDetails : formDetails,\r\n            value: value\r\n        };\r\n        window.dataLayer.push(payload);\r\n    }, delay);\r\n}\r\n\r\n// Render the selected variant\r\nfunction renderVariant(variantType) {\r\n    const selectedVariant = variants[variantType];\r\n    if (!selectedVariant) return;\r\n\r\n    const fallbackImageUrl = "https://c.ekstatic.net/shared/images/destination/v1/airports/CDSR/600x360.jpg";\r\n    const wrapper = document.querySelector(".widget__container");\r\n    wrapper.insertAdjacentHTML("afterend", \'<div class="bx-one-destination-background"></div>\');\r\n\r\n    \r\n    // Simple parser for "DD-MMM-YY" or "DD-MMM-YYYY"\r\n    function parseDDMMMYY(dateStr) {\r\n        const [dayStr, monStr, yearStr] = dateStr.split(\'-\');\r\n        const day = parseInt(dayStr, 10);\r\n        const monthMap = {jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11};\r\n        const month = monthMap[monStr.toLowerCase()];\r\n        let year = parseInt(yearStr, 10);\r\n        if (year < 100) year += 2000; // handle 2-digit year\r\n        return new Date(year, month, day);\r\n    }\r\n\r\n    // Add months safely without day rollover\r\n    function addMonthsSafe(date, months) {\r\n        const d = new Date(date.getTime());\r\n        const day = d.getDate();\r\n        d.setDate(1); // prevent rollover\r\n        d.setMonth(d.getMonth() + months);\r\n        const lastDay = new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\r\n        d.setDate(Math.min(day, lastDay));\r\n        return d;\r\n    }\r\n\r\n    // Adjust dates if they are in the past relative to today\r\n    function adjustDatesIfPast(departDateStr, returnDateStr, journeyType) {\r\n        const today = new Date();\r\n        today.setHours(0,0,0,0);\r\n    \r\n        const departOrig = parseDDMMMYY(departDateStr);\r\n        let depart = departOrig ? new Date(departOrig.getTime()) : null;\r\n        let ret = (journeyType === "RETURN" && returnDateStr) ? parseDDMMMYY(returnDateStr) : null;\r\n        let newPayload;\r\n    \r\n        if (journeyType === "ONEWAY") {\r\n            if (depart && depart < today) {\r\n                let monthsToAdd = (today.getFullYear() - depart.getFullYear()) * 12\r\n                                + (today.getMonth() - depart.getMonth());\r\n                if (monthsToAdd < 0) monthsToAdd = 0;\r\n        \r\n                let candidate;\r\n                let safety = 0;\r\n                while (safety < 48) {\r\n                    candidate = addMonthsSafe(depart, monthsToAdd);\r\n                    if (candidate >= today) break;\r\n                    monthsToAdd++;\r\n                    safety++;\r\n                }\r\n                depart = addMonthsSafe(depart, monthsToAdd);\r\n                \r\n                newPayload = {\r\n                    journeyType: journeyType,\r\n                    bookingType: "REVENUE",\r\n                    flexiSearch: true,\r\n                    passengers: [],\r\n                    segments: [],\r\n                    referrer: "/book"\r\n                };\r\n            } \r\n            else {\r\n                // future -> no flexiSearch\r\n                newPayload = {\r\n                    journeyType: journeyType,\r\n                    bookingType: "REVENUE",\r\n                    passengers: [],\r\n                    segments: [],\r\n                    referrer: "/book"\r\n                };\r\n            }\r\n        \r\n            return { departDate: depart, returnDate: null, payload: newPayload };\r\n        }\r\n    \r\n        // RETURN flight logic\r\n        if (journeyType === "RETURN") {\r\n            \r\n            if ((depart && depart < today) || (ret && ret < today)) {\r\n                const earliest = (!ret || depart <= ret) ? depart : ret;\r\n            \r\n                let monthsToAdd = (today.getFullYear() - earliest.getFullYear()) * 12\r\n                                + (today.getMonth() - earliest.getMonth());\r\n                if (monthsToAdd < 0) monthsToAdd = 0;\r\n            \r\n                let candidate;\r\n                let safety = 0;\r\n                while (safety < 48) {\r\n                    candidate = addMonthsSafe(earliest, monthsToAdd);\r\n                    if (candidate >= today) break;\r\n                    monthsToAdd++;\r\n                    safety++;\r\n                }\r\n            \r\n                depart = addMonthsSafe(depart, monthsToAdd);\r\n                if (ret) {\r\n                    ret = addMonthsSafe(ret, monthsToAdd);\r\n                    while (ret <= depart && safety < 48) {\r\n                        ret = addMonthsSafe(ret, 1);\r\n                        safety++;\r\n                    }\r\n                }\r\n            \r\n                newPayload = {\r\n                    journeyType: journeyType,\r\n                    bookingType: "REVENUE",\r\n                    flexiSearch: true,\r\n                    passengers: [],\r\n                    segments: [],\r\n                    referrer: "/book"\r\n                };\r\n            } \r\n            else {\r\n             // future -> no flexiSearch\r\n                newPayload = {\r\n                    journeyType: journeyType,\r\n                    bookingType: "REVENUE",\r\n                    passengers: [],\r\n                    segments: [],\r\n                    referrer: "/book"\r\n                };\r\n            }\r\n            return { departDate: depart, returnDate: ret, payload: newPayload };\r\n        }\r\n    }\r\n\r\n    let adjusted = adjustDatesIfPast(departDate, returnDate, journeyType);\r\n    departDate = adjusted.departDate;\r\n    returnDate = adjusted.returnDate;\r\n    let payload = adjusted.payload;\r\n\r\n    // Convert Date object to YYYY-MM-DD\r\n    function convertDate(dateObj) {\r\n        if (!dateObj) return null; // Prevents calling getFullYear on null\r\n        const year = dateObj.getFullYear();\r\n        const month = String(dateObj.getMonth() + 1).padStart(2, \'0\');\r\n        const day = String(dateObj.getDate()).padStart(2, \'0\');\r\n        return `${year}-${month}-${day}`;\r\n    }\r\n\r\n    let depart_date = convertDate(departDate);\r\n    let return_date = convertDate(returnDate);\r\n\r\n    function base64EncodeUtf8(str) {\r\n        return btoa(unescape(encodeURIComponent(str)));\r\n    }\r\n\r\n    // Construct JSON payload for future dates\r\n    if(!payload) {\r\n        payload = {\r\n            journeyType: journeyType,\r\n            bookingType: "REVENUE",\r\n            passengers: [],\r\n            segments: [],\r\n            referrer: "/book"\r\n        };  \r\n    }\r\n    \r\n    // Add passengers only if count > 0\r\n    if (adultsRaw > 0) payload.passengers.push({ type: "ADT", count: adultsRaw });\r\n    if (childrenRaw > 0) payload.passengers.push({ type: "CHD", count: childrenRaw });\r\n    if (infantsRaw > 0) payload.passengers.push({ type: "INF", count: infantsRaw });\r\n    if (youthsRaw > 0) payload.passengers.push({ type: "GBE", count: youthsRaw });\r\n    if (ofwsRaw > 0) payload.passengers.push({ type: "OFW", count: ofwsRaw });\r\n\r\n    // Add outbound segment\r\n    payload.segments.push({\r\n        departure: originCode,\r\n        arrival: destination_code,\r\n        travelDate: depart_date,\r\n        cabinClass: bookingClass\r\n    });\r\n\r\n    // Add return segment if applicable\r\n    if (flightType !== "OW" && returnDate) {\r\n        payload.segments.push({\r\n            departure: destination_code,\r\n            arrival: originCode,\r\n            travelDate: return_date,\r\n            cabinClass: bookingClass\r\n        });\r\n    }\r\n\r\n    const encodedPayload = base64EncodeUtf8(JSON.stringify(payload));\r\n    \r\n    // Construct final Emirates booking URL\r\n    const bookingUrl = `https://www.emirates.com/booking/search-results/?searchRequest=${encodedPayload}`;\r\n    \r\n    function formatDateLong(dateStr) {\r\n        const date = new Date(dateStr);\r\n        return date.toLocaleDateString("en-GB", {\r\n            day: "numeric",\r\n            month: "long",\r\n            year: "numeric"\r\n        });\r\n    }\r\n\r\n    const departDateFormatted = formatDateLong(departDate);\r\n    let returnDateFormatted = "";\r\n    \r\n    const journeytype = "{{flight_type}}" === "OW" ? "One-way" : "Return";\r\n    const totalPassengers = adultsRaw + youthsRaw + ofwsRaw + childrenRaw + infantsRaw;\r\n    const passengerLabel = `${totalPassengers} passenger${totalPassengers > 1 ? "s" : ""}`;\r\n    \r\n    // Only set return date if it\'s a return trip\r\n    if (journeytype === "Return" && returnDate) {\r\n        returnDateFormatted = formatDateLong(returnDate);\r\n    }\r\n    \r\n    // Build the passenger text conditionally\r\n    let datePassengerText = "";\r\n    if (journeytype === "Return" && returnDateFormatted) {\r\n        datePassengerText = `${departDateFormatted} - ${returnDateFormatted} | ${journeytype} | ${passengerLabel}`;\r\n    } \r\n    else {\r\n        datePassengerText = `${departDateFormatted} | ${journeytype} | ${passengerLabel}`;\r\n    }\r\n\r\n    const backgroundElement = document.querySelector(".bx-one-destination-background");\r\n    const container = document.createElement("div");\r\n\r\n    if (ek_route === "Yes") {\r\n        container.className = "mobile-shadow";\r\n        container.innerHTML = `\r\n            <div class="bx-one-destination-details">\r\n              <div class="bx-one-destination-title-row">\r\n                <div class="bx-image-block img-mobile">\r\n                  <img src="${selectedVariant.imageUrl}" alt="${variantType}" \r\n                       onerror="this.onerror=null;this.src=\'${fallbackImageUrl}\';">\r\n                </div>\r\n                <div class="pad-lr-20">\r\n                  <div class="bx-one-destination-title">Fly Better to ${destination_city}</div>\r\n                  <div class="bx-one-destination-dates">${datePassengerText}</div>\r\n                </div>\r\n                <div class="booknow-cta">\r\n                  <a data-id="pagebody_cta" href="${bookingUrl}" \r\n                     class="bx-one-destination-book-now" aria-label="Book now">Book now</a>\r\n                </div>\r\n              </div>\r\n              <div class="mbl-divider"></div>\r\n              <div class="thin-divider dis-none"></div>\r\n            </div>\r\n            <div class="d-flex">\r\n              <div class="bx-image-block des-img">\r\n                <img src="${selectedVariant.imageUrl}" alt="${variantType}" \r\n                     style="object-fit: cover; object-position: ${selectedVariant.objectPosition || \'center\'};" \r\n                     onerror="this.onerror=null;this.src=\'${fallbackImageUrl}\';">\r\n              </div>\r\n              <div class="bx-content-info">\r\n                <div class="bx-one-destination-sub-title">${selectedVariant.message}</div>\r\n                <div class="bx-icons-inline">\r\n                  ${selectedVariant.icons.map(label => `\r\n                    <div class="bx-icon-inline-block">\r\n                      <img src="${iconMap[label]}" alt="${label}" class="bx-icon-img" />\r\n                      <span class="bx-icon-label-inline">${label}</span>\r\n                    </div>`).join("")}\r\n                </div>\r\n              </div>\r\n            </div>\r\n        `;\r\n    } \r\n    else {\r\n        container.className = "mobile-shadow non-ek";\r\n        container.innerHTML = `\r\n            <div class="bx-one-destination-details">\r\n              <div class="bx-one-destination-title-row">\r\n                <div class="bx-image-block img-mobile">\r\n                  <img src="${selectedVariant.imageUrl}" alt="${variantType}" \r\n                       onerror="this.onerror=null;this.src=\'${fallbackImageUrl}\';">\r\n                </div>\r\n                <div class="d-flex" style="padding-top:0px;">\r\n                  <div class="bx-image-block des-img">\r\n                    <img src="${selectedVariant.imageUrl}" alt="${variantType}" \r\n                         style="object-fit: cover; object-position: ${selectedVariant.objectPosition || \'center\'};" \r\n                         onerror="this.onerror=null;this.src=\'${fallbackImageUrl}\';">\r\n                  </div>\r\n                  <div class="bx-content-info non-ek">\r\n                    <div class="bx-one-destination-title non-ek">Still thinking about ${destination_city}?</div>\r\n                    <div class="bx-one-destination-sub-title non-ek" style="font-size:16px;">${selectedVariant.message}</div>\r\n                  </div>\r\n                </div>\r\n                <div class="booknow-cta">\r\n                  <a data-id="pagebody_cta" href="${bookingUrl}" \r\n                     class="bx-one-destination-book-now" aria-label="Book now">Book now</a>\r\n                </div>\r\n              </div>\r\n              <div class="mbl-divider"></div>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    backgroundElement.innerHTML = "";\r\n    backgroundElement.appendChild(container);\r\n\r\n    const cta = container.querySelector(".bx-one-destination-book-now, .book-now-btn");\r\n    if (cta) {\r\n        cta.addEventListener("click", function (e) {\r\n            e.preventDefault();\r\n            sendBoxeverEvent("CLICKED");\r\n            const href = e.currentTarget.getAttribute("href");\r\n            pushToDataLayer(\r\n                "EventTrigger.PageBody_PromotionClicked",\r\n                "A/B Testing and Personalisation",\r\n                "Promotion Clicked",\r\n                buildEventLabel("CustomerVariant"), \r\n                buildEventFormDetails(variantType), \r\n                0, \r\n                400\r\n            );\r\n            setTimeout(function () {\r\n                window.location.href = href;\r\n            }, 400);\r\n        });\r\n    }\r\n\r\n    // Adjust image crop if dining variant\r\n    const img = container.querySelector(".bx-image-block img");\r\n    if (img) {\r\n        if (variantType === "CHAUFFEUR_DRIVE_F_DINING" || variantType === "CHAUFFEUR_DRIVE_J_DINING") {\r\n            img.style.objectPosition = "bottom";\r\n        } \r\n        else {\r\n            img.style.objectPosition = "center";\r\n        }\r\n    }\r\n}\r\n\r\n// Controller function\r\nfunction render() {\r\n    let variantType = null;\r\n    \r\n    if(ek_route == "Yes") {\r\n        if (isFirstClass && chauffeurStatus === "Yes") {\r\n            variantType = "CHAUFFEUR_DRIVE_F";\r\n        } \r\n        else if (isBusinessClass && chauffeurStatus === "Yes") {\r\n            variantType = "CHAUFFEUR_DRIVE_J";\r\n        } \r\n        else if (isFirstClass && chauffeurStatus === "No") {\r\n            variantType = "CHAUFFEUR_DRIVE_F_DINING";\r\n        } \r\n        else if (isBusinessClass && chauffeurStatus === "No") {\r\n            variantType = "CHAUFFEUR_DRIVE_J_DINING";\r\n        } \r\n        else if ((childrenRaw > 0 || infantsRaw > 0) && (isEconomy || isPremiumEconomy)) {\r\n            variantType = "FAMILY_USP";\r\n        } \r\n        else if ((isEconomy || isPremiumEconomy) && !isDestinationDubai) {\r\n            variantType = "ICE";\r\n        } \r\n        else if ((isEconomy || isPremiumEconomy) && isDestinationDubai) {\r\n            variantType = "MY_EMIRATES_PASS";\r\n        }\r\n    \r\n        if (variantType) {\r\n            renderVariant(variantType);\r\n            sendBoxeverEvent("VIEWED");\r\n            pushToDataLayer(\r\n                "EventTrigger.PageBody_PromotionShown",\r\n                "A/B Testing and Personalisation",\r\n                "Promotion Shown",\r\n                buildEventLabel("CustomerVariant"), \r\n                buildEventFormDetails(variantType), \r\n                0, \r\n                0\r\n            );\r\n        }    \r\n    }\r\n    else if (ek_route == "No") {\r\n        if(isEconomy || isPremiumEconomy) {\r\n            variantType = "NON_EK_ECONOMY";\r\n        } \r\n        else if (isBusinessClass) {\r\n            variantType = "NON_EK_BUSINESS";\r\n        } \r\n        else if (isFirstClass) {\r\n            variantType = "NON_EK_FIRST";\r\n        }\r\n        \r\n        if (variantType) {\r\n            renderVariant(variantType);\r\n            sendBoxeverEvent("VIEWED");\r\n            pushToDataLayer(\r\n                "EventTrigger.PageBody_PromotionShown",\r\n                "A/B Testing and Personalisation",\r\n                "Promotion Shown",\r\n                buildEventLabel("CustomerVariant"), \r\n                buildEventFormDetails(variantType),\r\n                0, \r\n                0\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n// Trigger render only if destination code is present\r\nif (destination_code !== "") {\r\n    render();\r\n}\r\n\r\n'}},{ref:"9919d3b7-5ce7-4baa-9510-2a7834620409",name:"Holdout",assets:{css:"",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:""}}],notificationEnabled:!1},{ref:"42c9e837-3e77-4d60-9de3-d491754b83c3",name:"Box-478 NBO-IBE",revision:41,archived:!1,target:{script:'// Use client-side JavaScript to more specifically target users\n// NOTE: When your targeting conditions are met you must call targetingPassed() \n\n/*\n\n(function () {\n  // Add statements here\n})();\n\n*/\n\n// Use client-side JavaScript to more specifically target users\n// NOTE: When your targeting conditions are met you must call targetingPassed() \n\nfunction filter() {\n    if (dataLayer && dataLayer.length > 0) {\n        var datalayerData = dataLayer[0];\n        \n        if (datalayerData.pageName === "/ Choose Extras"\n            && datalayerData.platformType === "Desktop"\n            && datalayerData.languageCode === "EN"\n            && datalayerData.countryCode !== "US") {\n                targetingPassed();\n        }\n    }\n}\n\nfilter();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"f044b1d4-9bba-4d16-b3d2-281322fb9a2e",lowSplit:1,highSplit:120}],coupled:!1},variants:[{ref:"278d2cb8-ed3e-44f8-852b-cb44f72d14c8",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:"// You can choose how you want to add your HTML by using insertHTMLBefore, insertHTMLAfter, or replaceHTML methods\n// e.g insertHTMLAfter('.someClassName'); or insertHTMLAfter('body'); or replaceHTML('#myPageId')\n\n\n\n(function () {\n  // Add statements here\n  \n    // Get data from API and DataLayer\n    var skywards_tier       = \"{{skywards_tier}}\";\n    var primary_promotion   = \"{{first_value}}\";\n    var fallback_promotion  = \"{{second_value}}\";\n    var no_of_passengers    = dataLayer[0].passenger_count;\n    var exclude_tier_list   = ['Gold', 'Platinum'];\n    var do_not_promote_seat_boolean = ((exclude_tier_list.includes(skywards_tier)) || ((skywards_tier === 'Silver') && (no_of_passengers === 1)))\n    \n    // Function to implement Boxever Tracking\n    function sendBoxeverEvent(cmp, eventType) {\n        let eventLabel = `BOX478_${eventType}`;\n        var event = {\n            channel: \"WEB\",\n            type: eventLabel,\n            page: dataLayer[0].pageName,\n            pos: _boxever_settings.pointOfSale,\n            browser_id: Boxever.getID(),\n            ext: {\n                \"component\": cmp\n            }\n        };\n        Boxever.eventCreate(event, function (data) { }, \"json\");\n    }\n    \n    // Function to implement GA Tracking\n    function sendGAEvent(type, event_action) {\n        var event_label = \"\";\n        switch (type) {\n            case 'Baggage':\n                event_label = 'a';\n                break;\n            case 'Seat':\n                event_label = 'b';\n                break;\n            default:\n                event_label = 'c';\n        }\n        \n        var eventName = \"EventTrigger.PageBody_PromotionSuppressed\";\n        \n        dataLayer.push({\n            event    : eventName,\n            category : \"A/B Testing and Personalisation\",\n            action   : `Promotion ${event_action}`,\n            label    : `BX:478${event_label}:Control`,\n            value    : 0\n        });\n    }\n  \n    function show_ancillary_promotion (promotion_value, tier) {\n        \n        // Promote Seat\n        if (promotion_value === 'Seat') {\n            \n            // If certain exclude conditions are met, promote second value\n            if (do_not_promote_seat_boolean) {\n                show_ancillary_promotion(fallback_promotion, tier);\n            }\n            \n            else {\n                sendBoxeverEvent('Seat', 'SUPPRESSED');\n                setTimeout(() => sendGAEvent('Seat', 'Suppressed'), 500);\n            }\n        }   \n        \n        // Promote Baggage\n        else if (promotion_value === 'Baggage') {\n            \n            // Sending tracking events\n            sendBoxeverEvent('Baggage', 'SUPPRESSED');\n            setTimeout(() => sendGAEvent('Baggage', 'Suppressed'), 500);\n        }\n        \n        // Else, do nothing\n        else {\n            // Sending tracking events\n            sendBoxeverEvent('Other', 'SUPPRESSED');\n            setTimeout(() => sendGAEvent('Other', 'Suppressed'), 500);\n        }\n    }\n    \n    show_ancillary_promotion(primary_promotion, skywards_tier);\n  \n})();\n"}},{ref:"f044b1d4-9bba-4d16-b3d2-281322fb9a2e",name:"Variant 1",assets:{css:"/** style your Experience with CSS */\n\n.nbo_ibe_ancillary_promote {\n    order: -1;\n    flex-basis: 100% !important;\n    min-height: 176px !important;\n    border-radius: 16px;\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_ancillary_promote {\n        min-height: 130px !important;\n        max-height: 130px !important;\n    }\n}\n\n.nbo_ibe_subheading {\n    flex-basis: 100% !important;\n    font-family: Noto Sans Display, Arial, sans-serif;;\n    font-size: 24px;\n    font-weight: 500;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: 0.48px;\n    text-align: left;\n    color: #444;\n    margin: 32px 0 16px;\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_subheading {\n        font-size: 21px;\n        letter-spacing: 0.42px;\n        margin: 16px 0 12px;\n    }\n}\n\n.nbo_ibe_container {\n    background-color: #f6f6f6;\n    padding: 40px;\n}\n\n.nbo_ibe_outer_outer_div {\n    max-width: 1100px;\n    margin: auto;\n}\n.nbo_ibe_main_title {\n    font-family: emirates-medium, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 40px;\n    font-weight: 500;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.2;\n    letter-spacing: 0.4px;\n    text-align: left;\n    color: #333;\n    margin-bottom: 32px;\n}\n\n.nbo_ibe_outer_div {\n    min-height: 176px;\n    background-color: #fff;\n    border-radius: 16px;\n    padding: 24px;\n    display: flex;\n    gap: 24px;\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_outer_div {\n        min-height: 130px;\n        padding: 16px;\n    }\n}\n\n.nbo_ibe_img_container {\n    min-width: 227px;\n    min-height: 128px;\n    max-width: 227px;\n    max-height: 128px;\n    border-radius: 8px;\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_img_container {\n        min-width: 98px;\n        min-height: 98px;\n        max-width: 98px;\n        max-height: 98px;\n    }\n}\n\n.nbo_ibe_seat_img {\n    background-image: url('https://c.ekstatic.net/ecl/personalized-experiences/couple-in-economy-class-having-dinner-w227x128.jpg');\n}\n\n.nbo_ibe_baggage_img {\n    background-image: url('https://c.ekstatic.net/ecl/personalized-experiences/baggage-w227x128.jpg');\n}\n\n@media only screen and (max-width: 1023px) {\n\n    .nbo_ibe_seat_img {\n        background-image: url('https://c.ekstatic.net/ecl/personalized-experiences/couple-in-economy-class-having-dinner-w98x98.jpg');\n    }\n    \n    .nbo_ibe_baggage_img {\n        background-image: url('https://c.ekstatic.net/ecl/personalized-experiences/baggage-w98x98.jpg');\n    }\n}\n\n.nbo_ibe_right_container {\n    display: flex;\n    justify-content: space-between;\n    flex-direction: row;\n    width: 100%;\n    align-items: center;\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_right_container {\n        flex-direction: column;\n        align-items: flex-start;\n        justify-content: flex-start;\n    }\n}\n\n.nbo_ibe_header_container {\n  font-family: Noto Sans Display, Arial, sans-serif;;\n  font-size: 18px;\n  font-weight: 500;\n  font-stretch: normal;\n  font-style: normal;\n  line-height: 1.3;\n  letter-spacing: 0.18px;\n  text-align: left;\n  color: #444;\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_header_container {\n        font-size: 14px;\n        line-height: 1.4;\n        letter-spacing: 0.56px;\n        margin-bottom: 8px;\n    }\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_sub_header_container {\n        display: flex;\n        justify-content: space-between;\n        flex-direction: column;\n        align-items: flex-start;\n        flex: 1;\n    }\n}\n\n.nbo_ibe_price_container {\n    font-family: Noto Sans Display, Arial, sans-serif;;\n    font-stretch: normal;\n    font-style: normal;\n    text-align: left;\n    color: #444;\n}\n\n.nbo_ibe_price_from {\n    font-size: 14px;\n    font-weight: 300;\n    line-height: 1.4;\n    letter-spacing: 0.56px;\n}\n\n.nbo_ibe_price_currency {\n    font-size: 14px;\n    font-weight: normal;\n    line-height: 1.4;\n    letter-spacing: 0.56px;\n}\n\n.nbo_ibe_price_amount {\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 1.3;\n    letter-spacing: 0.18px;\n}\n\n.nbo_ibe_price_complimentary {\n    font-size: 18px;\n    font-weight: 500;\n    line-height: 1.3;\n    letter-spacing: 0.18px;\n}\n\n.nbo_ibe_subtext {\n    font-family: Noto Sans Display, Arial, sans-serif;;\n    font-size: 10px;\n    font-weight: 300;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: 0.5px;\n    text-align: left;\n    color: #444;\n}\n  \n.nbo_ibe_ancillary_promote_selected {\n    order: -1;\n    /*flex-basis: 100% !important;*/\n    min-height: 176px !important;\n    max-height: 176px !important;\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_ancillary_promote_selected {\n        min-height: 130px !important;\n        max-height: 130px !important;\n    }\n}\n        \n.nbo_ibe_ancillary_card_promote_selected {\n    flex-direction: row;   \n    padding: 24px;\n    min-height: 176px;\n    height: 176px;\n}\n  \n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_ancillary_card_promote_selected {\n        min-height: 130px;\n        height: 130px;\n        padding: 16px;\n    }\n}\n\n.nbo_ibe_ancillary_card_img_promote_selected {\n    min-width: 227px;\n    min-height: 128px;\n    max-width: 227px;\n    max-height: 128px;\n    border-radius: 8px !important;\n}\n\n@media only screen and (max-width: 1023px) {\n.nbo_ibe_ancillary_card_img_promote_selected {\n        min-width: 98px;\n        min-height: 98px;\n        max-width: 98px;\n        max-height: 98px;\n    }\n}\n\n.nbo_ibe_ancillary_card_right_container_promote_selected {\n    flex-direction: row;\n    align-items: anchor-center;\n}\n\n@media only screen and (max-width: 1023px) {\n    .nbo_ibe_ancillary_card_right_container_promote_selected {\n        flex-direction: column;\n        align-items: flex-start;\n    }\n    \n    .nbo_ibe_ancillary_card_subheader_promote_selected {\n        display: block !important;\n        margin-top: 8px;\n    }\n}\n\n@media only screen and (max-width: 600px) {\n    .nbo_ibe_ancillary_card_subheader_promote_selected {\n        display: none !important;\n    }\n    \n    .nbo_ibe_ancillary_card_right_container_promote_selected {\n        gap: 20px;\n    }\n}\n\n.nbo_ibe_ancillary_card_cta_promote_selected {\n    gap: 24px;\n    margin-top: 0 !important;\n}\n\n.nbo_ancillary_zero_height_width {\n    width: 0 !important;\n    height: 0 !important;\n}\n",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:"// You can choose how you want to add your HTML by using insertHTMLBefore, insertHTMLAfter, or replaceHTML methods\n// e.g insertHTMLAfter('.someClassName'); or insertHTMLAfter('body'); or replaceHTML('#myPageId')\n\n(function () {\n    \n    // Get data from API and DataLayer\n    const skywards_tier       = \"{{skywards_tier}}\";\n    const primary_promotion   =  \"{{first_value}}\";\n    const fallback_promotion  = \"{{second_value}}\";\n    const no_of_passengers    = dataLayer[0].passenger_count;\n    const exclude_tier_list   = ['Gold', 'Platinum'];\n    const do_not_promote_seat_boolean = ((exclude_tier_list.includes(skywards_tier)) || ((skywards_tier === 'Silver') && (no_of_passengers === 1)))\n    \n    let runFlags = {\n        Seat : {baseDisplayFunction: false, selectedDisplayFunction: false},\n        Baggage : {baseDisplayFunction: false, selectedDisplayFunction: false}\n    }\n    \n    // Get Elements from the page\n    const ancillary_container_element = document.querySelector('.ancillary-container ol')\n    \n    // Seat Variables\n    const seat_element                                    = document.querySelector('.ancillary-container ol li[aria-label^=\"Choose seats\"]')\n    const seat_element_button                             = seat_element.querySelector('button')\n    const seat_target_div_selector                        = '.ancillary-container ol li[aria-label^=\"Choose seats\"] .price-info';\n    const seat_target_div_subtext_selector                = '.ancillary-container ol li[aria-label^=\"Choose seats\"] .seat-attributes';\n    \n    const seat_card_element_selector                      = '.ancillary-container ol li[aria-label^=\"Choose seats\"] .seat-card';\n    const seat_card_element_price_block_selector          = seat_card_element_selector + ' .price-block-selected';\n    const seat_card_element_img_selector                  = seat_card_element_selector + ' .seat-card__image.one-of-more';\n    const seat_card_element_right_container_selector      = seat_card_element_selector + ' .seat-card__title-block.one-of-more';\n    const seat_card_element_img_hide_selector             = 'img#img-seat-card';\n    \n    // Baggage Variables\n    const baggage_element                                 = document.querySelector('.ancillary-container ol li[aria-label^=\"Add additional baggage\"]');\n    const baggage_element_button                          = baggage_element.querySelector('button');\n    const baggage_target_div_selector                     = '.ancillary-container ol li[aria-label^=\"Add additional baggage\"] .price-info';\n    const baggage_target_div_subtext_selector             = '.ancillary-container ol li[aria-label^=\"Add additional baggage\"] .exbag-attributes';\n    \n    const baggage_card_element_selector                   = '.ancillary-container ol li[aria-label^=\"Add additional baggage\"] .exbag-card';\n    const baggage_card_element_price_block_selector       = baggage_card_element_selector + ' .price-block-selected';\n    const baggage_card_element_img_selector               = baggage_card_element_selector + ' .exbag-card__image.one-of-more';\n    const baggage_card_element_right_container_selector   = baggage_card_element_selector + ' .exbag-card__title-block.one-of-more';\n    const baggage_card_element_img_hide_selector          = 'img#img-exbag-card';\n    \n    // Function to implement Boxever Tracking\n    function sendBoxeverEvent(cmp, eventType) {\n        const eventLabel = `BOX478_${eventType}`;\n        const event = {\n            channel: \"WEB\",\n            type: eventLabel,\n            page: dataLayer[0].pageName,\n            pos: _boxever_settings.pointOfSale,\n            browser_id: Boxever.getID(),\n            ext: {\n                \"component\": cmp\n            }\n        };\n        Boxever.eventCreate(event, function (data) { }, \"json\");\n    }\n    \n    // Function to implement GA Tracking\n    function sendGAEvent(type, event_action) {\n        let event_label = \"\";\n        switch (type) {\n            case 'Baggage':\n                event_label = 'a';\n                break;\n            case 'Seat':\n                event_label = 'b';\n                break;\n            default:\n                event_label = 'c';\n        }\n        \n        let eventName = \"\";\n        if (event_action === \"Shown\") {\n            eventName = \"EventTrigger.PageBody_PromotionShown\";\n        } else if (event_action === \"Clicked\") {\n            eventName = \"EventTrigger.PageBody_PromotionClicked\"\n        }\n        \n        dataLayer.push({\n            event    : eventName,\n            category : \"A/B Testing and Personalisation\",\n            action   : `Promotion ${event_action}`,\n            label    : `BX:478${event_label}:CustomerVarient`,\n            value    : 0\n        });\n    }\n\n    // Step 3A.1 Creates HTML required for the promoted ancillary\n    function ancillary_html (component_type, component_currency, component_price, component_complimentary, component_subtext) {\n        let ancillary_img_class =  '';\n        let ancillary_header =  '';\n        \n        if (component_type === 'Seat') {\n            \n            ancillary_img_class = 'nbo_ibe_seat_img';\n            ancillary_header    = 'Choose seats';\n            \n        } else if (component_type === 'Baggage') {\n            \n            ancillary_img_class = 'nbo_ibe_baggage_img';\n            ancillary_header    = 'Add additional baggage';\n        }\n        \n        const html = `<div class='nbo_ibe_outer_div'>` + \n                        `<div class='nbo_ibe_img_container ${ancillary_img_class}'>` + \n                        `</div>` + \n                        `<div class='nbo_ibe_right_container'>` + \n                            `<div class='nbo_ibe_header_container price-info'>${ancillary_header}</div>` + \n                            `<div class='nbo_ibe_sub_header_container'>` + \n                                `<div class='nbo_ibe_price_container'>` + \n                                    `<span class='nbo_ibe_price_from'>From </span>` + \n                                    `<span class='nbo_ibe_price_currency'>${component_currency}</span>` + \n                                    `<span class='nbo_ibe_price_amount'>${component_price}</span>` + \n                                    `<span class='nbo_ibe_price_complimentary'>${component_complimentary}</span>` + \n                                `</div>` + \n                                `<div class='nbo_ibe_subtext'>${component_subtext}</div>` + \n                            `</div>` + \n                        `</div>` + \n                    `</div>`\n                    \n        return html;\n    }\n    \n    // Step 3A. Promotes the ancillary and replaces innerHTML to display it as per the design required for promoted ancillary\n    function display_promoted_ancillary (target_div_selector, target_div_subtext_selector, ancillary_element, ancillary_element_button, ancillary_card_selector, ancillary_type) {\n        \n        // Retreive content inside of ancillary card before promoting it. These variables will be used in the promoted ancillary but placed in a different layout\n        const ancillary_price_text      = document.querySelector(target_div_selector).textContent\n        \n        const ancillary_price_bold      = ancillary_price_text.split('From ')[1].trim()\n        let ancillary_currency          = ancillary_price_bold === 'Complimentary' ? '' : `${ancillary_price_bold.split(' ')[0]} `;\n        ancillary_currency              = ancillary_currency ? `${ancillary_currency} ` : ''\n        \n        let ancillary_price             = ancillary_price_bold === 'Complimentary' ? '' : ancillary_price_bold.split(' ')[1];\n        ancillary_price                 = ancillary_price ? `${ancillary_price} ` : ''\n        \n        const ancillary_complimentary   = ancillary_price_bold === 'Complimentary' ? 'Complimentary' : '';\n        const ancillary_subtext         = document.querySelector(target_div_subtext_selector).textContent\n        \n        // Changing Position of the Baggage Card\n        ancillary_element.classList.add('nbo_ibe_ancillary_promote');\n        ancillary_element_button.style.borderRadius = '16px';\n        \n        // Changing Content inside Baggage Card\n        let ancillary_card_element   = document.querySelector(ancillary_card_selector)\n        ancillary_card_element.innerHTML = ancillary_html (ancillary_type, ancillary_currency, ancillary_price, ancillary_complimentary, ancillary_subtext); \n        ancillary_card_element.style.borderRadius = '16px';\n        \n        if (!document.querySelector('.nbo_ibe_subheading')) {\n            // Adding Sub Heading to differentiate between the promoted and remaining ancillaries                    \n            ancillary_container_element.insertAdjacentHTML(\"afterBegin\", `<div class='nbo_ibe_subheading'>Would you like to add anything else to your trip?</div>`);\n        }\n        \n        // Sending tracking events\n        sendBoxeverEvent(ancillary_type, 'VIEWED');\n        setTimeout(() => sendGAEvent(ancillary_type, 'Shown'), 500);\n        \n        ancillary_element.onclick = function () {\n            // Sending tracking events\n            sendBoxeverEvent(ancillary_type, 'CLICKED');\n            sendGAEvent(ancillary_type, 'Clicked');\n        }\n    }\n    \n    // Step 3B. Promotes the ancillary after it has been selected and adds Classes to the existing HTML Structure to display it as per the design required for promoted ancillary\n    function display_promoted_ancillary_after_slection (ancillary_element, ancillary_card_selector, ancillary_price_block_selector, ancillary_card_img_selector, ancillary_card_img_hide_selector, ancillary_img_class, ancillary_card_right_container_selector) {\n                \n        if (!document.querySelector('.nbo_ibe_subheading')) {\n            // Adding Sub Heading to differentiate between the promoted and remaining ancillaries                    \n            ancillary_container_element.insertAdjacentHTML(\"afterBegin\", `<div class='nbo_ibe_subheading'>Would you like to add anything else to your trip?</div>`);\n        }\n        \n        const ancillary_price_block_selected_targetDiv = document.querySelector(ancillary_price_block_selector);\n        ancillary_element.classList.add('nbo_ibe_ancillary_promote_selected');\n        \n        let ancillary_card_element = document.querySelector(ancillary_card_selector)\n        ancillary_card_element.classList.add('nbo_ibe_ancillary_card_promote_selected')\n        \n        let ancillary_card_img_container_element = document.querySelector(ancillary_card_img_selector)\n        ancillary_card_img_container_element.classList.add('nbo_ibe_ancillary_card_img_promote_selected')\n        ancillary_card_img_container_element.classList.add(ancillary_img_class)\n        \n        ancillary_card_img_container_element.querySelector('img').src = '';\n        ancillary_card_img_container_element.querySelector(ancillary_card_img_hide_selector).classList.add('nbo_ancillary_zero_height_width')\n        \n        const ancillary_card_right_container_element = document.querySelector(ancillary_card_right_container_selector);\n        ancillary_card_right_container_element.classList.add('nbo_ibe_ancillary_card_right_container_promote_selected')\n        \n        const ancillary_card_subheading_element = ancillary_card_right_container_element.querySelector('.selected-text');\n        ancillary_card_subheading_element.classList.add('nbo_ibe_ancillary_card_subheader_promote_selected')\n        \n        const ancillary_card_cta_element = ancillary_price_block_selected_targetDiv.querySelector('.bottom-block');\n        ancillary_card_cta_element.classList.add('nbo_ibe_ancillary_card_cta_promote_selected')\n    }\n    \n    // Step 2. Calls Ancillary Promotion function, if the ancillary is present and keeps track of the ancillary promoted flag (so the observer is not executing the ancillary_promotion function again & again)\n    function checkForElement(target_div_selector, ancillary_type, ancillary_element, display_function) {\n        \n        const targetDiv = document.querySelector(target_div_selector);\n        \n        // To run if we're observing the promoted ancillary\n        if (display_function === 'baseDisplayFunction') {\n            \n            if (targetDiv && !runFlags[ancillary_type][display_function]) {\n                \n                runFlags[ancillary_type][display_function] = true;\n                \n                if (ancillary_type === 'Baggage') {\n                    display_promoted_ancillary (\n                        target_div_selector, baggage_target_div_subtext_selector, ancillary_element, baggage_element_button, baggage_card_element_selector, ancillary_type\n                    );\n                }\n                else if (ancillary_type === 'Seat') {\n                    display_promoted_ancillary (\n                        target_div_selector, seat_target_div_subtext_selector, ancillary_element, seat_element_button, seat_card_element_selector, ancillary_type\n                    );\n                }\n            }\n            \n            else if (!targetDiv) {\n                runFlags[ancillary_type][display_function] = false;\n            }\n        }\n        \n        // To run if we're observing the promoted ancillary after being selected\n        else if (display_function === 'selectedDisplayFunction') {\n                \n            if (targetDiv && !runFlags[ancillary_type][display_function]) {\n                \n                runFlags[ancillary_type][display_function] = true;\n                \n                if (ancillary_type === 'Baggage') {\n                    display_promoted_ancillary_after_slection (\n                        ancillary_element, baggage_card_element_selector, baggage_card_element_price_block_selector, baggage_card_element_img_selector, \n                        baggage_card_element_img_hide_selector, 'nbo_ibe_baggage_img', baggage_card_element_right_container_selector\n                    );\n                }\n                else if (ancillary_type === 'Seat') {\n                    display_promoted_ancillary_after_slection (\n                        ancillary_element, seat_card_element_selector, seat_card_element_price_block_selector, seat_card_element_img_selector, \n                        seat_card_element_img_hide_selector, 'nbo_ibe_seat_img', seat_card_element_right_container_selector\n                    );\n                }\n            }\n            else if (!targetDiv) {\n                runFlags[ancillary_type][display_function] = false;\n            }\n        }\n    }\n\n    // Step 1. Oserves the targeted div and execute code to promote them once visible\n    function show_ancillary_promotion (promotionType, tier, seatElement, baggageElement) {\n\n        // Promote Seat\n        if (promotionType === 'Seat' && seatElement) {\n            \n            // If certain exclude conditions are met, promote second value\n            if (do_not_promote_seat_boolean) {\n                show_ancillary_promotion(fallback_promotion, tier, seatElement, baggageElement);\n            } \n            \n            else {\n                \n                // Observe for ancillary to promote\n                const seat_observer = new MutationObserver((mutationsList, observer) => {\n                    checkForElement(seat_target_div_selector, 'Seat', seatElement, 'baseDisplayFunction')\n                });\n                seat_observer.observe(document.body, { childList: true, subtree: true });\n                \n                // Observe for selected ancillary to promote\n                const selected_seat_observer = new MutationObserver((mutationsList, observer) => {\n                    checkForElement(seat_card_element_price_block_selector, 'Seat', seatElement, 'selectedDisplayFunction')\n                });\n                selected_seat_observer.observe(document.body, { childList: true, subtree: true });\n            }\n        }\n        \n        // Promote Baggage\n        else if (promotionType === 'Baggage' && baggageElement) {\n            // Observe for ancillary to promote\n            const baggage_observer = new MutationObserver((mutationsList, observer) => {\n                checkForElement (baggage_target_div_selector, 'Baggage', baggageElement, 'baseDisplayFunction');\n            });\n            baggage_observer.observe(document.body, { childList: true, subtree: true });\n            \n            // Observe for selected ancillary to promote\n            const selected_baggage_observer = new MutationObserver((mutationsList, observer) => {\n                checkForElement (baggage_card_element_price_block_selector, 'Baggage', baggageElement, 'selectedDisplayFunction');\n            });\n            selected_baggage_observer.observe(document.body, { childList: true, subtree: true });\n        }\n        \n        // Else, do nothing\n        else {\n            sendBoxeverEvent('Other', 'VIEWED');\n            setTimeout(() => sendGAEvent('Other', 'Shown'), 500);\n        }\n    }\n    \n    // Step 0. Entry point to the experiment\n    show_ancillary_promotion(primary_promotion, skywards_tier, seat_element, baggage_element);\n    \n})();\n"}}],notificationEnabled:!1},{ref:"07ef9eec-c5b6-4a10-a080-9497ce3590b0",name:"BOX-468 - NBO - MYB Page",revision:140,archived:!1,target:{script:'// Use client-side JavaScript to more specifically target users\n// NOTE: When your targeting conditions are met you must call targetingPassed() \n\nfunction getCookie(name) {\n  const value = "; " + document.cookie;\n  const parts = value.split("; " + name + "=");\n  if (parts.length === 2) return parts.pop().split(";").shift();\n}\n\nfunction filter() {    \n    var path = window.location.pathname;\n    if (path === "/MAB/MYB/ManageBooking.aspx") {\n        var nboCookieExists = getCookie("nbo");\n        var staffBookingExists = getCookie("staffBooking");\n        \n        if (!staffBookingExists && nboCookieExists && nboCookieExists !== "Booking") {\n            targetingPassed();\n        }\n    }\n}\n\nfilter();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"6d27381e-511d-49a6-b05e-0e561332ed86",lowSplit:1,highSplit:120}],coupled:!1},variants:[{ref:"28c6c109-52f7-43cf-a442-b889309cc844",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n",js:"// You can choose how you want to add your HTML by using insertHTMLBefore, insertHTMLAfter, or replaceHTML methods\n// e.g insertHTMLAfter('.someClassName'); or insertHTMLAfter('body'); or replaceHTML('#myPageId')\n\n/*\n\n(function () {\n  // Add statements here\n})();\n\n*/"}},{ref:"6d27381e-511d-49a6-b05e-0e561332ed86",name:"Variant 1",assets:{css:"/** style your Experience with CSS */",html:"\x3c!-- define the structure and content of your Experience in HTML e.g.--\x3e\n<div>My Content</div>\n\x3c!-- Use dynamic Guest variables, type ctrl+space or guest to explore available entities.--\x3e\n\x3c!-- Type 'd' to see decisioning helpers --\x3e\n\n\n",js:'// Function to get a cookie\r\nfunction getCookie(name) {\r\n    const value = "; " + document.cookie;\r\n    const parts = value.split("; " + name + "=");\r\n    if (parts.length === 2) \r\n      return parts.pop().split(";").shift();\r\n  }\r\n  \r\n  // Function to set a cookie with an expiry and domain scope\r\n  function setCookie(name, value) {\r\n    const date = new Date();\r\n    date.setTime(date.getTime() + (2* 60 * 1000)); // Set expiry time in milliseconds\r\n    const expires = "expires=" + date.toUTCString();\r\n    const domain = "domain=" + window.location.hostname.split(\'.\').slice(-2).join(\'.\') + ";";\r\n    document.cookie = name + "=" + value + ";" + expires + ";" + domain + "path=/";\r\n  }\r\n  \r\n  // Function to implement Boxever Tracking\r\n  function sendBoxeverEvent(cmp) {\r\n      let eventLabel = `BOX468_MYB`;\r\n      var event = {\r\n          channel: "WEB",\r\n          type: eventLabel,\r\n          page: dataLayer[0].pageName,\r\n          pos: _boxever_settings.pointOfSale,\r\n          browser_id: Boxever.getID(),\r\n          ext: {\r\n              "component": cmp\r\n          }\r\n      };\r\n      Boxever.eventCreate(event, function (data) { }, "json");\r\n  }\r\n\r\n  function redirect(page_url, component) {\r\n      // Change NBO Value \r\n      // In case the ancillary page is unreachable, \r\n      // Updated NBO Value will prevent application from redirecting to the ancillary page\r\n      setCookie(\'nbo\', "Booking");\r\n      sendBoxeverEvent(component);\r\n      window.location.href = page_url;\r\n  }\r\n    \r\n  var host = window.location.host;\r\n  \r\n  function main() {    \r\n      \r\n      window.addEventListener(\'load\', function() {\r\n          var nboCookie = getCookie("nbo");\r\n          if (nboCookie && nboCookie === \'Lounge\') {\r\n              var url = "https://" + host + "/MAB/MYB/PaidLounge.aspx"\r\n              redirect(url, "Lounge");\r\n          }\r\n          else if (nboCookie && nboCookie === \'Baggage\') {\r\n              var url = "https://" + host + "/MAB/MYB/ExBgCalculateAllowances.aspx"\r\n              redirect(url, "Baggage");\r\n          }\r\n          else if (nboCookie && nboCookie === \'Seat\') {\r\n              var url = "https://" + host + "/MAB/MYB/SeatSelection.aspx"\r\n              redirect(url, "Seat");\r\n          }\r\n      });\r\n  }\r\n  \r\n  main();'}}],notificationEnabled:!1},{ref:"db48afc5-866f-460f-bf4b-f80b2e082b2f",name:"VOC - Mobile App Feedback",revision:131,archived:!1,target:{script:"",targetPages:[{operator:"Contains",value:"help/voc/app-survey.aspx"},{operator:"Contains",value:"/help/voice-of-customer/app-survey/"}]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"ad3231b7-6ae0-4507-906d-c69f72f64a53",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"ad3231b7-6ae0-4507-906d-c69f72f64a53",name:"Blank Template",assets:{css:"#bx-modal_overlay {\n    display: none;\n    justify-content: center;\n    align-items: center;\n    position: fixed;\n    z-index: 999999;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    background-color: rgba(0,0,0,0.4);\n    font-family: Arial,HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n}\n\n#bx-modal_overlay .bx-modal_content {\n    display: flex;\n    flex-direction: column;\n    position:relative;\n    background-color: #F6F6F6;\n    margin: 0 auto;\n    border-radius: 4px;\n    box-shadow: 0 2px 10px 6px rgba(0,0,0,0.3);\n    height: 100%;\n    width: 100%;\n    border: none;\n}\n\n@media screen and (min-width: 1024px) {\n    #bx-modal_overlay .bx-modal_content {\n        max-width: 1056px;\n        height: auto;\n        min-height: 100px;\n        width: auto;\n    }\n}\n\n#bx-modal_overlay .bx-modal_button-wrapper {\n    display: flex;\n    margin-top: auto;\n}\n\n#bx-modal_overlay .bx-modal_button {\n    display: inline-block;\n    border-radius: 4px;\n    color: #fff;\n    background-color: #00B377;\n    padding: 10px 23px;\n}\n\n.bx-hidden {\n    display: none ;\n}\n\n.bx-hidden_important {\n  display: none !important;\n}\n\n/* Options Screen */\n.bx-options {\n    display: flex;\n}\n\n.bx-options .abper-112-text {\n    flex-grow: 1;\n    font-size: 14px;\n    line-height: 1.5;\n    margin: 16px 0 30px;\n    padding-bottom: 0;\n}\n\n.abper-112-link {\n    cursor: pointer; \n}\n\n/* Radio button modal */\n\n.bx-modal_content h1 {\n    font-size: 30px;\n    line-height: 34px;\n    font-family: EmiratesSB-Bold,Georgia,\"Times New Roman\",Times,serif !important;\n    max-width: 90%;\n    margin: auto;\n    text-align: center;\n}\n\n.bx-modal_content {\n    text-align: center;\n}\n\n.bx-comment > .bx-comment_textarea {\n    height: 174px;\n    width: 80%;\n    border: 1px solid #666;\n    border-radius: 3px;\n    padding: 15px 18px 16px 20px;\n    resize: none;\n    margin: 10px auto 10px;\n    font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 16px;\n    font-weight: 300;\n} \n\n.bx-comment > .bx-comment_warning {\n    color: #999;\n    text-align: left;\n    width: 80%;\n    margin: 10px auto 30px;\n    font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 16px;\n    font-style: italic;\n    font-weight: 300;\n}\n\n/* Rating screen */\n.bx-modal_content > #bx-rating {\n    padding: 30px 20px 20px;\n}\n\n.bx-radio_label {\n    display: none;\n}\n\n@media screen and (min-width: 1024px) {\n    .bx-radio_label {\n      right: 0;\n      left: 0;\n      bottom: 10px;\n      position: absolute;\n      font-size: 14px;\n    }\n\n    .rating .bx-star5:hover ~ .bx-label5 {\n       display: block;\n    }\n\n    .rating .bx-star4:hover ~ .bx-label4 {\n       display: block;\n    }\n\n    .rating .bx-star3:hover ~ .bx-label3 {\n       display: block;\n    }\n\n    .rating .bx-star2:hover ~ .bx-label2 {\n       display: block;\n    }\n\n    .rating .bx-star1:hover ~ .bx-label1 {\n       display: block;\n    }\n}\n\n/* Rating Stars */\n.rating {\n    display: inline-block;\n    border: none;\n    height: 75px;\n}\n\n/* :not(:checked) is a filter, so that browsers that dont support :checked dont \n   follow these rules. Every browser that supports :checked also supports :not(), so\n   it doesnt make the test unnecessarily selective */\n.rating:not(:checked) > input {\n    position:absolute;\n    top:-9999px;\n    clip:rect(0,0,0,0);\n}\n\n\n\n/*.rating:not(:checked) > label {*/\n/*    float:right;*/\n/*    padding:0.3em .1em;*/\n/*    overflow:hidden;*/\n/*    white-space:nowrap;*/\n/*    cursor:pointer;*/\n/*    font-size:300%;*/\n/*    line-height:1.2;*/\n/*    color:#ddd;*/\n/*}*/\n\n/*.rating:not(:checked) > label:before {*/\n/*    content: url(https://c.ekstatic.net/ecl/iconography/e72585a018510638901dd029c05d0724-40-38.png);*/\n/*}*/\n\n/*.rating > input:checked ~ label {*/\n/*    content: url(https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016-40-38.png);*/\n/*}*/\n\n/*.rating:not(:checked) > label:hover,*/\n/*.rating:not(:checked) > label:hover ~ label {*/\n/*    content: url(https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016-40-38.png);*/\n/*}*/\n\n/*.rating > input:checked + label:hover,*/\n/*.rating > input:checked + label:hover ~ label,*/\n/*.rating > input:checked ~ label:hover,*/\n/*.rating > input:checked ~ label:hover ~ label,*/\n/*.rating > label:hover ~ input:checked ~ label {*/\n/*    content: url(https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016-40-38.png);*/\n/*}*/\n\n.rating:not(:checked)>label {\n    float: right;\n    /*padding: 0 .1em;*/\n    overflow: hidden;\n    white-space: nowrap;\n    cursor: pointer;\n    font-size: 300%;\n    line-height: 1.2;\n    color: #ddd;\n    transform: scale(.85);\n}\n\n.rating:not(:checked)>.bx-star5:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktNUAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiM1M0EzNTMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTAuMzEyNSwzNSBMMTkuNjg3NSwzNSBDMTguNDc5MzE2NCwzNSAxNy41LDM1Ljk3OTMxNjQgMTcuNSwzNy4xODc1IEMxNy41LDQ2Ljg1MjQyMTkgMjUuMzM1MDc4MSw1NC42ODc1IDM1LDU0LjY4NzUgQzQ0LjY2NDkyMTksNTQuNjg3NSA1Mi41LDQ2Ljg1MjQyMTkgNTIuNSwzNy4xODc1IEM1Mi41LDM1Ljk3OTMxNjQgNTEuNTIwNjgzNiwzNSA1MC4zMTI1LDM1IFogTTM1LDUwLjMxMjUwMjkgQzI4LjU5MjEyODksNTAuMzE2NzM4MyAyMy4xMTc5MTAyLDQ1LjY5MzE4MzYgMjIuMDUsMzkuMzc1IEw0Ny45NSwzOS4zNzUgQzQ2Ljg4MjA4OTgsNDUuNjkzMTgzNiA0MS40MDc4NzExLDUwLjMxNjczODMgMzUsNTAuMzEyNTAyOSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwwIEMxNS42NzAwMTk1LDAgMCwxNS42NzAwMTk1IDAsMzUgQzAsNTQuMzI5OTgwNSAxNS42NzAwMTk1LDcwIDM1LDcwIEM1NC4zMjk5ODA1LDcwIDcwLDU0LjMyOTk4MDUgNzAsMzUgQzcwLDE1LjY3MDAxOTUgNTQuMzI5OTgwNSwwIDM1LDAgWiBNMzUsNjUuNjI1IEMxOC4wODYyNSw2NS42MjUgNC4zNzUsNTEuOTEzNzUgNC4zNzUsMzUgQzQuMzc1LDE4LjA4NjI1IDE4LjA4NjI1LDQuMzc1IDM1LDQuMzc1IEM1MS45MTM3NSw0LjM3NSA2NS42MjUsMTguMDg2MjUgNjUuNjI1LDM1IEM2NS42MjUsNTEuOTEzNzUgNTEuOTEzNzUsNjUuNjI1IDM1LDY1LjYyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSIyNC4wNjI1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgY3g9IjQ1LjkzNzUiIGN5PSIyNC4wNjI1IiByPSI0LjM3NSI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\n    padding-right: 21px;\n    padding-left: 0;\n    \n}\n\n.rating:not(:checked)>.bx-star4:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktNEAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiM4MUMyNTMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUwLjMxMjUsMzUgQzUwLjMxMjUsNDMuNDU2ODc1IDQzLjQ1Njg3NSw1MC4zMTI1IDM1LDUwLjMxMjUgQzI2LjU0MzEyNSw1MC4zMTI1IDE5LjY4NzUsNDMuNDU2ODc1IDE5LjY4NzUsMzUgTDE1LjMxMjUsMzUgQzE1LjMxMjUsNDUuODczMTA1NSAyNC4xMjY4OTQ1LDU0LjY4NzUgMzUsNTQuNjg3NSBDNDUuODczMTA1NSw1NC42ODc1IDU0LjY4NzUsNDUuODczMTA1NSA1NC42ODc1LDM1IEw1MC4zMTI1LDM1IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\n    padding-right: 21px;\n    padding-left: 0;\n    \n}\n\n.rating:not(:checked)>.bx-star3:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktM0AzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNFQ0FFMjkiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMTkuNjg3NSIgeT0iNDEuNTYyNSIgd2lkdGg9IjMwLjYyNSIgaGVpZ2h0PSI0LjM3NSI+PC9yZWN0PgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=);\n    padding-right: 21px;\n    padding-left: 0;\n    \n}\n\n.rating:not(:checked)>.bx-star2:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktMkAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNFRTZCMzEiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM1LDMyLjgxMjUgQzI0LjEyNjg5NDUsMzIuODEyNSAxNS4zMTI1LDQxLjYyNjg5NDUgMTUuMzEyNSw1Mi41IEwxOS42ODc1LDUyLjUgQzE5LjY4NzUsNDQuMDQzMTI1IDI2LjU0MzEyNSwzNy4xODc1IDM1LDM3LjE4NzUgQzQzLjQ1Njg3NSwzNy4xODc1IDUwLjMxMjUsNDQuMDQzMTI1IDUwLjMxMjUsNTIuNSBMNTQuNjg3NSw1Mi41IEM1NC42ODc1LDQxLjYyNjg5NDUgNDUuODczMTA1NSwzMi44MTI1IDM1LDMyLjgxMjUgWiIgaWQ9IlBhdGgiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+);\n    padding-right: 21px;\n    padding-left: 0;\n    \n}\n\n.rating:not(:checked)>.bx-star1:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktMUAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNDRTMzMjUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0xIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMzIuODEyNSBDMjUuMzM1MDc4MSwzMi44MTI1IDE3LjUsNDAuNjQ3NTc4MSAxNy41LDUwLjMxMjUgQzE3LjUsNTEuNTIwNjgzNiAxOC40NzkzMTY0LDUyLjUgMTkuNjg3NSw1Mi41IEw1MC4zMTI1LDUyLjUgQzUxLjUyMDY4MzYsNTIuNSA1Mi41LDUxLjUyMDY4MzYgNTIuNSw1MC4zMTI1IEM1Mi41LDQwLjY0NzU3ODEgNDQuNjY0OTIxOSwzMi44MTI1IDM1LDMyLjgxMjUgWiBNMjIuMDUsNDguMTI1IEMyMy4yNjU4Mzk4LDQwLjk3ODk4NDQgMzAuMDQ0NDkyMiwzNi4xNzE1NDMgMzcuMTkwNTA3OCwzNy4zODczODI4IEM0Mi42ODcxNDg0LDM4LjMyMjUzOTEgNDYuOTkyOTY4Nyw0Mi42MjgzNTk0IDQ3LjkyODEyNSw0OC4xMjUgTDIyLjA1LDQ4LjEyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwwIEMxNS42NzAwMTk1LDAgMCwxNS42NzAwMTk1IDAsMzUgQzAsNTQuMzI5OTgwNSAxNS42NzAwMTk1LDcwIDM1LDcwIEM1NC4zMjk5ODA1LDcwIDcwLDU0LjMyOTk4MDUgNzAsMzUgQzcwLDE1LjY3MDAxOTUgNTQuMzI5OTgwNSwwIDM1LDAgWiBNMzUsNjUuNjI1IEMxOC4wODYyNSw2NS42MjUgNC4zNzUsNTEuOTEzNzUgNC4zNzUsMzUgQzQuMzc1LDE4LjA4NjI1IDE4LjA4NjI1LDQuMzc1IDM1LDQuMzc1IEM1MS45MTM3NSw0LjM3NSA2NS42MjUsMTguMDg2MjUgNjUuNjI1LDM1IEM2NS42MjUsNTEuOTEzNzUgNTEuOTEzNzUsNjUuNjI1IDM1LDY1LjYyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSIyNC4wNjI1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgY3g9IjQ1LjkzNzUiIGN5PSIyNC4wNjI1IiByPSI0LjM3NSI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\n}\n\n.rating > label:active {\n    position:relative;\n    top:2px;\n    left:2px;\n}\n\n@media only screen and (max-width:600px) {\n    \n    .rating {\n      margin-top: 36px;\n    }\n    \n    .rating:not(:checked)>.bx-star5:before {\n        padding-right: 0;\n        padding-left: 0;\n        \n    }\n    \n    .rating:not(:checked)>.bx-star4:before {\n        padding-right: 0;\n        padding-left: 0;\n        \n    }\n    \n    .rating:not(:checked)>.bx-star3:before {\n        padding-right: 0;\n        padding-left: 0;\n        \n    }\n    \n    .rating:not(:checked)>.bx-star2:before {\n        padding-right: 0;\n        padding-left: 0;\n        \n    }\n    .rating:not(:checked)>label {\n        font-size: 100%;\n        transform: scale(.6);\n        padding: 0;\n    }\n    \n    .bx-modal_content > #bx-rating {\n        padding: 30px 3px 42px;\n    }\n    \n    .bx-modal__btn-close-icon {\n       margin-right: 8px !important;\n    }\n}\n\n@media only screen and (max-width:400px) {\n    fieldset {\n        padding: 0 !important;\n        padding-inline: 0 !important;\n        min-inline-size: max-content;\n        margin-inline: 0;\n    }\n\n    input {\n        display: none !important;\n        margin: 0 !important;\n    }\n}\n\n/* Comment Screen */\n.bx-comment {\n    padding: 30px 20px 20px;\n}\n\n/* Thank You Screen */\n.bx-thank_you {\n    padding: 30px 20px 20px;\n}\n\n/* close button */\n.bx-modal__btn-close-icon {\n    background: transparent;\n    top: 0;\n    right: 0;\n    width: 30px;\n    height: 30px;\n    margin-top: 20px;\n    margin-right: 25px;\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n}\n\n.bx-modal__btn-close-icon:after {\n    content: '';\n    height: 30px;\n    border-left: 2px solid #75808F;\n    position: absolute;\n    transform: rotate(45deg);\n}\n\n.bx-modal__btn-close-icon:before {\n    content: '';\n    height: 30px;\n    border-left: 2px solid #75808F;\n    position: absolute;\n    transform: rotate(-45deg);\n}\n\n/* Comment Screen */\n\n    /*font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;*/\n    \n/* Mobile Web Feedback Button */\n.abper-112-toggle .bx-mobile_web_feedback_button {\n    padding: 15px 25px;\n}\n\n@media screen and (min-width: 1024px) {\n    .abper-112-toggle .bx-mobile_web_feedback_button {\n        padding: 0;\n    }\n}\n\n/******* EK CSS *******/\n\n@font-face {\n    font-family: ek-font-icons;\n    src: url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.eot);\n    src: url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.eot?#iefix) format(\"embedded-opentype\"), url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.woff) format(\"woff\"), url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.ttf) format(\"truetype\"), url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.svg#ek-font-icons) format(\"svg\");\n    font-weight: 400;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: EmiratesSM;\n    src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.eot);\n    src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.eot?#iefix) format('embedded-opentype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.woff2) format('woff2'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.woff) format('woff'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.ttf) format('truetype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.svg#Emirates-Medium) format('svg');\n    font-weight: 400;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: EmiratesSB-Bold;\n    src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.eot);\n    src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.eot?#iefix) format('embedded-opentype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.woff2) format('woff2'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.woff) format('woff'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.ttf) format('truetype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.svg#Emirates-Bold) format('svg');\n    font-weight: 400;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: EmiratesSL;\n    src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.eot);\n    src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.eot?#iefix) format('embedded-opentype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.woff2) format('woff2'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.woff) format('woff'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.ttf) format('truetype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.svg#Emirates-Light) format('svg');\n    font-weight: 400;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: heroic-condensed-black-oblique;\n    src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.eot);\n    src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.eot?#iefix) format(\"embedded-opentype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.woff) format(\"woff\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.ttf) format(\"truetype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.svg#heroic-condensed-black-oblique) format(\"svg\");\n    font-weight: 400;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: heroic-condensed-medium-oblique;\n    src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-medium-oblique.eot);\n    src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-medium-oblique.eot?#iefix) format(\"embedded-opentype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-medium-oblique.woff) format(\"woff\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-medium-oblique.ttf) format(\"truetype\");\n    font-weight: 400;\n    font-style: normal;\n}\n\n@font-face {\n    font-family: heroic-condensed-light-oblique;\n    src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.eot);\n    src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.eot?#iefix) format(\"embedded-opentype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.woff) format(\"woff\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.ttf) format(\"truetype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.svg#heroic-condensed-light-oblique) format(\"svg\");\n    font-weight: 400;\n    font-style: normal;\n}\n\n\n.abper-112-modal.qubit-AdvancedModal {\n    align-items: normal;\n    left: auto;\n    padding: 0;\n    right: auto;\n    width: 100%;\n    z-index: 9999;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal.qubit-AdvancedModal {\n        align-items: center;\n    }\n}\n@media (max-width: 768px) {\n    .abper-112-modal .qubit-AdvancedModal-body {\n        height: 100%;\n    }\n}\n.abper-112-modal .qubit-AdvancedModal-box {\n    background-color: #f6f6f6;\n    display: block;\n    height: 100%;\n    max-height: none;\n    width: 100%;\n    z-index: 9999;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-AdvancedModal-box {\n        height: auto;\n        width: auto;\n    }\n}\n.abper-112-modal .qubit-AdvancedModal-Icon {\n    color: #333;\n    font-size: 10px;\n}\n.abper-112-modal .qubit-VisitorPulse {\n    color: #333;\n    display: flex;\n    font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 16px;\n    flex-grow: 1;\n    margin: auto;\n}\n.abper-112-modal .qubit-VisitorPulse-content {\n    display: flex;\n    margin: 0 auto;\n    overflow: auto;\n    padding: 30px 20px 20px;\n    width: 100%;\n}\n@media screen and (min-width: 768px) {\n    .abper-112-modal .qubit-VisitorPulse-content {\n        margin: auto;\n    }\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-content {\n        display: block;\n        margin: 0 auto;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-titleContainer {\n    display: none;\n}\n.abper-112-modal .qubit-VisitorPulse-question {\n    border-bottom: none;\n    margin-bottom: 0;\n    max-width: 690px;\n    padding-bottom: 0;\n    text-align: center;\n}\n.abper-112-modal .qubit-VisitorPulse-question .qubit-VisitorPulse-questionName {\n    color: #333;\n    font-family: EmiratesSB-Bold, Emirates-Bold, EmiratesSM, Helvetica, Arial, Lucida Grande, sans-serif !important;\n    font-size: 20px;\n    font-weight: 400;\n    line-height: 24px;\n    margin: 0 auto 20px;\n    text-align: center;\n    width: 80%;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-question .qubit-VisitorPulse-questionName {\n        font-size: 30px;\n        line-height: 34px;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-question .qubit-VisitorPulse-radios {\n    height: 75px;\n    position: relative;\n    width: 260px;\n}\n.abper-112-modal .qubit-VisitorPulse-question .qubit-VisitorPulse-radio input {\n    display: none;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio {\n    display: inline-block;\n    margin-bottom: 0;\n    text-align: center;\n    width: 20%;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio .qubit-VisitorPulse-radioOuter {\n    background: url('https://c.ekstatic.net/ecl/iconography/e72585a018510638901dd029c05d0724_40_38.png');\n    background-repeat: no-repeat;\n    height: 40px;\n    margin: 0;\n    width: 40px;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio.abper-112-active .qubit-VisitorPulse-radioOuter {\n    background: url('https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png');\n    background-repeat: no-repeat;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio .qubit-VisitorPulse-radioInner {\n    display: none;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio .qubit-VisitorPulse-radioText {\n    bottom: 10px;\n    display: none;\n    font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 14px;\n    font-weight: normal;\n    left: 0;\n    margin: 0 auto;\n    position: absolute;\n    right: 0;\n    width: 100%;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio .qubit-VisitorPulse-radioText.abper-112-visible {\n    display: inline-block;\n}\n.abper-112-modal .qubit-VisitorPulse-question:nth-child(2) {\n    display: none;\n}\n.abper-112-modal .qubit-VisitorPulse-question:nth-child(2) .qubit-VisitorPulse-textarea {\n    background: #fff;\n    border: 1px solid #666;\n    border-radius: 3px;\n    box-shadow: inset 4px 4px 0 0 #f6f6f6;\n    color: #333;\n    display: block;\n    font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 16px;\n    font-weight: 300;\n    height: 214px;\n    margin: auto;\n    padding: 20px 18px 16px 20px;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-question:nth-child(2) .qubit-VisitorPulse-textarea {\n        height: 174px;\n        width: 80%;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-question:nth-child(2) .abper-112-optional {\n    color: #999;\n    font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 16px;\n    font-style: italic;\n    font-weight: 300;\n    margin: 10px auto 30px;\n    text-align: left;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-question:nth-child(2) .abper-112-optional {\n        width: 80%;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-question.abper-112-visible {\n    display: block;\n}\n.abper-112-modal .qubit-VisitorPulse-question.abper-112-hide {\n    display: none;\n    visibility: hidden;\n}\n.abper-112-modal .qubit-VisitorPulse-submit {\n    background-color: #c60c30;\n    border-color: #c60c30;\n    color: #fff;\n    display: inline-block;\n    font-size: 14px;\n    font-weight: bold;\n    height: auto;\n    line-height: normal;\n    margin: auto 0 0;\n    max-width: 690px;\n    width: 100%;\n}\n@media screen and (min-width: 768px) {\n    .abper-112-modal .qubit-VisitorPulse-submit {\n        margin: 0 auto;\n    }\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-submit {\n        width: 317px;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-submit:hover {\n    background-color: #c60c30;\n    border-color: #c60c30;\n    box-shadow: 0 0 6px 0 #333;\n    color: #fff;\n}\n.abper-112-modal .qubit-VisitorPulse-submit.abper-112-visible {\n    display: inline-block;\n    visibility: visible;\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou {\n    flex-direction: column;\n    flex-grow: 1;\n    margin: 0 auto;\n    max-width: 690px;\n    overflow: auto;\n    padding: 40px 20px 20px;\n    text-align: center;\n}\n@media screen and (min-width: 768px) {\n    .abper-112-modal .qubit-VisitorPulse-thankYou {\n        margin: auto;\n    }\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-thankYou {\n        margin: 0 auto;\n        overflow: hidden;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-icon-check {\n    border: 2px solid green;\n    border-radius: 50px;\n    box-sizing: border-box;\n    height: 70px;\n    margin: 0 auto 30px;\n    width: 70px;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-icon-check {\n        margin: 40px auto 20px;\n        height: 60px;\n        width: 60px;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-icon-check::before {\n    border-bottom: 2px solid green;\n    border-right: 2px solid green;\n    box-sizing: border-box;\n    content: '';\n    display: inline-block;\n    height: 30px;\n    margin-top: -5px;\n    position: relative;\n    top: 50%;\n    transform: rotate(45deg) translateX(-60%) translateY(-35%);\n    width: 15px;\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-text {\n    flex-grow: 0;\n    padding-left: 0;\n    padding-right: 0;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-text {\n        margin-bottom: 30px;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-close-button {\n    margin: auto 0 0;\n}\n@media screen and (min-width: 768px) {\n    .abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-close-button {\n        margin: 0;\n    }\n}\n.abper-112-modal .abper-112-tripadvisor {\n    border-top: 2px solid #d8d8d8;\n    flex-grow: 1;\n    padding: 20px 0 0;\n}\n.abper-112-modal .abper-112-tripadvisor.abper-112-tripadvisor-hide {\n    display: none;\n}\n.abper-112-modal .abper-112-tripadvisor-logo {\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    display: inline-block;\n    height: 80px;\n    margin: auto;\n    width: 100px;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .abper-112-tripadvisor-logo {\n        height: 50px;\n        position: relative;\n        top: -10px;\n        width: 63px;\n        vertical-align: middle;\n    }\n}\n.abper-112-modal .abper-112-tripadvisor-copy {\n    display: inline-block;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .abper-112-tripadvisor-copy {\n        text-align: left;\n        width: 70%;\n    }\n}\n.abper-112-modal .abper-112-close-button {\n    font-size: 16px;\n    font-weight: 700;\n    line-height: normal;\n    margin-bottom: 20px;\n    min-height: 40px;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-modal .abper-112-close-button {\n        width: 317px;\n    }\n}\n.abper-112-modal .abper-112-text {\n    flex-grow: 1;\n    font-size: 14px;\n    line-height: 1.5;\n    margin: 16px 0 30px;\n    padding-bottom: 0;\n}\n.abper-112-modal a,\n.abper-112-modal a:hover {\n    color: #333;\n}\n.abper-112-modal:hover,\n.abper-112-modal:active,\n.abper-112-modal:focus {\n    outline: none !important;\n}\n.abper-112-modal *:focus {\n    outline: none !important;\n}\n.abper-112-toggle {\n    border-top: 1px solid rgba(255, 255, 255, .13);\n    margin-top: auto;\n}\n.abper-112-toggle:hover,\n.abper-112-toggle:active,\n.abper-112-toggle:focus {\n    outline: none;\n}\n.abper-112-toggle+.country-selector-mobile {\n    margin-top: 0;\n}\n.abper-112-toggle .abper-112-text {\n    color: #fff;\n    cursor: pointer;\n    display: inline-block;\n    font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 14px;\n    position: relative;\n    vertical-align: middle;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-toggle .abper-112-text {\n        color: #333;\n        width: auto;\n    }\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-toggle {\n        background-color: #fff;\n        border-radius: 3px 3px 0 0;\n        box-shadow: 0 1px 4px 1px #666;\n        color: #333;\n        cursor: pointer;\n        font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n        font-size: 14px;\n        height: 40px;\n        overflow: hidden;\n        padding: 10px 15px 25px 25px;\n        position: fixed;\n        right: 0;\n        top: calc(50% - 120px);\n        transform: rotate(-90deg);\n        transform-origin: 100% 100%;\n        z-index: 99;\n    }\n}\n@media (min-width: 768px) and (max-width: 1024px) and (orientation: portrait) {\n    .abper-112-toggle {\n        top: calc(25% - 120px);\n    }\n}\n.abper-112-toggle .abper-112-toggle-container {\n    position: relative;\n}\n.abper-112-toggle .abper-112-icon {\n    background-image: url('https://c.ekstatic.net/ecl/iconography/4fb725e86a700af2f5a185035d78d864_48_42.png');\n    background-size: cover;\n    display: inline-block;\n    height: 22px;\n    vertical-align: middle;\n    width: 25px;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-toggle .abper-112-icon {\n        background-image: url('https://c.ekstatic.net/ecl/iconography/9a9731bdeeac7dabae8183d63729c015_81_68.png');\n        height: 20px;\n        position: absolute;\n        transform: rotate(90deg) translateY(15px);\n    }\n}\n.abper-112-toggle .abper-112-text {\n    display: none;\n    line-height: 20px;\n    padding: 0 0 0 15px;\n}\n.qubit-VisitorPulse-modal {\n    display: none;\n}\n#abper-112-feedback-content {\n    font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    margin: 0 auto;\n    max-width: 690px;\n    padding: 70px 10px;\n    text-align: center;\n    width: 100%;\n}\n@media screen and (min-width: 768px) {\n    #abper-112-feedback-content {\n        margin: auto;\n    }\n}\n@media screen and (min-width: 1024px) {\n    #abper-112-feedback-content {\n        display: flex;\n        margin: 0 auto;\n        max-width: 1056px;\n        padding: 60px 40px;\n    }\n}\n#abper-112-feedback-content .abper-112-feedback,\n#abper-112-feedback-content .abper-112-contact,\n#abper-112-feedback-content .abper-112-complaint {\n    background-color: #fff;\n    border-radius: 3px;\n    box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.19);\n    display: block;\n    margin-bottom: 20px;\n    padding: 10px 10px 0;\n    position: relative;\n    text-decoration: none;\n}\n#abper-112-feedback-content .abper-112-feedback span.abper-112-button,\n#abper-112-feedback-content .abper-112-contact span.abper-112-button,\n#abper-112-feedback-content .abper-112-complaint span.abper-112-button {\n    pointer-events: none;\n}\n@media screen and (min-width: 1024px) {\n    #abper-112-feedback-content .abper-112-feedback,\n    #abper-112-feedback-content .abper-112-contact,\n    #abper-112-feedback-content .abper-112-complaint {\n        background: none;\n        border-radius: 0;\n        box-shadow: none;\n        display: flex;\n        flex-basis: auto;\n        flex-direction: column;\n        margin: 0;\n        padding: 30px;\n        width: 33.3333%;\n    }\n    \n    #abper-112-feedback-content .abper-112-feedback::after,\n    #abper-112-feedback-content .abper-112-contact::after,\n    #abper-112-feedback-content .abper-112-complaint::after {\n        border-right: 1px solid #d8d8d8;\n        content: \"\";\n        display: block;\n        height: 100%;\n        position: absolute;\n        right: 0;\n        top: 0;\n        z-index: 1;\n    }\n}\n#abper-112-feedback-content .abper-112-title {\n    text-align: center;\n}\n#abper-112-feedback-content .abper-112-title,\n#abper-112-feedback-content .abper-112-hr,\n#abper-112-feedback-content .abper-112-text {\n    display: none;\n}\n@media screen and (min-width: 1024px) {\n    #abper-112-feedback-content .abper-112-title,\n    #abper-112-feedback-content .abper-112-hr,\n    #abper-112-feedback-content .abper-112-text {\n        display: inline-block;\n    }\n}\n#abper-112-feedback-content .abper-112-complaint::after {\n    border: none;\n}\n@media screen and (max-width: 1023px) {\n    #abper-112-feedback-content .abper-112-button,\n    #abper-112-feedback-content .abper-112-button:hover {\n        background: none;\n        border: none;\n        box-shadow: none;\n        color: #333;\n        font-weight: bold;\n        margin-bottom: 10px;\n        padding: 6px;\n        width: 100%;\n    }\n}\n#abper-112-feedback-content .abper-112-icon {\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    display: inline-block;\n    height: 55px;\n    margin: 0 auto;\n    width: 60px;\n}\n@media screen and (min-width: 1024px) {\n    #abper-112-feedback-content .abper-112-icon {\n        height: 68px;\n        margin: 0 auto 20px;\n        width: 80px;\n    }\n}\n#abper-112-feedback-content .abper-112-icon-feedback {\n    background-image: url('https://c.ekstatic.net/ecl/iconography/9a149a9f19b5506ca8a908f23f01c24f_60_60.png');\n    height: 34px;\n    width: 34px;\n}\n@media screen and (min-width: 1024px) {\n    #abper-112-feedback-content .abper-112-icon-feedback {\n        background-image: url('https://c.ekstatic.net/ecl/iconography/9a9731bdeeac7dabae8183d63729c015_81_68.png');\n        height: 68px;\n        width: 81px;\n    }\n}\n#abper-112-feedback-content .abper-112-icon-contact {\n    background-image: url('https://c.ekstatic.net/ecl/iconography/dcb2d20bb523a4d1b635194758896024_60_60.png');\n    height: 34px;\n    width: 34px;\n}\n@media screen and (min-width: 1024px) {\n    #abper-112-feedback-content .abper-112-icon-contact {\n        background-image: url('https://c.ekstatic.net/ecl/iconography/c8be9d69c9aa7b9c193ce1049e616f36_81_68.png');\n        height: 68px;\n        width: 81px;\n    }\n}\n#abper-112-feedback-content .abper-112-icon-complaint {\n    background-image: url('https://c.ekstatic.net/ecl/iconography/f633a3e3102979ba5c912a4b09c74c86_60_60.png');\n    height: 34px;\n    width: 34px;\n}\n@media screen and (min-width: 1024px) {\n    #abper-112-feedback-content .abper-112-icon-complaint {\n        background-image: url('https://c.ekstatic.net/ecl/iconography/fbc91a6287d56b2f84607070934ba7d8_81_68.png');\n        height: 68px;\n        width: 81px;\n    }\n}\n#abper-112-feedback-content .abper-112-title,\n.abper-112-thank-you .qubit-VisitorPulse-thankYouText {\n    color: #333;\n    font-family: EmiratesSB-Bold, Emirates-Bold, EmiratesSM, Helvetica, Arial, Lucida Grande, sans-serif !important;\n    font-size: 20px;\n    font-weight: 400;\n    line-height: 24px;\n    margin: 0;\n}\n@media screen and (min-width: 1024px) {\n    #abper-112-feedback-content .abper-112-title,\n    .abper-112-thank-you .qubit-VisitorPulse-thankYouText {\n        font-size: 30px;\n        line-height: 34px;\n    }\n}\n.abper-112-modal .qubit-VisitorPulse-thankYouText {\n    font-size: 30px;\n    line-height: 1.25;\n    margin: 0;\n}\nhr.abper-112-hr {\n    background: none;\n    border: none;\n    border-top: 2px solid #c60c30;\n    display: inline-block;\n    margin: 0 auto;\n    width: 60px;\n}\n.abper-112-button,\n.qubit-VisitorPulse-submit {\n    background-color: #fff;\n    border: 1px solid #333;\n    border-radius: 3px;\n    color: #333;\n    cursor: pointer;\n    display: inline-block;\n    font-size: 14px;\n    font-weight: bold;\n    line-height: normal;\n    margin-bottom: 20px;\n    padding: 11px;\n    text-align: center;\n    text-decoration: none;\n    width: 100%;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-button,\n    .qubit-VisitorPulse-submit {\n        width: auto;\n    }\n}\n.abper-112-button:hover,\n.qubit-VisitorPulse-submit:hover {\n    box-shadow: 0 0 6px 0 #666;\n}\n.abper-112-button.abper-112-primary,\n.qubit-VisitorPulse-submit.abper-112-primary {\n    background-color: #c60c30;\n    border-color: #c60c30;\n    color: #fff;\n    font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n    font-size: 14px;\n    font-weight: 700;\n}\n.abper-112-button.abper-112-primary:hover,\n.qubit-VisitorPulse-submit.abper-112-primary:hover {\n    background-color: #c60c30;\n    border-color: #c60c30;\n    color: #fff;\n}\n.abper-112--focus {\n    border-radius: 2px !important;\n    box-shadow: 0 0 2px 1.5px #fff, 0 0 3px 3px #000, inset 0 0 0.5px 0.5px #fff, inset 0 0 0.5px 1.5px #000 !important;\n    outline: 0 !important;\n}\n.qubit-VisitorPulse-hidden {\n    visibility: hidden;\n}\n@media (max-width: 480px) {\n    .ekglobal-navigation-megamenu-holder.menu--opened {\n        overflow-y: scroll;\n    }\n}\n@media (orientation: portrait) {\n    .abper-112-modal .qubit-VisitorPulse {\n        display: block;\n    }\n    \n    .abper-112-modal .qubit-AdvancedModal-body {\n        flex: none;\n        height: 100%;\n    }\n    \n    .abper-112-modal .qubit-VisitorPulse {\n        display: block;\n    }\n    \n    .abper-112-modal .qubit-VisitorPulse-content {\n        height: 100%;\n        position: relative;\n    }\n    \n    .abper-112-modal .qubit-VisitorPulse-submit.abper-112-visible {\n        bottom: 30px;\n        left: 20px;\n        right: 20px;\n        position: absolute;\n        width: auto;\n    }\n    \n    .abper-112-modal .qubit-VisitorPulse-thankYou {\n        height: 100%;\n        position: relative;\n    }\n}\n@media (orientation: portrait) and (min-width: 768px) {\n    .abper-112-modal .qubit-VisitorPulse-submit.abper-112-visible {\n        bottom: 60px;\n        left: 30px;\n        right: 30px;\n    }\n}\n@media (orientation: portrait) and (min-width: 1024px) {\n    .abper-112-modal .qubit-VisitorPulse-submit.abper-112-visible {\n        bottom: auto;\n        left: auto;\n        position: relative;\n        right: auto;\n        width: 317px;\n    }\n}\n@media (orientation: portrait) and (min-width: 768px) {\n    .abper-112-modal .abper-112-button.abper-112-primary.abper-112-close-button {\n        bottom: 60px;\n        left: 0;\n        max-width: 690px;\n        position: absolute;\n    }\n}\n@media (orientation: portrait) and (min-width: 1024px) {\n    .abper-112-modal .abper-112-button.abper-112-primary.abper-112-close-button {\n        bottom: auto;\n        left: auto;\n        position: relative;\n        right: auto;\n    }\n}\n.ek .abper-112-modal [contentEditable=true]:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal [tabindex]:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal a:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal area:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal button:not([disabled]):not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal iframe:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal input:not([disabled]):not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal select:not([disabled]):not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal textarea:not([disabled]):not([tabindex='-1']):not(.panel-disabled):focus {\n    outline: none !important;\n}\n.ek .abper-112-modal p a {\n    text-decoration: underline;\n}\n.ek .abper-112-modal p a:hover {\n    text-decoration: none;\n}\n@media screen and (min-width: 1024px) {\n    .ek-global-navigation .abper-112-toggle[tabindex=\"0\"]:focus {\n        border-radius: 3px 3px 0 0 !important;\n        box-shadow: 0 1px 4px 1px #666 !important;\n    }\n}\n.abper-112-toggle[tabindex]:focus:not(a):not(button) {\n    border-radius: 0;\n    box-shadow: none;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-toggle[tabindex]:focus:not(a):not(button) {\n        border-radius: 3px 3px 0 0;\n        box-shadow: 0 1px 4px 1px #666;\n    }\n}\n.abper-112-modal a:focus {\n    border-radius: none;\n    box-shadow: none;\n}\n.page-template.leaderboard-template .abper-112-toggle {\n    height: 5px;\n}\n.ekglobal-navigation-megamenu-holder.menu--opened .abper-112-toggle {\n    height: auto;\n}\n.abper-112-modal label.qubit-VisitorPulse-radio * {\n    pointer-events: none;\n}\n.abper-112-modal * {\n    -webkit-tap-highlight-color: transparent;\n}\n.abper-112-toggle {\n    display: none;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-toggle {\n        display: block;\n    }\n}\n.abper-112-toggle+.nav__lang-wrapper {\n    margin-top: 0;\n}\n.nav--show .abper-112-toggle {\n    display: block;\n}\n.ek-global-navigation .menu--opened .abper-112-toggle,\n.main-navigation__nav .nav--mobile .abper-112-toggle {\n    display: block;\n}\n@media screen and (min-width: 1024px) {\n    .ek-global-navigation .menu--opened .abper-112-toggle,\n    .main-navigation__nav .nav--mobile .abper-112-toggle {\n        display: none;\n    }\n}\n.ek-global-navigation .menu--opened .abper-112-toggle+div,\n.main-navigation__nav .nav--mobile .abper-112-toggle+div {\n    display: block;\n}\n.main-navigation__nav .nav--mobile .abper-112-toggle-container {\n    padding: 15px;\n}\n.abper-112-hidden-mobile {\n    display: none !important;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-hidden-mobile {\n        display: inline-block !important;\n    }\n}\n.abper-112-hidden-desktop {\n    display: inline-block !important;\n}\n@media screen and (min-width: 1024px) {\n    .abper-112-hidden-desktop {\n        display: none !important;\n    }\n}",html:'<div id="bx-modal_overlay">\n    <div class="bx-modal_content abper-112-modal">\n        \n        <div class="bx-options" id="bx-options">\n            <div id="abper-112-feedback-content" class="abper-112-feedback-content">\n                <a class="abper-112-link abper-112-feedback abper-112-submit-feedback" id="bx-feedback_option" role="link" tabindex="0">\n                    <i class="abper-112-icon abper-112-icon-feedback"></i>\n                    <h2 class="abper-112-title">Leave app feedback</h2>\n                    <hr class="abper-112-hr">\n                    <p class="abper-112-text">Your opinion is important to us. Help us improve your online experience.</p>\n                    <span class="abper-112-button abper-112-secondary abper-112-submit-feedback">Submit feedback</span>\n                </a>\n                <a class="abper-112-link abper-112-contact" id="bx-contact_link" href="https://www.emirates.com/uk/english/help/" role="link"\n                    tabindex="0">\n                    <i class="abper-112-icon abper-112-icon-contact"></i>\n                    <h2 class="abper-112-title">Get in touch</h2>\n                    <hr class="abper-112-hr">\n                    <p class="abper-112-text">Need answers? Here are the most convenient ways to contact us</p>\n                    <span class="abper-112-button abper-112-secondary">Contact us</span>\n                </a>\n                <a class="abper-112-link abper-112-complaint" id="bx-complaint_link" href="https://www.emirates.com/uk/english/help/complaint.aspx" role="link" tabindex="0">\n                    <i class="abper-112-icon abper-112-icon-complaint"></i>\n                    <h2 class="abper-112-title">Raise a concern</h2>\n                    <hr class="abper-112-hr">\n                    <p class="abper-112-text">If you\'ve had a less than satisfying experience, we\'d like to hear from you.</p>\n                    <span class="abper-112-button abper-112-secondary">Submit a complaint</span>\n                </a>\n            </div>\n        </div>\n\n      <div class="bx-rating bx-hidden qubit-VisitorPulse-question" id="bx-rating">\n          <h1 class="bx-header_question" id="bx-header_question">How satisfied were you with your website experience?</h1>\n            <fieldset class="rating" id="bx-rating_buttons" >\n                <input type="radio" id="star1" name="rating" value="1" /><label tabindex="5" class="bx-star1 bx-star" for="star1" rating="1"></label>\n                <input type="radio" id="star2" name="rating" value="2" /><label tabindex="4" class="bx-star2 bx-star" for="star2" rating="2"></label>\n                <input type="radio" id="star3" name="rating" value="3" /><label tabindex="3" class="bx-star3 bx-star" for="star3" rating="3" ></label>\n                <input type="radio" id="star4" name="rating" value="4" /><label tabindex="2" class="bx-star4 bx-star" for="star4" rating="4" ></label>\n                <input type="radio" id="star5" name="rating" value="5" /><label tabindex="1" class="bx-star5 bx-star" for="star5" rating="5" ></label>\n            </fieldset>\n      </div>\n\n        <div class="bx-comment bx-hidden" id="bx-comment">\n            <h1 class="bx-header_question">How satisfied are you with the Emirates App experience?</h1>\n            <textarea class="bx-comment_textarea" id="bx-comment_textarea" maxlength="1500" placeholder="Tell us how we can make your experience better*"></textarea>\n            <div class="bx-comment_warning">* Do not enter personal information here</div>\n            <div class="bx-comment_submit qubit-VisitorPulse-submit" id="bx-submit_feedback" role="button" tabindex="0">Submit feedback</div>\n        </div>\n\n        <div class="bx-thank_you bx-hidden" id="bx-thank_you">\n            <div class="qubit-VisitorPulse-thankYou" aria-hidden="false">\n                <div class="abper-112-thank-you">\n                    <i class="abper-112-icon-check abper-112-hidden-desktop"></i>\n                    <div class="qubit-VisitorPulse-thankYouText">Thank you for your feedback</div>\n                    <i class="abper-112-icon-check abper-112-hidden-mobile"></i>\n                    <p class="abper-112-text">If you have any questions or need help please visit our\n                        <a class="abper-112-faq-link" id="bx-faq_link" href="https://www.emirates.com/uk/english/help/faqs/"\n                            title="">FAQ</a> or\n                        <a class="abper-112-contact-us-link" id="bx-contact_link2" href="https://www.emirates.com/uk/english/help/"\n                            title="">Contact us</a> section.\n                    </p>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n\n\n',js:'insertHTMLAfter(\'body\');\n\n/* Get all elements required */\nvar bxModal = document.getElementById(\'bx-modal_overlay\');\nvar bxFeedback = document.getElementById(\'bx-feedback_option\');\nvar bxOptions = document.getElementById(\'bx-options\');\nvar bxRating = document.getElementById(\'bx-rating\');\nvar bxRatingButtons = document.getElementById(\'bx-rating_buttons\');\nvar bxComment = document.getElementById(\'bx-comment\');\nvar bxCommentTextarea = document.getElementById(\'bx-comment_textarea\');\nvar bxSubmitFeedback = document.getElementById(\'bx-submit_feedback\');\nvar bxThankYou = document.getElementById(\'bx-thank_you\');\nvar bxModalOverlay = document.getElementById(\'bx-modal_overlay\');\nvar bxStars = document.getElementsByClassName("bx-star");\nvar ratingValue = 0;\n\nfunction closeModal() {\n    bxThankYou.style.display = \'none\';\n    bxComment.style.display = \'none\';\n    bxRating.style.display = \'none\';\n    bxOptions.style.display = \'flex\';\n    bxModal.style.display = \'none\';\n    if (document.querySelector(".rating > input:checked")) {\n        document.querySelector(".rating > input:checked").checked = false;\n        bxCommentTextarea.value = "";\n    }\n}\n\nfunction getPos() {\n    var re = new RegExp(\'emirates.com\\/[a-z]{2}\\/\');\n    var matches = re.exec(window.location.href);\n    if (matches && matches.length > 0)\n        return matches[0].substring(0, matches[0].length - 1);\n    else\n        return "emirates.com";\n}\n\nbxModal.style.display = \'flex\';\n\nbxFeedback.onclick = function() {\n    bxOptions.style.display = \'none\';\n    bxRating.style.display = \'block\';\n};\n\nfor (var i = 0; i < bxStars.length; i++) {\n\tbxStars[i].onclick = function () {\n        ratingValue = this.getAttribute("rating");\n        bxRating.style.display = \'none\';\n        bxComment.style.display = \'block\'; \n\t};\n}\n\nfunction getGaClientId() {\n    var clientId = "";\n    dataLayer.forEach(function(d) {\n        if (d.GA_ID) {\n            clientId = d.GA_ID;\n        }\n    });\n    return clientId;\n}\n\nfunction getQmSessionId() {\n    var sessionId = "";\n    dataLayer.forEach(function(d) {\n        if (d.QMSessionID) {\n            sessionId = d.QMSessionID;\n        }\n    });\n    return sessionId;\n}\n\nbxSubmitFeedback.onclick = function() {\n    bxThankYou.style.display = \'block\';\n    bxComment.style.display = \'none\';\n    if (ratingValue && ratingValue > 0) {\n        var feedbackEvent = {\n            "channel": "MOBILE_APP",\n            "type": "FEEDBACK",\n            "language": dataLayer[0].languageCode,\n            "currency": dataLayer[0].posSiteCurrencyCode,\n            "page": dataLayer[0].pageName,\n            "pos": getPos(),\n            "browser_id": Boxever.getID(),\n            "rating": ratingValue,\n            "comment": document.getElementById(\'bx-comment_textarea\').value,\n            "survey_id": "129514",\n            "question_text": document.getElementById(\'bx-header_question\').textContent,\n            "page_category": dataLayer[0].pageCategory ? dataLayer[0].pageCategory : "",\n            "visitor_session_id": dataLayer[0].visitorSessionID ? dataLayer[0].visitorSessionID : "",\n            "platform_type": dataLayer[0].platformType ? dataLayer[0].platformType : "",\n            "country_region": dataLayer[0].countryRegion ? dataLayer[0].countryRegion : "",\n            "member_tier": dataLayer[0].memberTier ? dataLayer[0].memberTier : "",\n            "page_url": window.location.href,\n            "ga_client_id": getGaClientId(),\n            "qm_session_id": getQmSessionId()\n        };\n        Boxever.eventCreate(feedbackEvent, function (data) { }, \'json\');\n    }\n};\n\nvar pos = getPos();\ndocument.getElementById(\'bx-contact_link\').setAttribute("href", ("https://www." + pos + "/english/help/") );\ndocument.getElementById(\'bx-complaint_link\').setAttribute("href", ("https://www." + pos + "/english/help/complaint.aspx") );\ndocument.getElementById(\'bx-faq_link\').setAttribute("href", ("https://www." + pos + "/english/help/faqs/") );\ndocument.getElementById(\'bx-contact_link2\').setAttribute("href", ("https://www." + pos + "/english/help/") );\n\n/* Add feedback to card on Help page */\nif (document.querySelector(\'ul.help-centre-feedback__cards-container > li [data-link="Complaints and feedback:Website feedback"]\')) {\n    var helpFeedbackCard =  document.querySelector(\'ul.help-centre-feedback__cards-container > li [data-link="Complaints and feedback:Website feedback"]\');\n    helpFeedbackCard.onclick = function() {\n        bxOptions.style.display = \'none\';\n        bxRating.style.display = \'block\';\n        bxModal.classList.remove("bx-hidden_important");\n        bxModal.style.display = \'flex\';\n    };\n}\n\n\n\n'}}],notificationEnabled:!1},{ref:"7203297b-8653-4c05-8ffa-f422b6badcdd",name:"VOC - End of Journey - IBE",revision:57,archived:!1,target:{script:'var inclusions = [\n    "bookingConfirmation",\n    "/booking/confirmation",\n    "FlightConfirmation",\n    "/MYB/UpgradeConfirmation",\n    "/MYB/SeatConfirmation",\n    "/MYB/MYBConfirmation",\n    "/MAB/MYB/ExBgUpgradeConfirmation"                \n];\n\nfunction isIncluded() {\n    for (var i = 0; i < inclusions.length; i++) {\n        if (window.location.href.indexOf(inclusions[i]) >= 0)\n            return true;\n    }\n    return false;\n}\n\nfunction isEnglish() {\n    return dataLayer[0].languageCode.substr(0,2) === "EN";\n}\n\nfunction triggerVOC() {\n    if (isIncluded() && isEnglish()) {\n        targetingPassed();\n    }\n}\n\ntriggerVOC();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"d853d44e-7f7f-4036-9cc2-912efe19f209",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"d853d44e-7f7f-4036-9cc2-912efe19f209",name:"Personalisation",assets:{css:'/* Font Styles */\r\n.noto-sans-display-regular {\r\n  font-family: "Noto Sans Display", sans-serif;\r\n  font-optical-sizing: auto;\r\n  font-weight: 400;\r\n  font-style: normal;\r\n  font-variation-settings:\r\n    "wdth" 100;\r\n}\r\n\r\n.noto-sans-display-light {\r\n  font-family: "Noto Sans Display", sans-serif;\r\n  font-optical-sizing: auto;\r\n  font-weight: 300;\r\n  font-style: normal;\r\n  font-variation-settings:\r\n    "wdth" 100;\r\n}\r\n\r\n.noto-sans-display-medium {\r\n  font-family: "Noto Sans Display", sans-serif;\r\n  font-optical-sizing: auto;\r\n  font-weight: 500;\r\n  font-style: normal;\r\n  font-variation-settings:\r\n    "wdth" 100;\r\n}\r\n\r\n/* Modal Overlay */\r\n#bx-modal_overlay {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: fixed;\r\n  z-index: 999999;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  -webkit-backdrop-filter: blur(10px);\r\n  backdrop-filter: blur(10px);\r\n  background-color: rgba(0,0,0,0.1);\r\n  font-family: Arial,HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\r\n}\r\n\r\n/* Modal Content */\r\n#bx-modal_overlay .bx-modal_content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  background-color: #FFF;\r\n  margin: 0px auto;\r\n  border-radius: 10px;\r\n  height: 100%;\r\n  max-width: 728px;\r\n  width: 90%;\r\n  border: none;\r\n  padding: 32px;\r\n  gap: 10px;\r\n  height: auto;\r\n  text-align: center;\r\n}\r\n\r\n/* Utility Classes */\r\n.bx-hidden {\r\n  display: none;\r\n}\r\n\r\n/* Header Styles */\r\n.bx-header_question {\r\n  height: 68px;\r\n  align-self: center;\r\n  flex-grow: 0;\r\n  font-size: 24px;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.4;\r\n  letter-spacing: 0.48px;\r\n  text-align: center;\r\n  color: #444;\r\n  margin: auto;\r\n  margin-bottom: 16px;\r\n  max-width: 90%;\r\n}\r\n\r\n.bx-header_subtext {\r\n  text-align: left;\r\n  color: #444;\r\n  flex-grow: 1;\r\n  font-size: 18px;\r\n  font-weight: 300;\r\n  line-height: 1.5;\r\n  padding: 10px 0 25px 0;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .bx-modal_content h4 {\r\n    max-width: 80%;\r\n  }\r\n}\r\n\r\n/* Comment Section */\r\n.bx-comment > .bx-comment_textarea {\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  min-height: 66px;\r\n  max-height: 300px;\r\n  width: 100%;\r\n  border: 1px solid #d8d8d8;\r\n  border-radius: 8px;\r\n  resize: vertical;\r\n  overflow-y: auto;\r\n}\r\n\r\n.bx-comment_textarea_input {\r\n  resize: vertical;\r\n  /* overflow-y: auto; */\r\n  resize: none;\r\n  width: 100%;\r\n  text-align: left;\r\n  margin: 25px 0 10px 0;\r\n  padding: 0 10px;\r\n  font-size: 16px;\r\n  flex-grow: 1;\r\n  line-height: 1.5;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  letter-spacing: 0.64px;\r\n  color: #444;\r\n  border: none;\r\n  vertical-align: middle;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.bx-comment_textarea_input:focus {\r\n  outline: none;\r\n  border: none;\r\n  box-shadow: none;\r\n}\r\n\r\n.bx-comment > .bx-comment_warning {\r\n  height: 18px;\r\n  align-self: stretch;\r\n  flex-grow: 0;\r\n  font-size: 12px;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.5;\r\n  letter-spacing: 0.6px;\r\n  text-align: left;\r\n  color: #444;\r\n  margin-top: 10px;\r\n}\r\n\r\n.bx-radio_label {\r\n  display: none;\r\n}\r\n\r\n/* Rating Stars */\r\n.rating {\r\n  display: inline-block;\r\n  border: none;\r\n  height: 64px;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.rating:not(:checked)>input {\r\n  position: absolute;\r\n  top: -9999px;\r\n  clip: rect(0, 0, 0, 0);\r\n}\r\n\r\n.bx-star {\r\n  margin-right: 10px;\r\n}\r\n\r\n.rating>.bx-star>.bx-star5 {\r\n  fill: #32753A;\r\n}\r\n\r\n.rating>.bx-star>.bx-star4 {\r\n  fill: #438536;\r\n}\r\n\r\n.rating>.bx-star>.bx-star3 {\r\n  fill: #B15A03;\r\n}\r\n\r\n.rating>.bx-star>.bx-star2 {\r\n  fill: #A30007;\r\n}\r\n\r\n.rating>.bx-star>.bx-star1 {\r\n  fill: #8D0203;\r\n}\r\n\r\n.rating > label:active {\r\n  position: relative;\r\n  top: 2px;\r\n  left: 2px;\r\n}\r\n\r\n.abper-112-text {\r\n  flex-grow: 1;\r\n  font-size: 14px;\r\n  line-height: 1.5;\r\n  margin: 12px 0 16px;\r\n  padding-bottom: 0;\r\n}\r\n\r\n.qubit-VisitorPulse-thankYouText {\r\n  flex-grow: 0;\r\n  font-size: 18px;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.5;\r\n  letter-spacing: 0.36px;\r\n  text-align: center;\r\n  color: #444;\r\n  margin-top: 10px;\r\n}\r\n\r\n/* Thank You Section */\r\n.bx-thank_you {\r\n  padding: 30px 20px 20px;\r\n}\r\n\r\n/* Close Button */\r\n.bx-modal__btn-close-icon {\r\n  background: transparent;\r\n  top: 0;\r\n  right: 0;\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-top: 5px;\r\n  margin-right: 25px;\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.bx-modal__btn-close-icon:after {\r\n  content: \'\';\r\n  height: 15px;\r\n  border-left: 2px solid #75808F;\r\n  position: absolute;\r\n  transform: rotate(45deg);\r\n}\r\n\r\n.bx-modal__btn-close-icon:before {\r\n  content: \'\';\r\n  height: 15px;\r\n  border-left: 2px solid #75808F;\r\n  position: absolute;\r\n  transform: rotate(-45deg);\r\n}\r\n\r\n.qubit-VisitorPulse-submit {\r\n  display: flex; \r\n  justify-content: center; \r\n  align-items: center; \r\n  background-color: #d71921;\r\n  height: 56px;\r\n  max-width: 200px;\r\n  border-radius: 8px; \r\n  flex-grow: 0;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  font-stretch: normal;\r\n  font-style: normal;\r\n  line-height: 1.5;\r\n  letter-spacing: 0.32px;\r\n  text-align: center;\r\n  color: #fff;\r\n  margin: 0 auto;\r\n  margin-top: 32px;\r\n  cursor: pointer;\r\n}\r\n\r\n.bx-comment_submit:hover {\r\n  box-shadow: 0 0 5px 3px #999;\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n  #bx-modal_overlay .bx-modal_content {\r\n    padding: 24px;\r\n    gap: 0;\r\n  }\r\n\r\n  .bx-header_question {\r\n    height: 44px;\r\n    font-size: 16px;\r\n    letter-spacing: 0.32px;\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .bx-star5 svg, .bx-star4 svg, .bx-star3 svg, .bx-star2 svg,  .bx-star1 svg{\r\n      width: 48px;\r\n      height: 48px;\r\n  }\r\n  \r\n  .bx-header_subtext {    \r\n    font-size: 16px;\r\n    line-height: 1.4;\r\n  }\r\n  \r\n  .bx-modal__btn-close-icon {\r\n    margin-right: 8px !important;\r\n  }\r\n\r\n  .qubit-VisitorPulse-submit {\r\n    font-size: 14px;\r\n    letter-spacing: 0.28px;\r\n  }\r\n\r\n  .abper-112-text {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .qubit-VisitorPulse-thankYouText {\r\n    font-size: 16px;\r\n  }\r\n\r\n}\r\n\r\n@media only screen and (max-width: 400px) {\r\n  #bx-modal_overlay .bx-modal_content {\r\n    width: 95%;\r\n  }\r\n}',html:'<link rel="preconnect" href="https://fonts.googleapis.com">\r\n<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\r\n<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Display:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">\r\n<div id="bx-modal_overlay">\r\n    <div class="bx-modal_content abper-112-modal">\r\n        <div class="bx-rating qubit-VisitorPulse-question" id="bx-rating">\r\n            <h1 class="bx-header_question noto-sans-display-medium" id="bx-header_question">\r\n            </h1>\r\n            <fieldset class="rating" id="bx-rating_buttons">\r\n\t\t\t\t<input type="radio" id="star5" name="rating" value="5" />\r\n\t\t\t\t<label tabindex="1" class="bx-star5 bx-star" for="star5" rating="5">\r\n\t\t\t\t\t<svg class="bx-star5" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M2.667 32C2.667 15.758 15.757 2.667 32 2.667c16.242 0 29.333 13.09 29.333 29.333 0 16.242-13.09 29.333-29.333 29.333-16.242 0-29.333-13.09-29.333-29.333zm56.116 0A26.675 26.675 0 0 0 32 5.217 26.675 26.675 0 0 0 5.217 32 26.675 26.675 0 0 0 32 58.783 26.675 26.675 0 0 0 58.783 32zM19.092 20.367a3.826 3.826 0 1 1 5.41 5.411 3.826 3.826 0 0 1-5.41-5.411zm20.406 0a3.826 3.826 0 1 1 5.41 5.411 3.826 3.826 0 0 1-5.41-5.411zm5.415 21.808c-2.055 3.77-6.07 7.68-12.915 7.68-6.845 0-10.86-3.91-12.916-7.68-2.056-3.768-2.384-7.51-2.384-7.51a1.276 1.276 0 0 1 1.48-1.372s7.613 1.258 13.82 1.258c6.206 0 13.82-1.258 13.82-1.258a1.275 1.275 0 0 1 1.479 1.372s-.328 3.742-2.384 7.51zm-23.594-1.22c1.77 3.246 4.77 6.35 10.679 6.35 5.909 0 8.908-3.104 10.678-6.35a17.173 17.173 0 0 0 1.781-4.9c-2.114.323-7.161 1.046-12.46 1.046-5.298 0-10.345-.723-12.459-1.046a17.17 17.17 0 0 0 1.781 4.9z"/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t\t\r\n\t\t\t\t</label>\r\n                <input type="radio" id="star4" name="rating" value="4" />\r\n\t\t\t\t<label tabindex="2" class="bx-star4 bx-star" for="star4" rating="4">\r\n\t\t\t\t\t<svg class="bx-star4" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t<path d="M32 2.667C15.758 2.667 2.667 15.757 2.667 32c0 16.242 13.09 29.333 29.333 29.333 16.242 0 29.333-13.09 29.333-29.333 0-16.242-13.09-29.333-29.333-29.333zm0 2.55A26.675 26.675 0 0 1 58.783 32 26.675 26.675 0 0 1 32 58.783 26.675 26.675 0 0 1 5.217 32 26.675 26.675 0 0 1 32 5.217zm-10.203 14.03a3.826 3.826 0 1 0 0 7.652 3.826 3.826 0 0 0 0-7.653zm20.406 0a3.826 3.826 0 1 0 0 7.652 3.826 3.826 0 0 0 0-7.653zm-26.837 17.84a1.276 1.276 0 0 0-.984 2.032S21.053 48.58 32 48.58s17.618-9.46 17.618-9.46a1.277 1.277 0 1 0-2.077-1.484s-6.082 8.394-15.54 8.394c-9.46 0-15.542-8.395-15.542-8.395a1.275 1.275 0 0 0-1.093-.547z"/>\r\n\t\t\t\t\t</svg>\t\t\t\t\t\r\n\t\t\t\t</label>\r\n                <input type="radio" id="star3" name="rating" value="3" />\r\n\t\t\t\t<label tabindex="3" class="bx-star3 bx-star" for="star3" rating="3">\r\n\t\t\t\t\t<svg class="bx-star3" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M2.667 32C2.667 15.758 15.757 2.667 32 2.667c16.242 0 29.333 13.09 29.333 29.333 0 16.242-13.09 29.333-29.333 29.333-16.242 0-29.333-13.09-29.333-29.333zm56.116 0A26.675 26.675 0 0 0 32 5.217 26.675 26.675 0 0 0 5.217 32 26.675 26.675 0 0 0 32 58.783 26.675 26.675 0 0 0 58.783 32zM19.092 20.367a3.826 3.826 0 1 1 5.41 5.411 3.826 3.826 0 0 1-5.41-5.411zm20.406 0a3.826 3.826 0 1 1 5.41 5.411 3.826 3.826 0 0 1-5.41-5.411zm-18.973 20.56a1.275 1.275 0 0 0 0 2.551h22.957a1.275 1.275 0 0 0 0-2.55H20.525z"/>\r\n\t\t\t\t\t</svg>\t\t\t\t\t\r\n\t\t\t\t</label>\r\n                <input type="radio" id="star2" name="rating" value="2" />\r\n\t\t\t\t<label tabindex="4" class="bx-star2 bx-star" for="star2" rating="2">\r\n\t\t\t\t\t<svg class="bx-star2" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M32 2.667C15.814 2.667 2.667 15.814 2.667 32S15.814 61.333 32 61.333 61.333 48.186 61.333 32c0-16.117-13.04-29.202-29.131-29.313a1.274 1.274 0 0 0-.202-.02zm0 2.55c14.808 0 26.783 11.975 26.783 26.783 0 14.808-11.975 26.783-26.783 26.783C17.192 58.783 5.217 46.808 5.217 32 5.217 17.192 17.192 5.217 32 5.217zm-10.203 14.03a3.826 3.826 0 1 0 0 7.652 3.826 3.826 0 0 0 0-7.653zm20.406 0a3.826 3.826 0 1 0 0 7.652 3.826 3.826 0 0 0 0-7.653zM32 37.1c-8.219 0-13.655 5.476-13.655 5.476a1.275 1.275 0 1 0 1.803 1.803S24.915 39.652 32 39.652s11.852 4.728 11.852 4.728a1.275 1.275 0 1 0 1.803-1.803S40.22 37.1 32 37.1z"/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</label>\r\n                <input type="radio" id="star1" name="rating" value="1" />\r\n                <label tabindex="5" class="bx-star1 bx-star" for="star1" rating="1">\r\n                    <svg class="bx-star1" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.667 32C2.667 15.758 15.756 2.667 32 2.667c16.242 0 29.333 13.09 29.333 29.333 0 16.242-13.09 29.333-29.333 29.333S2.666 48.243 2.666 32zm56.115 0A26.675 26.675 0 0 0 32 5.217 26.675 26.675 0 0 0 5.217 32 26.675 26.675 0 0 0 32 58.783 26.675 26.675 0 0 0 58.782 32zm-39.69-11.633a3.826 3.826 0 1 1 5.41 5.411 3.826 3.826 0 0 1-5.41-5.411zm20.405 0a3.826 3.826 0 1 1 5.411 5.411 3.826 3.826 0 0 1-5.41-5.411zM19.087 39.68c2.055-3.77 6.07-7.68 12.915-7.68 6.845 0 10.86 3.91 12.916 7.68 2.056 3.768 2.384 7.51 2.384 7.51a1.275 1.275 0 0 1-1.48 1.372s-7.613-1.258-13.82-1.258-13.82 1.258-13.82 1.258a1.277 1.277 0 0 1-1.48-1.372s.329-3.742 2.385-7.51zM42.68 40.9c-1.77-3.246-4.77-6.35-10.679-6.35-5.909 0-8.908 3.104-10.678 6.35a17.17 17.17 0 0 0-1.781 4.9c2.114-.323 7.16-1.046 12.46-1.046 5.298 0 10.345.723 12.459 1.046a17.17 17.17 0 0 0-1.781-4.9z"/>\r\n                    </svg>\r\n                </label>\r\n            </fieldset>\r\n        </div>\r\n\r\n        <div class="bx-comment bx-hidden" id="bx-comment">\r\n            <p class="bx-header_subtext noto-sans-display-light">Could you share more about why you gave that rating?</p>\r\n\t\t\t<div class="bx-comment_textarea">\r\n\t\t\t\t<textarea class="bx-comment_textarea_input noto-sans-display-light" id="bx-comment_textarea" maxlength="1500" placeholder="Enter feedback here"></textarea>\r\n\t\t\t</div>\r\n            <div class="bx-comment_warning noto-sans-display-light">Do not enter personal information here</div>\r\n            <div class="bx-comment_submit qubit-VisitorPulse-submit .noto-sans-display-regular" id="bx-ibe_submit_feedback" role="button" tabindex="0">Submit</div>\r\n        </div>\r\n\r\n        <div class="bx-thank_you bx-hidden" id="bx-thank_you">\r\n            <div class="qubit-VisitorPulse-thankYou" aria-hidden="false">\r\n                <div class="abper-112-thank-you">\r\n                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path d="M14.243 19.28c.15.15.341.226.573.226a.75.75 0 0 0 .552-.226l5.914-5.964-1.146-1.148-5.32 5.39-2.824-2.766-1.146 1.127 3.397 3.361z" fill="#15700E"/>\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M16 0C7.163 0 0 7.163 0 16s7.163 16 16 16 16-7.163 16-16S24.837 0 16 0zM.854 16C.854 7.635 7.635.854 16 .854 24.365.854 31.146 7.635 31.146 16c0 8.365-6.781 15.146-15.146 15.146C7.635 31.146.854 24.365.854 16z" fill="#15700E"/>\r\n                    </svg>\r\n                    \r\n                    <div class="qubit-VisitorPulse-thankYouText noto-sans-display-medium"> Thank you for your feedback</div>\r\n                    <p class="abper-112-text noto-sans-display-light"> If you have any questions or need help please visit our\r\n                        <a class="abper-112-faq-link" id="bx-faq_link" href="https://www.emirates.com/uk/english/help/faqs/" title="">FAQ</a> or\r\n                        <a class="abper-112-contact-us-link" id="bx-contact_link" href="https://www.emirates.com/uk/english/help/" title="">Contact us</a> section\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="bx-modal__btn-close-icon"></div>\r\n    </div>\r\n</div>\r\n',js:'\r\n// Wrap the whole experience code inside a function\r\nfunction display_voc_experience() {\r\n\r\n    insertHTMLAfter(\'body\');\r\n    \r\n    document.body.classList.add("show-TopBanner");\r\n    \r\n    var bxModal           = document.getElementById("bx-modal_overlay");\r\n    var bxFeedback        = document.getElementById("bx-feedback_option");\r\n    var bxRating          = document.getElementById("bx-rating");\r\n    var bxModalClose      = document.querySelector(".bx-modal__btn-close-icon");\r\n    var bxRatingButtons   = document.getElementById("bx-rating_buttons");\r\n    var bxComment         = document.getElementById("bx-comment");\r\n    var bxCommentTextarea = document.getElementById("bx-comment_textarea");\r\n    var bxSubmitFeedback  = document.getElementById("bx-ibe_submit_feedback");\r\n    var bxThankYou        = document.getElementById("bx-thank_you");\r\n    var bxModalOverlay    = document.getElementById("bx-modal_overlay");\r\n    var bxContactLink     = document.getElementById("bx-contact_link");\r\n    var bxStars           = document.getElementsByClassName("bx-star");\r\n    var ratingValue       = 0;\r\n    var countryRegion = dataLayer[0].countryRegion ? dataLayer[0].countryRegion : "";\r\n    \r\n    var bookingConfirmation = [\r\n    \t"bookingConfirmation",\r\n    \t"/booking/confirmation",\r\n    \t"FlightConfirmation"\r\n    ];\r\n    var baggageConfirmation = [\r\n        "/MAB/MYB/ExBgUpgradeConfirmation"                \r\n    ];\r\n    var seatConfirmation = [\r\n        "/MYB/SeatConfirmation",\r\n    ]\r\n    var upgradeConfirmation = [\r\n        "/MYB/UpgradeConfirmation",\r\n    ]\r\n    var MYBConfirmation = [\r\n        "/MYB/MYBConfirmation"\r\n    ]\r\n    \r\n    var headingElement = document.querySelector("#bx-header_question");\r\n    \r\n    // Get the current page URL\r\n    var pageUrl = window.location.href;\r\n    \r\n    // Check if the pageUrl contains any string from the bookings array\r\n    if (bookingConfirmation.some(term => pageUrl.includes(term))) {\r\n        headingElement.textContent = "How easy was it to book a flight?";\r\n    } \r\n    // Check if the pageUrl contains any string from the olci array\r\n    else if (baggageConfirmation.some(term => pageUrl.includes(term))) {\r\n        headingElement.textContent = "How easy was it to purchase additional baggage?";\r\n    } \r\n    // Check if the pageUrl contains any string from the olci array\r\n    else if (seatConfirmation.some(term => pageUrl.includes(term))) {\r\n        headingElement.textContent = "How easy was it to select a seat?";\r\n    } \r\n    // Check if the pageUrl contains any string from the olci array\r\n    else if (upgradeConfirmation.some(term => pageUrl.includes(term))) {\r\n        headingElement.textContent = "How easy was it to upgrade your flight?";\r\n    } \r\n    // Check if the pageUrl contains any string from the olci array\r\n    else if (MYBConfirmation.some(term => pageUrl.includes(term))) {\r\n        headingElement.textContent = "How easy was it to make a change to this booking?";\r\n    } \r\n    // Default case if no match is found\r\n    else {\r\n        headingElement.textContent = "How satisfied were you with your website experience?";\r\n    }\r\n    \r\n    // Increase textarea size if user adds text more then 2 lines\r\n    const textarea = document.querySelector(\'.bx-comment_textarea_input\');\r\n    textarea.addEventListener(\'input\', () => {\r\n      textarea.style.height = \'auto\';\r\n      textarea.style.height = textarea.scrollHeight + \'px\';\r\n    });\r\n    \r\n    function closeModal() {\r\n        bxThankYou.style.display = "none";\r\n        bxComment.style.display = "none";\r\n        bxRating.style.display = "none";\r\n        bxModal.style.display = "none";\r\n        if (document.querySelector(".rating > input:checked")) {\r\n            document.querySelector(".rating > input:checked").checked = false;\r\n            bxCommentTextarea.value = "";\r\n        }\r\n    }\r\n    \r\n    function getPos() {\r\n        var re = new RegExp("emirates.com/[a-z]{2}/");\r\n        var matches = re.exec(window.location.href);\r\n        if (matches && matches.length > 0)\r\n            return matches[0].substring(0, matches[0].length - 1);\r\n        else return "emirates.com";\r\n    }\r\n    \r\n    function getCountryCode() {\r\n        var pos = getPos();\r\n        return pos.substring(pos.length - 2);\r\n    }\r\n    \r\n    function getSurveyId() {\r\n        var re = new RegExp(\'OLCI\\/BoardingDelivery\');\r\n        var matches = re.exec(window.location.href);\r\n        if (matches && matches.length > 0)\r\n            return "159122";\r\n        var re = new RegExp(\'MYB\');\r\n        var matches = re.exec(window.location.href);\r\n        if (matches && matches.length > 0)\r\n            return "1300088";\r\n        else\r\n            return "152417";\r\n    }\r\n    \r\n    function getGaClientId() {\r\n        var clientId = "";\r\n        dataLayer.forEach(function(d) {\r\n            if (d.GA_ID) {\r\n                clientId = d.GA_ID;\r\n            }\r\n        });\r\n        return clientId;\r\n    }\r\n    \r\n    function getQmSessionId() {\r\n        var sessionId = "";\r\n        dataLayer.forEach(function(d) {\r\n            if (d.QMSessionID) {\r\n                sessionId = d.QMSessionID;\r\n            }\r\n        });\r\n        return sessionId;\r\n    }\r\n    \r\n    function onClickRatingStar() {\r\n        ratingValue = this.getAttribute("rating");\r\n    }\r\n    \r\n    for (var i = 0; i < bxStars.length; i++) {\r\n    \tbxStars[i].onclick = onClickRatingStar;\r\n    }\r\n    \r\n    document.querySelectorAll(\'.rating input[type="radio"]\').forEach((radio) => {\r\n    \tradio.addEventListener("change", (event) => {\r\n    \t\tconst clickedId = event.target.id; // Get the clicked radio\'s id\r\n            // Find the associated SVG and set its original color\r\n            const label = document.querySelector(`label[for="${clickedId}"]`);\r\n            const svg = label.querySelector("svg");\r\n            const originalColor = getComputedStyle(svg).getPropertyValue("fill");\r\n    \t\t\r\n            // Reset all icons to #999\r\n            document.querySelectorAll(".bx-star1, .bx-star2, .bx-star3, .bx-star4, .bx-star5").forEach((svg) => {\r\n    \t\t\tsvg.style.fill = "#999";\r\n    \t\t});\r\n    \t\t\r\n    \t\tbxComment.style.display = \'block\';\r\n            svg.style.fill = originalColor; // Reset clicked icon\'s color\r\n        });\r\n    });\r\n    \r\n    function getDeviceType() {\r\n        \r\n        var defaultOptions = {\r\n            emptyUserAgentDeviceType: \'desktop\',\r\n            botUserAgentDeviceType: \'bot\',\r\n            carUserAgentDeviceType: \'car\',\r\n            consoleUserAgentDeviceType: \'tv\',\r\n            tvUserAgentDeviceType: \'tv\'\r\n        };\r\n    \r\n        var ua = navigator.userAgent || \'\';\r\n    \r\n        if (!ua || ua === \'\') {\r\n            // No user agent.\r\n            return defaultOptions.emptyUserAgentDeviceType;\r\n        }\r\n        // overwrite Flipboard user agent otherwise it\'s detected as a desktop\r\n        if (ua.match(/FlipboardProxy/i))\r\n            ua = \'FlipboardProxy/1.1;  http://flipboard.com/browserproxy\';\r\n        if (ua.match(/Applebot/i))\r\n            ua = \'Applebot/0.1;  http://www.apple.com/go/applebot\';\r\n        if (ua.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|hbbtv|CrKey|CE\\-HTML/i)) {\r\n            // if user agent is a smart TV - http://goo.gl/FocDk\r\n            return defaultOptions.tvUserAgentDeviceType;\r\n        } else if (ua.match(/Xbox|PLAYSTATION (3|4)|Wii/i)) {\r\n            // if user agent is a TV Based Gaming Console\r\n            return defaultOptions.consoleUserAgentDeviceType;\r\n        } else if (ua.match(/QtCarBrowser/i)) {\r\n            // if the user agent is a car\r\n            return defaultOptions.carUserAgentDeviceType;;\r\n        } else if (ua.match(/Googlebot|bingbot/i)) {\r\n            // if user agent is a BOT/Crawler/Spider\r\n            return defaultOptions.botUserAgentDeviceType;\r\n        } else if (ua.match(/WhatsApp/i)) {\r\n            // if user agent is a BOT/Crawler/Spider\r\n            return defaultOptions.botUserAgentDeviceType;\r\n        } else if (ua.match(/iP(a|ro)d/i) || (ua.match(/tablet/i) && !ua.match(/RX-34/i)) || ua.match(/FOLIO/i)) {\r\n            // if user agent is a Tablet\r\n            return \'tablet\';\r\n        } else if (ua.match(/Linux/i) && ua.match(/Android/i) && !ua.match(/Fennec|mobi|HTC Magic|HTCX06HT|Nexus One|SC-02B|fone 945/i)) {\r\n            // if user agent is an Android Tablet\r\n            return \'tablet\';\r\n        } else if (ua.match(/Kindle/i) || (ua.match(/Mac OS/i) && ua.match(/Silk/i)) || (ua.match(/AppleWebKit/i) && ua.match(/Silk/i) && !ua.match(/Playstation Vita/i))) {\r\n            // if user agent is a Kindle or Kindle Fire\r\n            return \'tablet\';\r\n        } else if (ua.match(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC( Flyer|_Flyer)|Sprint ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos S7|Dell Streak 7|Advent Vega|A101IT|A70BHT|MID7015|Next2|nook/i) || (ua.match(/MB511/i) && ua.match(/RUTEM/i))) {\r\n            // if user agent is a pre Android 3.0 Tablet\r\n            return \'tablet\';\r\n        } else if (ua.match(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google Wireless Transcoder/i) && !ua.match(/AdsBot-Google-Mobile/i)) {\r\n            // if user agent is unique phone User Agent\r\n            return \'phone\';\r\n        } else if (ua.match(/Opera/i) && ua.match(/Windows NT 5/i) && ua.match(/HTC|Xda|Mini|Vario|SAMSUNG\\-GT\\-i8000|SAMSUNG\\-SGH\\-i9/i)) {\r\n            // if user agent is an odd Opera User Agent - http://goo.gl/nK90K\r\n            return \'phone\';\r\n        } else if ((ua.match(/Windows( )?(NT|XP|ME|9)/) && !ua.match(/Phone/i)) && !ua.match(/Bot|Spider|ia_archiver|NewsGator/i) || ua.match(/Win( ?9|NT)/i) || ua.match(/Go-http-client/i)) {\r\n            // if user agent is Windows Desktop\r\n            return \'desktop\';\r\n        } else if (ua.match(/Macintosh|PowerPC/i) && !ua.match(/Silk|moatbot/i)) {\r\n            // if agent is Mac Desktop\r\n            return \'desktop\';\r\n        } else if (ua.match(/Linux/i) && ua.match(/X11/i) && !ua.match(/Charlotte|JobBot/i)) {\r\n            // if user agent is a Linux Desktop\r\n            return \'desktop\';\r\n        } else if (ua.match(/CrOS/)) {\r\n            // if user agent is a Chrome Book\r\n            return \'desktop\';\r\n        } else if (ua.match(/Solaris|SunOS|BSD/i)) {\r\n            // if user agent is a Solaris, SunOS, BSD Desktop\r\n            return \'desktop\';\r\n        } else if (ua.match(/Mozilla\\/5\\.0 \\(\\)|AdsBot-Google-Mobile/i) && ua.match(/Phone/i)) {\r\n            // if user agent is a BOT/Crawler/Spider\r\n            return defaultOptions.botUserAgentDeviceType;\r\n        } else if (ua.match(/Mozilla\\/5\\.0 \\(\\)|jack|Applebot|FlipboardProxy|Go 1.1 package|HTMLParser|simplereach|python-requests|ShowyouBot|MetaURI|nineconnections|(^Java\\/[0-9._]*)|Commons-HttpClient|InAGist|HTTP-Java-Client|curl|Wget|Bot|B-O-T|Crawler|Spider|Spyder|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|Charlotte|NewsGator|TinEye|Cerberian|SearchSight|Zao|Scrubby|Qseero|PycURL|Pompos|oegp|SBIder|yoogliFetchAgent|yacy|webcollage|VYU2|voyager|updated|truwoGPS|StackRambler|Sqworm|silk|semanticdiscovery|ScoutJet|Nymesis|NetResearchServer|MVAClient|mogimogi|Mnogosearch|Arachmo|Accoona|holmes|htdig|ichiro|webis|LinkWalker|lwp-trivial|facebookexternalhit|monit\\/|ELB-HealthChecker\\/|JobBot|GoogleCloudMonitoring|GoogleStackdriverMonitoring|gomezagent|apm synthetic agent|ruxitsynthetic|ktxn|khte|ktht|dynatrace|TrendsmapResolver|WinHTTP/i) && !ua.match(/phone|Playstation/i)) {\r\n            // if user agent is a BOT/Crawler/Spider\r\n            return defaultOptions.botUserAgentDeviceType;\r\n        } else {\r\n            // Otherwise returning the unknown type configured\r\n            return defaultOptions.emptyUserAgentDeviceType;\r\n        }\r\n    \r\n    };\r\n    \r\n    function callApi(url, callback) {\r\n      var xhr = new XMLHttpRequest();\r\n    \r\n      xhr.open(\'GET\', url, true);\r\n    \r\n      xhr.onreadystatechange = function () {\r\n        if (xhr.readyState === 4) { // Request completed\r\n          if (xhr.status === 200) {\r\n            try {\r\n              var response = JSON.parse(xhr.responseText);\r\n              callback(null, response); // Success\r\n            } catch (e) {\r\n              callback(\'Error parsing response JSON\'); // JSON parse error\r\n            }\r\n          } else {\r\n            callback(\'API call failed with status: \' + xhr.status); // HTTP error\r\n          }\r\n        }\r\n      };\r\n    \r\n      xhr.onerror = function () {\r\n        callback(\'Network error or request aborted\'); // Network-level error\r\n      };\r\n    \r\n      xhr.send();\r\n    }\r\n    \r\n    var country   = "";\r\n    \r\n    function submitToBoxever() {\r\n        var feedbackEvent = {\r\n            "channel"            : "WEB",\r\n            "type"               : "FEEDBACK",\r\n            "language"           : dataLayer[0].languageCode,\r\n            "currency"           : dataLayer[0].posSiteCurrencyCode,\r\n            "page"               : dataLayer[0].pageName,\r\n            "pos"                : getPos(),\r\n            "browser_id"         : Boxever.getID(),\r\n            "rating"             : ratingValue,\r\n            "comment"            : document.getElementById("bx-comment_textarea").value,\r\n            "survey_id"          : getSurveyId(),\r\n            "question_text"      : document.getElementById("bx-header_question").textContent,\r\n            "page_category"      : dataLayer[0].pageCategory ? dataLayer[0].pageCategory: "",\r\n            "visitor_session_id" : dataLayer[0].sessionID ? dataLayer[0].sessionID : "",\r\n            "platform_type"      : dataLayer[0].platformType? dataLayer[0].platformType: "",\r\n            "country_region"     : countryRegion,\r\n            "member_tier"        : dataLayer[0].memberTier ? dataLayer[0].memberTier : "",\r\n            "page_url"           : window.location.href,\r\n            "ga_client_id"       : getGaClientId(),\r\n            "qm_session_id"      : getQmSessionId(),\r\n            "device_type"        : getDeviceType(),\r\n            "country"            : country\r\n        };\r\n        Boxever.eventCreate(feedbackEvent, function (data) {}, "json");\r\n    }\r\n    \r\n    bxSubmitFeedback.onclick = function () {\r\n    \tbxThankYou.style.display = "block";\r\n    \tbxRating.style.display = "none";\r\n        bxComment.style.display = "none";\r\n        if (ratingValue && ratingValue > 0) {\r\n            \r\n            // Getting User Geo Location\r\n            callApi(\'https://www.emirates.com/service/geo\', function (err, data) {\r\n                if (err) {\r\n                    submitToBoxever();\r\n                } else {\r\n                    country = (data && data.country) ? data.country : "";\r\n                    submitToBoxever();        \r\n                }\r\n            });\r\n        }\r\n    };\r\n    \r\n    bxModalClose.onclick = function () {\r\n        closeModal();\r\n    };\r\n    \r\n    document.getElementById("bx-faq_link").setAttribute("href", "/" + getCountryCode() + "/english/help/faqs/");\r\n    document.getElementById("bx-contact_link").setAttribute("href", "/" + getCountryCode() + "/english/help/");\r\n}\r\n\r\nsetTimeout(function() {\r\n    display_voc_experience();\r\n}, 2000);'}}],notificationEnabled:!1},{ref:"951ac089-4abf-43a9-9eeb-0d28a310a2ae",name:"BOX-467 - Visitor Homepage Abandonment 20.b",revision:101,archived:!1,target:{script:'(function () {\r\n    \r\n    // Get (Non-US) English Markets\r\n    function homePageEnglishMarket() {\r\n        if (\r\n            dataLayer &&\r\n            dataLayer[0] &&\r\n            dataLayer[0].pageName === "/ Home" &&\r\n            dataLayer[0].languageCode.startsWith("EN") &&\r\n            dataLayer[0].countryCode != "US"\r\n        ) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    // Get Cookie\r\n    function getCookie(name) {\r\n        let cookieArr = document.cookie.split(";");\r\n        for (let i = 0; i < cookieArr.length; i++) {\r\n            let cookiePair = cookieArr[i].split("=");\r\n            if (name == cookiePair[0].trim()) {\r\n                return decodeURIComponent(cookiePair[1]);\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    \r\n    // Check propensities from Cookie\r\n    function isVisitorEligible() {\r\n        // Get the PLV cookie\r\n        var plvCookie = getCookie("PLV");\r\n        \r\n        if (plvCookie) {\r\n            // Parse the cookie value as JSON\r\n            var plvValue = JSON.parse(plvCookie);\r\n            \r\n            // Get the values of \'bl\' and \'al\'\r\n            var tripPurchaseClassification = plvValue.bl;\r\n            var abandonmentClassification = plvValue.al;\r\n            \r\n            if (\r\n                (tripPurchaseClassification === "Medium" || tripPurchaseClassification === "High") &&\r\n                (abandonmentClassification === "High" || abandonmentClassification === "Medium")\r\n            ) {\r\n                return true;\r\n            }\r\n        }\r\n        \r\n        return false;\r\n    }\r\n    \r\n    if (homePageEnglishMarket() && isVisitorEligible()) {\r\n      targetingPassed();\r\n    }\r\n\r\n})();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"eb7795e7-25a3-4337-9caa-8313132fec0f",lowSplit:1,highSplit:60},{ref:"d7985250-c9c9-4687-92de-6da09cb388ba",lowSplit:61,highSplit:120}],coupled:!1},variants:[{ref:"eb7795e7-25a3-4337-9caa-8313132fec0f",name:"Original",assets:{css:"",html:"",js:'function sendBoxeverEvent(eventType) {\n  let eventLabel = `BOX467_${eventType}`;\n  var event = {\n    channel: "WEB",\n    type: eventLabel,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) { }, "json");\n}\nsendBoxeverEvent("SUPPRESSED");\nsetTimeout(() => dataLayer.push({\n      event: "EventTrigger.PageBody_PromotionSuppressed",\n      category: "A/B Testing and Personalisation",\n      action: "Promotion Suppressed",\n      label:"BX:467:Control",\n      value: 0\n    }), 500);'}},{ref:"d7985250-c9c9-4687-92de-6da09cb388ba",name:"BOX-467 Test",assets:{css:'/** style your Experience with CSS */\n  <style>\n        /* Reset default margin and padding */\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n\n        /* RTL support */\n        [dir="rtl"] .bx-one-destination-background {\n            direction: rtl;\n        }\n        [dir="rtl"] .bx-one-destination-details {\n            text-align: right;\n            padding-right: 82px;;\n        }\n        [dir="rtl"] .bx-one-destination-title {\n            text-align: right;\n        }\n        [dir="rtl"] .bx-rectangle-separator {\n            text-align: right;\n        }      \n        [dir="rtl"] .bx-one-destination-sub-title {\n            text-align: right;\n        }      \n\n        .bx-one-destination-background {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            width: 301px;\n            max-width: 100%;\n            height: auto;\n            margin: 24px auto;\n            border-radius: 3px;\n            box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n            background-color: #fff;\n            flex-grow: 0;\n        }\n\n        .bx-one-destination-details {\n            order: 1; /* Default order for desktop view */\n            width: 50%;\n            height: 100%;\n        }\n\n        .bx-one-destination-title {\n            font-family: HelveticaNeue, Helvetica, Arial, sans-serif;\n            font-weight: normal;\n            font-stretch: normal;\n            font-style: normal;\n            line-height: normal;\n            letter-spacing: normal;\n            text-align: left;\n            color: #333;\n            display: inline-block;          \n        }\n\n        .bx-one-destination-title .bx-text-title-style {\n            font-weight: bold;\n        }\n\n        .bx-one-destination-sub-title {\n            font-family: HelveticaNeue, Helvetica, Arial, sans-serif;;\n            font-size: 14px;\n            font-weight: 300;\n            font-stretch: normal;\n            font-style: normal;\n            line-height: 1.43;\n            letter-spacing: normal;\n            text-align: left;\n            color: #333;\n            display: inline-block;\n        }\n\n        .bx-one-destination-book-now {\n            font-family: HelveticaNeue, Helvetica, Arial, sans-serif;;\n            font-size: 16px;\n            font-weight: bold;\n            font-stretch: normal;\n            font-style: normal;\n            line-height: normal;\n            letter-spacing: normal;\n            text-align: center;\n            color: #333;\n            border: solid 1px #333;\n            background-color: #fff;\n            text-align: center;\n            display: inline-block;\n            text-decoration: none;\n            height: 40px;\n            padding: 10px;\n        }\n\n        .bx-one-destination-book-now:focus,\n        .bx-one-destination-book-now:hover {\n            background-color: #f0f0f0;\n        }\n\n        .bx-image-block {\n            width: 100%;\n            height: 100%;\n            order: 2; /* Default order for mobile view */\n            object-fit: cover;\n            overflow: hidden;\n        }\n\n        .bx-image-block img {\n            width: 100%;\n            height: 100%;\n            border-radius: 3px;\n            object-fit: cover;\n            display: block;\n        }\n\n        .bx-rectangle-separator {\n            width: 59.5px;\n            height: 2px;\n            margin-bottom: 20px;\n            background-color: #c60c30;\n        }\n\n        @media only screen and (max-width: 768px) {\n\n            [dir="rtl"] .bx-one-destination-details {\n                text-align: center;\n                padding-right: 0px;\n                width: 100%;\n                height: 70%;\n            }\n            \n            [dir="rtl"] .bx-one-destination-title {\n                text-align: center;\n                padding-right: 0px;;\n            }           \n\n            [dir="rtl"] .bx-one-destination-sub-title {\n                text-align: center;\n                padding-right: 0px;;\n            }           \n\n            .bx-one-destination-background {\n                max-width: 1100px;\n                padding: 0 0 8px;\n                height: 287px;\n                border-radius: 3px;\n                box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n                background-color: #fff;                \n                flex-direction: column;\n                justify-content: space-between;    \n                width: 80%;\n            }\n            \n            .bx-one-destination-title {\n                margin-top: 15px;\n                text-align: center;\n                margin: 21px 20.5px 7px;\n                display: block;\n                font-size: 18px; \n            }\n\n            .bx-one-destination-sub-title {\n                margin: 7px 20.5px 0px;\n                text-align: center;\n                display: block;\n                font-size: 12px; \n            }\n\n            .bx-one-destination-details {\n                order: 2; /* Change order for desktop view */\n                text-align: center;\n                width: 100%;\n                height: 60%;\n            }\n\n            .bx-image-block {\n                justify-content: center;\n                margin: 0px;\n                order: 1;\n                width: 100%;\n                height: 50%;\n            }\n\n            .bx-image-block img {\n                border-top-left-radius: 3px;\n                border-top-right-radius: 3px;\n            }\n                \n            .bx-one-destination-book-now {\n                width: 90%;\n                margin: 22px 8px 8px;\n            }\n\n            .bx-rectangle-separator {\n                display: none;\n            }\n        }\n\n\n        @media only screen and (min-width: 769px) {\n            .bx-one-destination-background {\n                max-width: 1100px;\n                height: 370px;\n                border-radius: 3px;\n                box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n                background-color: #fff;                \n                flex-direction: row;\n                justify-content: space-between;    \n                width: 80%;\n                margin: 47px auto;\n            }\n\n            .bx-one-destination-details {\n                width: 50%;\n                height: 100%;\n                padding-top: 89px;\n                padding-left: 82px;;\n                padding-bottom: 71px;;\n            }\n\n            .bx-one-destination-title {\n                font-size: 24px; \n                margin-bottom: 14px;\n                width: auto;\n                height: auto;\n            }\n\n            .bx-one-destination-sub-title {\n                width: auto;\n                height: auto;\n                margin-bottom: 36px;\n            }\n\n            .bx-one-destination-book-now {\n                min-width: 149px;\n            }\n\n            .bx-image-block {\n                width: 50%;\n                height: 100%;\n                position: relative;\n            }\n        }\n\n        @media only screen and (min-device-width: 769px) and (max-device-width: 1024px) {\n            .bx-one-destination-details {\n                width: 50%;\n                height: 100%;\n                padding-top: 50px;\n                padding-left: 50px;;\n                padding-bottom: 50px;;\n            }\n\n        }\n\n    </style>',html:"",js:'let destination_code = "{{destination_code}}";\n\nfunction sendBoxeverEvent(eventType) {\n  let eventLabel = `BOX467_${eventType}`;\n  var event = {\n    channel: "WEB",\n    type: eventLabel,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) { }, "json");\n}\n\n// Logic to display correct image\nconst imageUrl = `https://c.ekstatic.net/shared/images/destination/v1/airports/${destination_code}/600x360.jpg`;    // Your main image URL\nconst fallbackUrl = \'https://c.ekstatic.net/shared/images/destination/v1/airports/CDSR/600x360.jpg\';                // Your fallback image URL\nlet correct_image_url = \'\';\n\n// console.log("imageUrl: ", imageUrl);\n// console.log("fallbackUrl: ", fallbackUrl);\n\nfunction checkImage(url) {\n    const xhttp = new XMLHttpRequest();\n    xhttp.open(\'HEAD\', url, false);  // HEAD request to check status without downloading content\n    xhttp.onload = function () {\n        if (xhttp.status === 200) {\n            // successCallback();\n            correct_image_url = imageUrl;\n            // console.log("City Image loaded: ", imageUrl);\n        } else {\n            // errorCallback();\n            correct_image_url = fallbackUrl;\n            // console.log("Fallback Image loaded: ", fallbackUrl);\n        }\n    };\n    \n    // xhttp.onerror = errorCallback;\n    xhttp.send();\n}\n    \ncheckImage(imageUrl);\n// console.log("correct_image_url: ", correct_image_url);\n\nfunction render() {\n    const wrapper = document.querySelector(".widget__container");\n    wrapper.insertAdjacentHTML(\n                "afterend",\n                \'<div class="bx-one-destination-background"></div>\'\n              );\n    \n    insertHTMLAfter(".bx-one-destination-background");\n    \n    const cabinClassMapping = {\n        Y: 0,\n        J: 1,\n        F: 2,\n        W: 7,\n    };\n            \n    let IBECabinClass = 0;            \n    if ("{{booking_class}}" in cabinClassMapping) {\n        IBECabinClass = cabinClassMapping["{{booking_class}}"];\n    }            \n\n    var cabinClassLabel;\n    \n    if (IBECabinClass===0)\n    {\n        cabinClassLabel= "Economy Class";\n    }\n    else if (IBECabinClass===1)\n    {\n        cabinClassLabel= "Business Class";\n    }\n    else if (IBECabinClass===2)\n    {\n        cabinClassLabel= "First Class";\n    }\n    else if (IBECabinClass===7)\n    {\n        cabinClassLabel= "Premium Economy";\n    }\n    \n    // create the html for the expeirnece\n    var html = \'<div class="bx-one-destination-details">\' +\n        \'<span class="bx-one-destination-title">\' +\n        \'Still thinking about <b>[destination_city]?</b></span>\' +\n        \'</span>\' +\n        \'<div class="bx-rectangle-separator" role="separator"></div>\' +\n        \'<span class="bx-one-destination-sub-title">\' +\n        \'Find the best [cabin_class_Label] fares\' +\n        \'</span>\' +\n        \'<div>\' +\n        \'<a data-id="pagebody_cta" href="[deep_link]" class="bx-one-destination-book-now" aria-label="Book now">\' +\n        \'Book now\' +\n        \'</a>\' +\n        \'</div>\' +\n        \'</div>\' +\n        \'<div class="bx-image-block">\' +\n        `<img src=${correct_image_url} alt="Family holding hands">` +\n        \'</div>\';\n    \n    var languageURL= countryCode.toLowerCase() + "/" + "english";\n   \n    var deepUrl = "http://www.emirates.com/SessionHandler.aspx?pub=" + languageURL +\n              "&pageurl=/IBE.aspx&section=IBE&showpage=true&TID=" +\n              ("{{flight_type}}" === "OW" ? "OW" : "SB") +\n              "&seldcity1=" + "{{origin_code}}" +\n              "&selacity1=" + destination_code +\n              "&selddate1=" + "{{depart_date}}" +\n              "&seladate1=" + "{{return_date}}" +\n              "&seladults=" + "{{adults}}" +\n              "&selchildren=" + "{{children}}" +\n              "&selinfants=" + "{{infants}}" +\n              "&selcabinclass=" + IBECabinClass +\n              "&selcabinclass1=" + IBECabinClass +\n              "&resultby=0";\n\n    html = html.replace("[destination_city]","{{destination_city}}");\n    //html = html.replace("[destination_code]","{{destination_code}}");\n    html = html.replace ("[deep_link]", deepUrl);\n    html = html.replace("[cabin_class_Label]",cabinClassLabel);\n  \n  var backgroundElement = document.querySelector(\'.bx-one-destination-background\');\n  backgroundElement.innerHTML ="";\n  backgroundElement.innerHTML = html;\n  \n  const bookCTA = document.querySelector(\'.bx-one-destination-book-now\');\n  bookCTA.addEventListener("click", (e) => {\n                          sendBoxeverEvent("CLICKED");\n                          dataLayer.push({\n                            event: "EventTrigger.PageBody_PromotionClicked",\n                            category: "A/B Testing and Personalisation",\n                            action: "Promotion Clicked",\n                            label:"BX:467:CustomerVarient",\n                            value: 0\n                          });\n                        });\n}\n\n\n\nif (destination_code !== "") {\n    render();\n    sendBoxeverEvent("VIEWED");\n    setTimeout(() => dataLayer.push({\n          event: "EventTrigger.PageBody_PromotionShown",\n          category: "A/B Testing and Personalisation",\n          action: "Promotion Shown",\n          label:"BX:467:CustomerVarient",\n          value: 0\n        }), 500);\n}'}}],notificationEnabled:!1},{ref:"7581e47b-ba36-4148-acb8-b733f3787063",name:"EM-131 - VOC - Sitewide Feedback",revision:124,archived:!1,target:{script:'var exclusions = ["bookingConfirmation",\n                "/booking/confirmation",\n                "FlightConfirmation",\n                "OLCI/BoardingDelivery",\n                "/MYB/UpgradeConfirmation",\n                "/MYB/SeatConfirmation",\n                "/MYB/MYBConfirmation",\n                "/MAB/MYB/ExBgUpgradeConfirmation",\n                "/OLCI/BoardingDelivery",\n                "/help/voice-of-customer/app-survey/",\n                "help/voc/app-survey.aspx"\n                ];\n\nfunction isEnglish() {\n    return dataLayer[0].languageCode.substr(0,2) === "EN";\n}\n\nfunction isIreland() {\n    return dataLayer[0].countryCode == "IE";\n}\n\nfunction isExcluded() {\n    for (var i = 0; i < exclusions.length; i++) {\n        if (window.location.href.indexOf(exclusions[i]) >= 0)\n            return true;\n    }\n    return false;\n}\n\nfunction triggerVOC() {\n    if (isEnglish() && !isExcluded()){\n        targetingPassed();\n    }\n}\n\ntriggerVOC();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"f27462db-1af8-4309-b63e-7461c4657a4a",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"f27462db-1af8-4309-b63e-7461c4657a4a",name:"Personalisation",assets:{css:"#bx-modal_overlay {\n  display: none;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  z-index: 999999;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  background-color: rgba(0,0,0,0.4);\n  font-family: Arial,HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n}\n\n#bx-modal_overlay .bx-modal_content {\n  display: flex;\n  flex-direction: column;\n  position:relative;\n  background-color: #F6F6F6;\n  margin: 0 auto;\n  border-radius: 4px;\n  box-shadow: 0 2px 10px 6px rgba(0,0,0,0.3);\n  height: 100%;\n  width: 100%;\n  border: none;\n}\n\n@media screen and (min-width: 1024px) {\n  #bx-modal_overlay .bx-modal_content {\n      max-width: 1056px;\n      height: auto;\n      min-height: 100px;\n      width: auto;\n  }\n}\n\n#bx-modal_overlay .bx-modal_button-wrapper {\n  display: flex;\n  margin-top: auto;\n}\n\n#bx-modal_overlay .bx-modal_button {\n  display: inline-block;\n  border-radius: 4px;\n  color: #fff;\n  background-color: #00B377;\n  padding: 10px 23px;\n}\n\n.bx-hidden {\n  display: none ;\n}\n\n.bx-hidden_important {\n  display: none !important;\n}\n\n/* Options Screen */\n.bx-options {\n  display: flex;\n}\n\n.bx-options .abper-112-text {\n  flex-grow: 1;\n  font-size: 14px;\n  line-height: 1.5;\n  margin: 16px 0 30px;\n  padding-bottom: 0;\n}\n\n.abper-112-link {\n  cursor: pointer;\n}\n\n/* Radio button modal */\n\n.bx-modal_content h1 {\n  font-size: 30px;\n  line-height: 34px;\n  font-family: EmiratesSB-Bold,Georgia,\"Times New Roman\",Times,serif !important;\n  max-width: 90%;\n  margin: auto;\n  text-align: center;\n}\n\n.bx-modal_content h4 {\n  color: #333;\n  max-width: 60%;\n  margin: 20px auto 20px;\n  font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif !important;\n  font-size: 14px;\n  font-weight: 300;\n  line-height: 1.2;\n}\n\n@media (max-width: 768px) {\n  .bx-modal_content h4 {\n    max-width: 80%;\n  }\n}\n\n.bx-modal_content {\n  text-align: center;\n}\n\n.bx-comment > .bx-comment_textarea {\n  height: 174px;\n  width: 80%;\n  border: 1px solid #666;\n  border-radius: 3px;\n  padding: 15px 18px 16px 20px;\n  resize: none;\n  margin: 10px auto 10px;\n  font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  font-size: 16px;\n  font-weight: 300;\n}\n\n.bx-comment > .bx-comment_warning {\n  color: #333;\n  text-align: left;\n  width: 80%;\n  margin: 10px auto 30px;\n  font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  font-size: 16px;\n  font-style: italic;\n  font-weight: 300;\n}\n\n/* Rating screen */\n.bx-modal_content > #bx-rating {\n  padding: 30px 20px 42px;\n}\n\n.bx-radio_label {\n  display: none;\n}\n\n@media screen and (min-width: 1024px) {\n  .bx-radio_label {\n    right: 0;\n    left: 0;\n    bottom: 10px;\n    position: absolute;\n    font-size: 14px;\n  }\n\n  .rating .bx-star5:hover ~ .bx-label5 {\n     display: block;\n  }\n\n  .rating .bx-star4:hover ~ .bx-label4 {\n     display: block;\n  }\n\n  .rating .bx-star3:hover ~ .bx-label3 {\n     display: block;\n  }\n\n  .rating .bx-star2:hover ~ .bx-label2 {\n     display: block;\n  }\n\n  .rating .bx-star1:hover ~ .bx-label1 {\n     display: block;\n  }\n}\n\n/* Rating Stars */\n.rating {\n  display: inline-block;\n  border: none;\n  height: 75px;\n  margin-top: 38px;\n}\n\n/* :not(:checked) is a filter, so that browsers that dont support :checked dont\n follow these rules. Every browser that supports :checked also supports :not(), so\n it doesnt make the test unnecessarily selective */\n/*.rating:not(:checked) > input {*/\n/*  position:absolute;*/\n/*  top:-9999px;*/\n/*  clip:rect(0,0,0,0);*/\n/*}*/\n\n/*.rating:not(:checked) > label {*/\n/*  float:right;*/\n/*  padding:0.3em .1em;*/\n/*  overflow:hidden;*/\n/*  white-space:nowrap;*/\n/*  cursor:pointer;*/\n/*  font-size:300%;*/\n/*  line-height:1.2;*/\n/*  color:#ddd;*/\n/*}*/\n\n/*.rating:not(:checked) > label:before {*/\n/*  content: url(https://c.ekstatic.net/ecl/iconography/e72585a018510638901dd029c05d0724_40_38.png);*/\n/*}*/\n\n/*.rating > input:checked ~ label {*/\n/*  content: url(https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png);*/\n/*}*/\n\n/*.rating:not(:checked) > label:hover,*/\n/*.rating:not(:checked) > label:hover ~ label {*/\n/*  content: url(https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png);*/\n/*}*/\n\n/*.rating > input:checked + label:hover,*/\n/*.rating > input:checked + label:hover ~ label,*/\n/*.rating > input:checked ~ label:hover,*/\n/*.rating > input:checked ~ label:hover ~ label,*/\n/*.rating > label:hover ~ input:checked ~ label {*/\n/*  content: url(https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png);*/\n/*}*/\n\n.rating:not(:checked)>input {\n    position: absolute;\n    top: -9999px;\n    clip: rect(0, 0, 0, 0);\n}\n\n.rating:not(:checked)>label {\n    float: right;\n    /*padding: 0 .1em;*/\n    overflow: hidden;\n    white-space: nowrap;\n    cursor: pointer;\n    font-size: 300%;\n    line-height: 1.2;\n    color: #ddd;\n    transform: scale(.85);\n}\n\n.rating:not(:checked)>.bx-star5:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktNUAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiM1M0EzNTMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTAuMzEyNSwzNSBMMTkuNjg3NSwzNSBDMTguNDc5MzE2NCwzNSAxNy41LDM1Ljk3OTMxNjQgMTcuNSwzNy4xODc1IEMxNy41LDQ2Ljg1MjQyMTkgMjUuMzM1MDc4MSw1NC42ODc1IDM1LDU0LjY4NzUgQzQ0LjY2NDkyMTksNTQuNjg3NSA1Mi41LDQ2Ljg1MjQyMTkgNTIuNSwzNy4xODc1IEM1Mi41LDM1Ljk3OTMxNjQgNTEuNTIwNjgzNiwzNSA1MC4zMTI1LDM1IFogTTM1LDUwLjMxMjUwMjkgQzI4LjU5MjEyODksNTAuMzE2NzM4MyAyMy4xMTc5MTAyLDQ1LjY5MzE4MzYgMjIuMDUsMzkuMzc1IEw0Ny45NSwzOS4zNzUgQzQ2Ljg4MjA4OTgsNDUuNjkzMTgzNiA0MS40MDc4NzExLDUwLjMxNjczODMgMzUsNTAuMzEyNTAyOSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwwIEMxNS42NzAwMTk1LDAgMCwxNS42NzAwMTk1IDAsMzUgQzAsNTQuMzI5OTgwNSAxNS42NzAwMTk1LDcwIDM1LDcwIEM1NC4zMjk5ODA1LDcwIDcwLDU0LjMyOTk4MDUgNzAsMzUgQzcwLDE1LjY3MDAxOTUgNTQuMzI5OTgwNSwwIDM1LDAgWiBNMzUsNjUuNjI1IEMxOC4wODYyNSw2NS42MjUgNC4zNzUsNTEuOTEzNzUgNC4zNzUsMzUgQzQuMzc1LDE4LjA4NjI1IDE4LjA4NjI1LDQuMzc1IDM1LDQuMzc1IEM1MS45MTM3NSw0LjM3NSA2NS42MjUsMTguMDg2MjUgNjUuNjI1LDM1IEM2NS42MjUsNTEuOTEzNzUgNTEuOTEzNzUsNjUuNjI1IDM1LDY1LjYyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSIyNC4wNjI1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgY3g9IjQ1LjkzNzUiIGN5PSIyNC4wNjI1IiByPSI0LjM3NSI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\n    padding-right: 21px;\n    padding-left: 0;\n    \n}\n\n.rating:not(:checked)>.bx-star4:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktNEAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiM4MUMyNTMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUwLjMxMjUsMzUgQzUwLjMxMjUsNDMuNDU2ODc1IDQzLjQ1Njg3NSw1MC4zMTI1IDM1LDUwLjMxMjUgQzI2LjU0MzEyNSw1MC4zMTI1IDE5LjY4NzUsNDMuNDU2ODc1IDE5LjY4NzUsMzUgTDE1LjMxMjUsMzUgQzE1LjMxMjUsNDUuODczMTA1NSAyNC4xMjY4OTQ1LDU0LjY4NzUgMzUsNTQuNjg3NSBDNDUuODczMTA1NSw1NC42ODc1IDU0LjY4NzUsNDUuODczMTA1NSA1NC42ODc1LDM1IEw1MC4zMTI1LDM1IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\n    padding-right: 21px;\n    padding-left: 0;\n    \n}\n\n.rating:not(:checked)>.bx-star3:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktM0AzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNFQ0FFMjkiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMTkuNjg3NSIgeT0iNDEuNTYyNSIgd2lkdGg9IjMwLjYyNSIgaGVpZ2h0PSI0LjM3NSI+PC9yZWN0PgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=);\n    padding-right: 21px;\n    padding-left: 0;\n    \n}\n\n.rating:not(:checked)>.bx-star2:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktMkAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNFRTZCMzEiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM1LDMyLjgxMjUgQzI0LjEyNjg5NDUsMzIuODEyNSAxNS4zMTI1LDQxLjYyNjg5NDUgMTUuMzEyNSw1Mi41IEwxOS42ODc1LDUyLjUgQzE5LjY4NzUsNDQuMDQzMTI1IDI2LjU0MzEyNSwzNy4xODc1IDM1LDM3LjE4NzUgQzQzLjQ1Njg3NSwzNy4xODc1IDUwLjMxMjUsNDQuMDQzMTI1IDUwLjMxMjUsNTIuNSBMNTQuNjg3NSw1Mi41IEM1NC42ODc1LDQxLjYyNjg5NDUgNDUuODczMTA1NSwzMi44MTI1IDM1LDMyLjgxMjUgWiIgaWQ9IlBhdGgiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+);\n    padding-right: 21px;\n    padding-left: 0;\n    \n}\n\n.rating:not(:checked)>.bx-star1:before {\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktMUAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNDRTMzMjUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0xIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMzIuODEyNSBDMjUuMzM1MDc4MSwzMi44MTI1IDE3LjUsNDAuNjQ3NTc4MSAxNy41LDUwLjMxMjUgQzE3LjUsNTEuNTIwNjgzNiAxOC40NzkzMTY0LDUyLjUgMTkuNjg3NSw1Mi41IEw1MC4zMTI1LDUyLjUgQzUxLjUyMDY4MzYsNTIuNSA1Mi41LDUxLjUyMDY4MzYgNTIuNSw1MC4zMTI1IEM1Mi41LDQwLjY0NzU3ODEgNDQuNjY0OTIxOSwzMi44MTI1IDM1LDMyLjgxMjUgWiBNMjIuMDUsNDguMTI1IEMyMy4yNjU4Mzk4LDQwLjk3ODk4NDQgMzAuMDQ0NDkyMiwzNi4xNzE1NDMgMzcuMTkwNTA3OCwzNy4zODczODI4IEM0Mi42ODcxNDg0LDM4LjMyMjUzOTEgNDYuOTkyOTY4Nyw0Mi42MjgzNTk0IDQ3LjkyODEyNSw0OC4xMjUgTDIyLjA1LDQ4LjEyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwwIEMxNS42NzAwMTk1LDAgMCwxNS42NzAwMTk1IDAsMzUgQzAsNTQuMzI5OTgwNSAxNS42NzAwMTk1LDcwIDM1LDcwIEM1NC4zMjk5ODA1LDcwIDcwLDU0LjMyOTk4MDUgNzAsMzUgQzcwLDE1LjY3MDAxOTUgNTQuMzI5OTgwNSwwIDM1LDAgWiBNMzUsNjUuNjI1IEMxOC4wODYyNSw2NS42MjUgNC4zNzUsNTEuOTEzNzUgNC4zNzUsMzUgQzQuMzc1LDE4LjA4NjI1IDE4LjA4NjI1LDQuMzc1IDM1LDQuMzc1IEM1MS45MTM3NSw0LjM3NSA2NS42MjUsMTguMDg2MjUgNjUuNjI1LDM1IEM2NS42MjUsNTEuOTEzNzUgNTEuOTEzNzUsNjUuNjI1IDM1LDY1LjYyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSIyNC4wNjI1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgY3g9IjQ1LjkzNzUiIGN5PSIyNC4wNjI1IiByPSI0LjM3NSI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\n}\n\n.rating > label:active {\n  position:relative;\n  top:2px;\n  left:2px;\n}\n\n\n@media only screen and (max-width:500px) {\n    \n    .rating {\n      margin-top: 36px;\n    }\n    \n    .rating:not(:checked)>.bx-star5:before {\n        padding-right: 0;\n        padding-left: 0;\n        \n    }\n    \n    .rating:not(:checked)>.bx-star4:before {\n        padding-right: 0;\n        padding-left: 0;\n        \n    }\n    \n    .rating:not(:checked)>.bx-star3:before {\n        padding-right: 0;\n        padding-left: 0;\n        \n    }\n    \n    .rating:not(:checked)>.bx-star2:before {\n        padding-right: 0;\n        padding-left: 0;\n        \n    }\n    .rating:not(:checked)>label {\n        font-size: 100%;\n        transform: scale(.6);\n        padding: 0;\n    }\n    \n    .bx-modal_content > #bx-rating {\n        padding: 30px 3px 42px;\n    }\n    \n    .bx-modal__btn-close-icon {\n       margin-right: 8px !important;\n    }\n\n}\n\n/* Comment Screen */\n.bx-comment {\n  padding: 30px 20px 20px;\n}\n\n/* Thank You Screen */\n.bx-thank_you {\n  padding: 30px 20px 20px;\n}\n\n/* close button */\n.bx-modal__btn-close-icon {\n  background: transparent;\n  top: 0;\n  right: 0;\n  width: 30px;\n  height: 30px;\n  margin-top: 5px;\n  margin-right: 25px;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n}\n\n.bx-modal__btn-close-icon:after {\n  content: '';\n  height: 30px;\n  border-left: 2px solid #75808F;\n  position: absolute;\n  transform: rotate(45deg);\n}\n\n.bx-modal__btn-close-icon:before {\n  content: '';\n  height: 30px;\n  border-left: 2px solid #75808F;\n  position: absolute;\n  transform: rotate(-45deg);\n}\n\n/* Comment Screen */\n\n  /*font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;*/\n\n/* Mobile Web Feedback Button */\n.abper-112-toggle .bx-mobile_web_feedback_button {\n  padding: 15px 25px;\n}\n\n@media screen and (min-width: 1024px) {\n  .abper-112-toggle .bx-mobile_web_feedback_button {\n      padding: 0;\n  }\n}\n\n/* icon */\n.abper-112-toggle .icon-feedback {\n  display: inline-block;\n  vertical-align: middle;\n  font-size: 20px;\n  color: white;\n}\n\n@media screen and (min-width: 1024px) {\n  .abper-112-toggle .icon-feedback {\n      position: absolute;\n      transform: rotate(90deg) translateY(15px);\n      color: #555;\n  }\n}\n/******* EK CSS *******/\n\n@font-face {\n  font-family: ek-font-icons;\n  src: url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.eot);\n  src: url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.eot?#iefix) format(\"embedded-opentype\"), url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.woff) format(\"woff\"), url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.ttf) format(\"truetype\"), url(https://cdn.ek.aero/shared/fonts/ek-icons/ek-font-icons.svg#ek-font-icons) format(\"svg\");\n  font-weight: 400;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: EmiratesSM;\n  src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.eot);\n  src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.eot?#iefix) format('embedded-opentype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.woff2) format('woff2'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.woff) format('woff'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.ttf) format('truetype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-medium.svg#Emirates-Medium) format('svg');\n  font-weight: 400;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: EmiratesSB-Bold;\n  src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.eot);\n  src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.eot?#iefix) format('embedded-opentype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.woff2) format('woff2'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.woff) format('woff'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.ttf) format('truetype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-bold.svg#Emirates-Bold) format('svg');\n  font-weight: 400;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: EmiratesSL;\n  src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.eot);\n  src: url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.eot?#iefix) format('embedded-opentype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.woff2) format('woff2'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.woff) format('woff'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.ttf) format('truetype'), url(https://cdn.ek.aero/shared/fonts/emirates/emirates-light.svg#Emirates-Light) format('svg');\n  font-weight: 400;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: heroic-condensed-black-oblique;\n  src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.eot);\n  src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.eot?#iefix) format(\"embedded-opentype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.woff) format(\"woff\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.ttf) format(\"truetype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-black-oblique.svg#heroic-condensed-black-oblique) format(\"svg\");\n  font-weight: 400;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: heroic-condensed-medium-oblique;\n  src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-medium-oblique.eot);\n  src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-medium-oblique.eot?#iefix) format(\"embedded-opentype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-medium-oblique.woff) format(\"woff\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-medium-oblique.ttf) format(\"truetype\");\n  font-weight: 400;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: heroic-condensed-light-oblique;\n  src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.eot);\n  src: url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.eot?#iefix) format(\"embedded-opentype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.woff) format(\"woff\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.ttf) format(\"truetype\"), url(https://cdn.ek.aero/shared/fonts/heroic/heroic-condensed-light-oblique.svg#heroic-condensed-light-oblique) format(\"svg\");\n  font-weight: 400;\n  font-style: normal;\n}\n\n.abper-112-modal.qubit-AdvancedModal {\n  align-items: normal;\n  left: auto;\n  padding: 0;\n  right: auto;\n  width: 100%;\n  z-index: 9999;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal.qubit-AdvancedModal {\n      align-items: center;\n  }\n}\n@media (max-width: 768px) {\n  .abper-112-modal .qubit-AdvancedModal-body {\n      height: 100%;\n  }\n}\n.abper-112-modal .qubit-AdvancedModal-box {\n  background-color: #f6f6f6;\n  display: block;\n  height: 100%;\n  max-height: none;\n  width: 100%;\n  z-index: 9999;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-AdvancedModal-box {\n      height: auto;\n      width: auto;\n  }\n}\n.abper-112-modal .qubit-AdvancedModal-Icon {\n  color: #333;\n  font-size: 10px;\n}\n.abper-112-modal .qubit-VisitorPulse {\n  color: #333;\n  display: flex;\n  font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  font-size: 16px;\n  flex-grow: 1;\n  margin: auto;\n}\n.abper-112-modal .qubit-VisitorPulse-content {\n  display: flex;\n  margin: 0 auto;\n  overflow: auto;\n  padding: 30px 20px 20px;\n  width: 100%;\n}\n@media screen and (min-width: 768px) {\n  .abper-112-modal .qubit-VisitorPulse-content {\n      margin: auto;\n  }\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-content {\n      display: block;\n      margin: 0 auto;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-titleContainer {\n  display: none;\n}\n.abper-112-modal .qubit-VisitorPulse-question {\n  border-bottom: none;\n  margin-bottom: 0;\n  max-width: 690px;\n  padding-bottom: 0;\n  text-align: center;\n}\n.abper-112-modal .qubit-VisitorPulse-question .qubit-VisitorPulse-questionName {\n  color: #333;\n  font-family: EmiratesSB-Bold, Emirates-Bold, EmiratesSM, Helvetica, Arial, Lucida Grande, sans-serif !important;\n  font-size: 20px;\n  font-weight: 400;\n  line-height: 24px;\n  margin: 0 auto 20px;\n  text-align: center;\n  width: 80%;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-question .qubit-VisitorPulse-questionName {\n      font-size: 30px;\n      line-height: 34px;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-question .qubit-VisitorPulse-radios {\n  height: 75px;\n  position: relative;\n  width: 260px;\n}\n.abper-112-modal .qubit-VisitorPulse-question .qubit-VisitorPulse-radio input {\n  display: none;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio {\n  display: inline-block;\n  margin-bottom: 0;\n  text-align: center;\n  width: 20%;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio .qubit-VisitorPulse-radioOuter {\n  background: url('https://c.ekstatic.net/ecl/iconography/e72585a018510638901dd029c05d0724_40_38.png');\n  background-repeat: no-repeat;\n  height: 40px;\n  margin: 0;\n  width: 40px;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio.abper-112-active .qubit-VisitorPulse-radioOuter {\n  background: url('https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png');\n  background-repeat: no-repeat;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio .qubit-VisitorPulse-radioInner {\n  display: none;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio .qubit-VisitorPulse-radioText {\n  bottom: 10px;\n  display: none;\n  font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  font-size: 14px;\n  font-weight: normal;\n  left: 0;\n  margin: 0 auto;\n  position: absolute;\n  right: 0;\n  width: 100%;\n}\n.abper-112-modal .qubit-VisitorPulse-question:first-child .qubit-VisitorPulse-radio .qubit-VisitorPulse-radioText.abper-112-visible {\n  display: inline-block;\n}\n.abper-112-modal .qubit-VisitorPulse-question:nth-child(2) {\n  display: none;\n}\n.abper-112-modal .qubit-VisitorPulse-question:nth-child(2) .qubit-VisitorPulse-textarea {\n  background: #fff;\n  border: 1px solid #666;\n  border-radius: 3px;\n  box-shadow: inset 4px 4px 0 0 #f6f6f6;\n  color: #333;\n  display: block;\n  font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  font-size: 16px;\n  font-weight: 300;\n  height: 214px;\n  margin: auto;\n  padding: 20px 18px 16px 20px;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-question:nth-child(2) .qubit-VisitorPulse-textarea {\n      height: 174px;\n      width: 80%;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-question:nth-child(2) .abper-112-optional {\n  color: #999;\n  font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  font-size: 16px;\n  font-style: italic;\n  font-weight: 300;\n  margin: 10px auto 30px;\n  text-align: left;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-question:nth-child(2) .abper-112-optional {\n      width: 80%;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-question.abper-112-visible {\n  display: block;\n}\n.abper-112-modal .qubit-VisitorPulse-question.abper-112-hide {\n  display: none;\n  visibility: hidden;\n}\n.abper-112-modal .qubit-VisitorPulse-submit {\n  background-color: #c60c30;\n  border-color: #c60c30;\n  color: #fff;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: bold;\n  height: auto;\n  line-height: normal;\n  margin: auto 0 0;\n  max-width: 690px;\n  width: 100%;\n}\n@media screen and (min-width: 768px) {\n  .abper-112-modal .qubit-VisitorPulse-submit {\n      margin: 0 auto;\n  }\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-submit {\n      width: 317px;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-submit:hover {\n  background-color: #c60c30;\n  border-color: #c60c30;\n  box-shadow: 0 0 6px 0 #333;\n  color: #fff;\n}\n.abper-112-modal .qubit-VisitorPulse-submit.abper-112-visible {\n  display: inline-block;\n  visibility: visible;\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou {\n  flex-direction: column;\n  flex-grow: 1;\n  margin: 0 auto;\n  max-width: 690px;\n  overflow: auto;\n  padding: 40px 20px 20px;\n  text-align: center;\n}\n@media screen and (min-width: 768px) {\n  .abper-112-modal .qubit-VisitorPulse-thankYou {\n      margin: auto;\n  }\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-thankYou {\n      margin: 0 auto;\n      overflow: hidden;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-icon-check {\n  border: 2px solid green;\n  border-radius: 50px;\n  box-sizing: border-box;\n  height: 70px;\n  margin: 0 auto 30px;\n  width: 70px;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-icon-check {\n      margin: 40px auto 20px;\n      height: 60px;\n      width: 60px;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-icon-check::before {\n  border-bottom: 2px solid green;\n  border-right: 2px solid green;\n  box-sizing: border-box;\n  content: '';\n  display: inline-block;\n  height: 30px;\n  margin-top: -5px;\n  position: relative;\n  top: 50%;\n  transform: rotate(45deg) translateX(-60%) translateY(-35%);\n  width: 15px;\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-text {\n  flex-grow: 0;\n  padding-left: 0;\n  padding-right: 0;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-text {\n      margin-bottom: 30px;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-close-button {\n  margin: auto 0 0;\n}\n@media screen and (min-width: 768px) {\n  .abper-112-modal .qubit-VisitorPulse-thankYou .abper-112-close-button {\n      margin: 0;\n  }\n}\n.abper-112-modal .abper-112-tripadvisor {\n  border-top: 2px solid #d8d8d8;\n  flex-grow: 1;\n  padding: 20px 0 0;\n}\n.abper-112-modal .abper-112-tripadvisor.abper-112-tripadvisor-hide {\n  display: none;\n}\n.abper-112-modal .abper-112-tripadvisor-logo {\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: inline-block;\n  height: 80px;\n  margin: auto;\n  width: 100px;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .abper-112-tripadvisor-logo {\n      height: 50px;\n      position: relative;\n      top: -10px;\n      width: 63px;\n      vertical-align: middle;\n  }\n}\n.abper-112-modal .abper-112-tripadvisor-copy {\n  display: inline-block;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .abper-112-tripadvisor-copy {\n      text-align: left;\n      width: 70%;\n  }\n}\n.abper-112-modal .abper-112-close-button {\n  font-size: 16px;\n  font-weight: 700;\n  line-height: normal;\n  margin-bottom: 20px;\n  min-height: 40px;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-modal .abper-112-close-button {\n      width: 317px;\n  }\n}\n.abper-112-modal .abper-112-text {\n  flex-grow: 1;\n  font-size: 14px;\n  line-height: 1.5;\n  margin: 16px 0 30px;\n  padding-bottom: 0;\n}\n.abper-112-modal a,\n.abper-112-modal a:hover {\n  color: #333;\n}\n.abper-112-modal:hover,\n.abper-112-modal:active,\n.abper-112-modal:focus {\n  outline: none !important;\n}\n.abper-112-modal *:focus {\n  outline: none !important;\n}\n.abper-112-toggle {\n  border-top: 1px solid rgba(255, 255, 255, .13);\n  margin-top: auto;\n}\n.abper-112-toggle:hover,\n.abper-112-toggle:active,\n.abper-112-toggle:focus {\n  outline: none;\n}\n.abper-112-toggle+.country-selector-mobile {\n  margin-top: 0;\n}\n.abper-112-toggle .abper-112-text {\n  color: #fff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  font-size: 14px;\n  position: relative;\n  vertical-align: middle;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-toggle .abper-112-text {\n      color: #333;\n      width: auto;\n  }\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-toggle {\n      background-color: #fff;\n      border-radius: 3px 3px 0 0;\n      box-shadow: 0 1px 4px 1px #666;\n      color: #333;\n      cursor: pointer;\n      font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n      font-size: 14px;\n      height: 40px;\n      overflow: hidden;\n      padding: 10px 15px 25px 25px;\n      position: fixed;\n      right: 0;\n      top: calc(50% - 120px);\n      transform: rotate(-90deg);\n      transform-origin: 100% 100%;\n      z-index: 99;\n  }\n}\n@media (min-width: 768px) and (max-width: 1024px) and (orientation: portrait) {\n  .abper-112-toggle {\n      top: calc(25% - 120px);\n  }\n}\n.abper-112-toggle .abper-112-toggle-container {\n  position: relative;\n}\n.abper-112-toggle .abper-112-icon {\n  background-image: url('https://c.ekstatic.net/ecl/iconography/4fb725e86a700af2f5a185035d78d864_48_42.png');\n  background-size: cover;\n  display: inline-block;\n  height: 22px;\n  vertical-align: middle;\n  width: 25px;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-toggle .abper-112-icon {\n      background-image: url('https://c.ekstatic.net/ecl/iconography/9a9731bdeeac7dabae8183d63729c015_81_68.png');\n      height: 20px;\n      position: absolute;\n      transform: rotate(90deg) translateY(15px);\n  }\n}\n.abper-112-toggle .abper-112-text {\n  display: none;\n  line-height: 20px;\n  padding: 0 0 0 15px;\n}\n.qubit-VisitorPulse-modal {\n  display: none;\n}\n#abper-112-feedback-content {\n  font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  margin: 0 auto;\n  max-width: 690px;\n  padding: 70px 10px;\n  text-align: center;\n  width: 100%;\n}\n@media screen and (min-width: 768px) {\n  #abper-112-feedback-content {\n      margin: auto;\n  }\n}\n@media screen and (min-width: 1024px) {\n  #abper-112-feedback-content {\n      display: flex;\n      margin: 0 auto;\n      max-width: 1056px;\n      padding: 60px 40px;\n  }\n}\n#abper-112-feedback-content .abper-112-feedback,\n#abper-112-feedback-content .abper-112-contact,\n#abper-112-feedback-content .abper-112-complaint {\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.19);\n  display: block;\n  margin-bottom: 20px;\n  padding: 10px 10px 0;\n  position: relative;\n  text-decoration: none;\n}\n#abper-112-feedback-content .abper-112-feedback span.abper-112-button,\n#abper-112-feedback-content .abper-112-contact span.abper-112-button,\n#abper-112-feedback-content .abper-112-complaint span.abper-112-button {\n  pointer-events: none;\n}\n@media screen and (min-width: 1024px) {\n  #abper-112-feedback-content .abper-112-feedback,\n  #abper-112-feedback-content .abper-112-contact,\n  #abper-112-feedback-content .abper-112-complaint {\n      background: none;\n      border-radius: 0;\n      box-shadow: none;\n      display: flex;\n      flex-basis: auto;\n      flex-direction: column;\n      margin: 0;\n      padding: 30px;\n      width: 33.3333%;\n  }\n\n  #abper-112-feedback-content .abper-112-feedback::after,\n  #abper-112-feedback-content .abper-112-contact::after,\n  #abper-112-feedback-content .abper-112-complaint::after {\n      border-right: 1px solid #d8d8d8;\n      content: \"\";\n      display: block;\n      height: 100%;\n      position: absolute;\n      right: 0;\n      top: 0;\n      z-index: 1;\n  }\n}\n#abper-112-feedback-content .abper-112-title {\n  text-align: center;\n}\n#abper-112-feedback-content .abper-112-title,\n#abper-112-feedback-content .abper-112-hr,\n#abper-112-feedback-content .abper-112-text {\n  display: none;\n}\n@media screen and (min-width: 1024px) {\n  #abper-112-feedback-content .abper-112-title,\n  #abper-112-feedback-content .abper-112-hr,\n  #abper-112-feedback-content .abper-112-text {\n      display: inline-block;\n  }\n}\n#abper-112-feedback-content .abper-112-complaint::after {\n  border: none;\n}\n@media screen and (max-width: 1023px) {\n  #abper-112-feedback-content .abper-112-button,\n  #abper-112-feedback-content .abper-112-button:hover {\n      background: none;\n      border: none;\n      box-shadow: none;\n      color: #333;\n      font-weight: bold;\n      margin-bottom: 10px;\n      padding: 6px;\n      width: 100%;\n  }\n}\n#abper-112-feedback-content .abper-112-icon {\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n  display: inline-block;\n  height: 55px;\n  margin: 0 auto;\n  width: 60px;\n}\n@media screen and (min-width: 1024px) {\n  #abper-112-feedback-content .abper-112-icon {\n      height: 68px;\n      margin: 0 auto 20px;\n      width: 80px;\n  }\n}\n#abper-112-feedback-content .abper-112-icon-feedback {\n  background-image: url('https://c.ekstatic.net/ecl/iconography/9a149a9f19b5506ca8a908f23f01c24f_60_60.png');\n  height: 34px;\n  width: 34px;\n}\n@media screen and (min-width: 1024px) {\n  #abper-112-feedback-content .abper-112-icon-feedback {\n      background-image: url('https://c.ekstatic.net/ecl/iconography/9a9731bdeeac7dabae8183d63729c015_81_68.png');\n      height: 68px;\n      width: 81px;\n  }\n}\n#abper-112-feedback-content .abper-112-icon-contact {\n  background-image: url('https://c.ekstatic.net/ecl/iconography/dcb2d20bb523a4d1b635194758896024_60_60.png');\n  height: 34px;\n  width: 34px;\n}\n@media screen and (min-width: 1024px) {\n  #abper-112-feedback-content .abper-112-icon-contact {\n      background-image: url('https://c.ekstatic.net/ecl/iconography/c8be9d69c9aa7b9c193ce1049e616f36_81_68.png');\n      height: 68px;\n      width: 81px;\n  }\n}\n#abper-112-feedback-content .abper-112-icon-complaint {\n  background-image: url('https://c.ekstatic.net/ecl/iconography/f633a3e3102979ba5c912a4b09c74c86_60_60.png');\n  height: 34px;\n  width: 34px;\n}\n@media screen and (min-width: 1024px) {\n  #abper-112-feedback-content .abper-112-icon-complaint {\n      background-image: url('https://c.ekstatic.net/ecl/iconography/fbc91a6287d56b2f84607070934ba7d8_81_68.png');\n      height: 68px;\n      width: 81px;\n  }\n}\n#abper-112-feedback-content .abper-112-title,\n.abper-112-thank-you .qubit-VisitorPulse-thankYouText {\n  color: #333;\n  font-family: EmiratesSB-Bold, Emirates-Bold, EmiratesSM, Helvetica, Arial, Lucida Grande, sans-serif !important;\n  font-size: 20px;\n  font-weight: 400;\n  line-height: 24px;\n  margin: 0;\n}\n@media screen and (min-width: 1024px) {\n  #abper-112-feedback-content .abper-112-title,\n  .abper-112-thank-you .qubit-VisitorPulse-thankYouText {\n      font-size: 30px;\n      line-height: 34px;\n  }\n}\n.abper-112-modal .qubit-VisitorPulse-thankYouText {\n  font-size: 30px;\n  line-height: 1.25;\n  margin: 0;\n}\nhr.abper-112-hr {\n  background: none;\n  border: none;\n  border-top: 2px solid #c60c30;\n  display: inline-block;\n  margin: 0 auto;\n  width: 60px;\n}\n.abper-112-button,\n.qubit-VisitorPulse-submit {\n  background-color: #fff;\n  border: 1px solid #333;\n  border-radius: 3px;\n  color: #333;\n  cursor: pointer;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: bold;\n  line-height: normal;\n  margin-bottom: 20px;\n  padding: 11px;\n  text-align: center;\n  text-decoration: none;\n  width: 100%;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-button,\n  .qubit-VisitorPulse-submit {\n      width: auto;\n  }\n}\n.abper-112-button:hover,\n.qubit-VisitorPulse-submit:hover {\n  box-shadow: 0 0 6px 0 #666;\n}\n.abper-112-button.abper-112-primary,\n.qubit-VisitorPulse-submit.abper-112-primary {\n  background-color: #c60c30;\n  border-color: #c60c30;\n  color: #fff;\n  font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\n  font-size: 14px;\n  font-weight: 700;\n}\n.abper-112-button.abper-112-primary:hover,\n.qubit-VisitorPulse-submit.abper-112-primary:hover {\n  background-color: #c60c30;\n  border-color: #c60c30;\n  color: #fff;\n}\n.abper-112--focus {\n  border-radius: 2px !important;\n  box-shadow: 0 0 2px 1.5px #fff, 0 0 3px 3px #000, inset 0 0 0.5px 0.5px #fff, inset 0 0 0.5px 1.5px #000 !important;\n  outline: 0 !important;\n}\n.qubit-VisitorPulse-hidden {\n  visibility: hidden;\n}\n@media (max-width: 480px) {\n  .ekglobal-navigation-megamenu-holder.menu--opened {\n      overflow-y: scroll;\n  }\n}\n@media (orientation: portrait) {\n  .abper-112-modal .qubit-VisitorPulse {\n      display: block;\n  }\n\n  .abper-112-modal .qubit-AdvancedModal-body {\n      flex: none;\n      height: 100%;\n  }\n\n  .abper-112-modal .qubit-VisitorPulse {\n      display: block;\n  }\n\n  .abper-112-modal .qubit-VisitorPulse-content {\n      height: 100%;\n      position: relative;\n  }\n\n  .abper-112-modal .qubit-VisitorPulse-submit.abper-112-visible {\n      bottom: 30px;\n      left: 20px;\n      right: 20px;\n      position: absolute;\n      width: auto;\n  }\n\n  .abper-112-modal .qubit-VisitorPulse-thankYou {\n      height: 100%;\n      position: relative;\n  }\n}\n@media (orientation: portrait) and (min-width: 768px) {\n  .abper-112-modal .qubit-VisitorPulse-submit.abper-112-visible {\n      bottom: 60px;\n      left: 30px;\n      right: 30px;\n  }\n}\n@media (orientation: portrait) and (min-width: 1024px) {\n  .abper-112-modal .qubit-VisitorPulse-submit.abper-112-visible {\n      bottom: auto;\n      left: auto;\n      position: relative;\n      right: auto;\n      width: 317px;\n  }\n}\n@media (orientation: portrait) and (min-width: 768px) {\n  .abper-112-modal .abper-112-button.abper-112-primary.abper-112-close-button {\n      bottom: 60px;\n      left: 0;\n      max-width: 690px;\n      position: absolute;\n  }\n}\n@media (orientation: portrait) and (min-width: 1024px) {\n  .abper-112-modal .abper-112-button.abper-112-primary.abper-112-close-button {\n      bottom: auto;\n      left: auto;\n      position: relative;\n      right: auto;\n  }\n}\n.ek .abper-112-modal [contentEditable=true]:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal [tabindex]:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal a:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal area:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal button:not([disabled]):not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal iframe:not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal input:not([disabled]):not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal select:not([disabled]):not([tabindex='-1']):not(.panel-disabled):focus,\n.ek .abper-112-modal textarea:not([disabled]):not([tabindex='-1']):not(.panel-disabled):focus {\n  outline: none !important;\n}\n.ek .abper-112-modal p a {\n  text-decoration: underline;\n}\n.ek .abper-112-modal p a:hover {\n  text-decoration: none;\n}\n@media screen and (min-width: 1024px) {\n  .ek-global-navigation .abper-112-toggle[tabindex=\"0\"]:focus {\n      border-radius: 3px 3px 0 0 !important;\n      box-shadow: 0 1px 4px 1px #666 !important;\n  }\n}\n.abper-112-toggle[tabindex]:focus:not(a):not(button) {\n  border-radius: 0;\n  box-shadow: none;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-toggle[tabindex]:focus:not(a):not(button) {\n      border-radius: 3px 3px 0 0;\n      box-shadow: 0 1px 4px 1px #666;\n  }\n}\n.abper-112-modal a:focus {\n  border-radius: none;\n  box-shadow: none;\n}\n.page-template.leaderboard-template .abper-112-toggle {\n  height: 5px;\n}\n.ekglobal-navigation-megamenu-holder.menu--opened .abper-112-toggle {\n  height: auto;\n}\n.abper-112-modal label.qubit-VisitorPulse-radio * {\n  pointer-events: none;\n}\n.abper-112-modal * {\n  -webkit-tap-highlight-color: transparent;\n}\n.abper-112-toggle {\n  display: none;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-toggle {\n      display: block;\n  }\n}\n.abper-112-toggle+.nav__lang-wrapper {\n  margin-top: 0;\n}\n.nav--show .abper-112-toggle {\n  display: block;\n}\n.ek-global-navigation .menu--opened .abper-112-toggle,\n.main-navigation__nav .nav--mobile .abper-112-toggle {\n  display: block;\n}\n@media screen and (min-width: 1024px) {\n  .ek-global-navigation .menu--opened .abper-112-toggle,\n  .main-navigation__nav .nav--mobile .abper-112-toggle {\n      display: none;\n  }\n}\n.ek-global-navigation .menu--opened .abper-112-toggle+div,\n.main-navigation__nav .nav--mobile .abper-112-toggle+div {\n  display: block;\n}\n.main-navigation__nav .nav--mobile .abper-112-toggle-container {\n  padding: 15px;\n}\n.abper-112-hidden-mobile {\n  display: none !important;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-hidden-mobile {\n      display: inline-block !important;\n  }\n}\n.abper-112-hidden-desktop {\n  display: inline-block !important;\n}\n@media screen and (min-width: 1024px) {\n  .abper-112-hidden-desktop {\n      display: none !important;\n  }\n}\n\n#bx-contact_link3 {\n  text-decoration: underline !important;\n}\n\n#bx-contact_link3:hover {\n  text-decoration: none !important;\n  background-color: #f6f6f6;\n}\n",html:'<div id="bx-modal_overlay" class="bx-hidden_important">\n  <div class="bx-modal_content abper-112-modal">\n\n      <div class="bx-options" id="bx-options">\n          <div id="abper-112-feedback-content" class="abper-112-feedback-content">\n              <a class="abper-112-link abper-112-feedback abper-112-submit-feedback" id="bx-feedback_option" role="link" tabindex="0">\n                  <i class="abper-112-icon abper-112-icon-feedback"></i>\n                  <h2 class="abper-112-title">Leave website feedback</h2>\n                  <hr class="abper-112-hr">\n                  <p class="abper-112-text">Your opinion is important to us. Help us improve your online experience.</p>\n                  <span class="abper-112-button abper-112-secondary abper-112-submit-feedback">Submit feedback</span>\n              </a>\n              <a class="abper-112-link abper-112-contact" id="bx-contact_link" href="https://www.emirates.com/uk/english/help/" role="link"\n                  tabindex="0">\n                  <i class="abper-112-icon abper-112-icon-contact"></i>\n                  <h2 class="abper-112-title">Get in touch</h2>\n                  <hr class="abper-112-hr">\n                  <p class="abper-112-text">Need answers? Here are the most convenient ways to contact us</p>\n                  <span class="abper-112-button abper-112-secondary">Contact us</span>\n              </a>\n              <a class="abper-112-link abper-112-complaint" id="bx-complaint_link" href="https://www.emirates.com/uk/english/help/complaint.aspx" role="link" tabindex="0">\n                  <i class="abper-112-icon abper-112-icon-complaint"></i>\n                  <h2 class="abper-112-title">Raise a concern</h2>\n                  <hr class="abper-112-hr">\n                  <p class="abper-112-text">If you\'ve had a less than satisfying experience, we\'d like to hear from you.</p>\n                  <span class="abper-112-button abper-112-secondary">Submit a complaint</span>\n              </a>\n          </div>\n      </div>\n\n      <div class="bx-rating bx-hidden qubit-VisitorPulse-question" id="bx-rating">\n          <h1 class="bx-header_question" id="bx-header_question">How satisfied were you with your website experience?</h1>\n            <fieldset class="rating" id="bx-rating_buttons" >\n                <input type="radio" id="star1" name="rating" value="1"  /><label tabindex="5" class="bx-star1 bx-star" for="star1" rating="1"></label>\n                <input type="radio" id="star2" name="rating" value="2"  /><label tabindex="4" class="bx-star2 bx-star" for="star2" rating="2"></label>\n                <input type="radio" id="star3" name="rating" value="3"  /><label tabindex="3" class="bx-star3 bx-star" for="star3" rating="3" ></label>\n                 <input type="radio" id="star4" name="rating" value="4" /><label tabindex="2" class="bx-star4 bx-star" for="star4" rating="4" ></label>\n                <input type="radio" id="star5" name="rating" value="5" /><label tabindex="1" class="bx-star5 bx-star" for="star5" rating="5" ></label>\n            </fieldset>\n      </div>\n\n      <div class="bx-comment bx-hidden" id="bx-comment">\n          <h1 class="bx-header_question">How satisfied were you with your website experience?</h1>\n          <h4 class="bx-header_subtext">You will receive no reply from this form. For questions that require a response, you can visit our <a href="https://www.emirates.com/uk/english/help/" target="_blank" id="bx-contact_link3">help centre.</a></h4>\n          <textarea class="bx-comment_textarea" id="bx-comment_textarea" maxlength="1500" placeholder="Tell us how we can make your experience better*"></textarea>\n          <div class="bx-comment_warning">* Do not enter personal information here</div>\n          <div class="bx-comment_submit qubit-VisitorPulse-submit" id="bx-submit_feedback" role="button" tabindex="0">Submit your feedback</div>\n      </div>\n\n      <div class="bx-thank_you bx-hidden" id="bx-thank_you">\n          <div class="qubit-VisitorPulse-thankYou" aria-hidden="false">\n              <div class="abper-112-thank-you">\n                  <i class="abper-112-icon-check abper-112-hidden-desktop"></i>\n                  <div class="qubit-VisitorPulse-thankYouText">Thank you for your feedback</div>\n                  <i class="abper-112-icon-check abper-112-hidden-mobile"></i>\n                  <p class="abper-112-text">If you have any questions or need help please visit our\n                      <a class="abper-112-faq-link" id="bx-faq_link" href="https://www.emirates.com/uk/english/help/faqs/"\n                          title="">FAQ</a> or\n                      <a class="abper-112-contact-us-link" id="bx-contact_link2" href="https://www.emirates.com/uk/english/help/"\n                          title="">Contact us</a> section.\n                  </p>\n              </div>\n              <button aria-label="Close" class="abper-112-button abper-112-primary abper-112-close-button" id="bx-close">Close</button>\n          </div>\n      </div>\n\n      <div class="bx-modal__btn-close-icon"></div>\n  </div>\n</div>\n',js:"insertHTMLAfter('body');\r\n\r\nvar GA_TRACKING_ID = 'UA-49297763-3';\r\nfunction getIconsFont(){\r\n    if(typeof __EK__ !== 'undefined'){\r\n        return '';\r\n    }\r\n    if(typeof __INITIAL_STATE__ !== 'undefined'){\r\n        return '<link rel=\"stylesheet\" href=\"https://c.ekstatic.net/shared/fonts/iconography/iconography.css\">';\r\n    }\r\n            return `<style>@font-face {\r\n  font-family: \"iconography-bx\";\r\n  src: url(\"https://c.ekstatic.net/shared/fonts/iconography/iconography.woff2?580e865c7c5f11c3fae0de33e30a4db9\") format(\"woff2\"),\r\n      url(\"https://c.ekstatic.net/shared/fonts/iconography/iconography.woff?580e865c7c5f11c3fae0de33e30a4db9\") format(\"woff\"),\r\n      url(\"https://c.ekstatic.net/shared/fonts/iconography/iconography.ttf?580e865c7c5f11c3fae0de33e30a4db9\") format(\"truetype\");\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  font-display: fallback;\r\n}\r\n\r\n.abper-112-toggle .icon-feedback:before, .abper-112-modal .icon-feedback:before{\r\n  content: \"\\\\f2a2\";\r\n}\r\n.abper-112-modal .icon-chat:before {\r\n    content: \"\\\\f140\";\r\n}\r\n.abper-112-modal .icon-eticket:before {\r\n    content: \"\\\\f17b\";\r\n}\r\n.abper-112-modal .icon:before, .abper-112-toggle .icon:before{\r\n  font-family: \"iconography-bx\" !important;\r\n  text-transform: none;\r\n  font-style: normal !important;\r\n  font-weight: normal !important;\r\n  speak: none;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}</style>`;\r\n}\r\n/* Add Mobile Web Feedback Button */\r\nvar buttonTemplate = getIconsFont() + '<div class=\"abper-112-toggle-container bx-mobile_web_feedback_button\"><div class=\"icon icon-feedback\"></div><span class=\"abper-112-text abper-112-hidden-desktop\">Leave website feedback</span><span class=\"abper-112-text abper-112-hidden-mobile\">Feedback</span></div>';\r\nvar buttonElement = document.createElement('div');\r\nbuttonElement.classList.add('abper-112-toggle');\r\nbuttonElement.setAttribute(\"role\", \"button\");\r\nbuttonElement.setAttribute(\"tabindex\", \"0\");\r\nbuttonElement.setAttribute(\"id\", \"bx-mobile_web_feedback_button\");\r\nbuttonElement.innerHTML = buttonTemplate;\r\n//window.feedbackButtonLoaded = false;\r\n\r\nif ( document.getElementsByClassName(\"ek-global-navigation__megalinks\")[0] && !window.feedbackButtonLoaded ) {\r\n    if (!document.getElementById('bx-mobile_web_feedback_button')) {\r\n        var menuContainer = document.getElementsByClassName(\"ek-global-navigation__megalinks\")[0];\r\n        var countrySelector = document.getElementsByClassName(\"country-selector-mobile\")[0];\r\n        menuContainer.insertBefore(buttonElement, countrySelector);\r\n        window.feedbackButtonLoaded = true;\r\n    }\r\n}\r\nelse if ( document.querySelector(\".nav__mobile-wrapper .nav__list\") && !window.feedbackButtonLoaded ) {\r\n    var menuContainer = document.querySelector(\".nav__mobile-wrapper .nav__list\");\r\n    var mainMenu = document.querySelector(\".nav__mobile-wrapper .nav__list .nav__lang-wrapper\");\r\n    menuContainer.insertBefore(buttonElement, mainMenu);\r\n    window.feedbackButtonLoaded = true;\r\n}\r\nelse if ( document.getElementsByClassName(\"main-navigation__content\") && !window.feedbackButtonLoaded ) {\r\n    if(dataLayer && dataLayer[0] && dataLayer[0].pageCategory === 'Dubai Experience') {\r\n        var menuContainer = document.querySelector('.ek__layout.ek__layout--dexp');\r\n        menuContainer.insertBefore(buttonElement, menuContainer.firstChild);\r\n    } else {\r\n        var menuContainer = document.getElementsByClassName(\"main-navigation__content\")[0];\r\n        var mainMenu = document.getElementsByClassName(\"main-navigation__nav\")[0];\r\n        menuContainer.insertBefore(buttonElement, mainMenu);\r\n    }\r\n    window.feedbackButtonLoaded = true;\r\n}\r\n\r\n\r\n/* Get all elements required */\r\nvar bxMobileWebFeedbackButton = document.getElementById('bx-mobile_web_feedback_button');\r\nvar bxModal = document.getElementById('bx-modal_overlay');\r\nvar bxFeedback = document.getElementById('bx-feedback_option');\r\nvar bxOptions = document.getElementById('bx-options');\r\nvar bxRating = document.getElementById('bx-rating');\r\nvar bxModalClose = bxModal.querySelector('.bx-modal__btn-close-icon');\r\nvar bxRatingButtons = document.getElementById('bx-rating_buttons');\r\nvar bxComment = document.getElementById('bx-comment');\r\nvar bxCommentTextarea = document.getElementById('bx-comment_textarea');\r\nvar bxSubmitFeedback = document.getElementById('bx-submit_feedback');\r\nvar bxThankYou = document.getElementById('bx-thank_you');\r\nvar bxCloseButton = document.getElementById('bx-close');\r\nvar bxModalOverlay = document.getElementById('bx-modal_overlay');\r\nvar bxContactLink = document.getElementById('bx-contact_link');\r\nvar bxComplaintLink = document.getElementById('bx-complaint_link');\r\nvar bxStars = document.getElementsByClassName(\"bx-star\");\r\nvar ratingValue = 0;\r\nvar countryRegion = dataLayer[0].countryRegion ? dataLayer[0].countryRegion : \"\";\r\n\r\nfunction closeModal() {\r\n    bxThankYou.style.display = 'none';\r\n    bxComment.style.display = 'none';\r\n    bxRating.style.display = 'none';\r\n    bxOptions.style.display = 'flex';\r\n    bxModal.style.display = 'none';\r\n    if (document.querySelector(\".rating > input:checked\")) {\r\n        document.querySelector(\".rating > input:checked\").checked = false;\r\n        bxCommentTextarea.value = \"\";\r\n    }\r\n}\r\n\r\nfunction getPos() {\r\n    var re = new RegExp('emirates.com\\/[a-z]{2}\\/');\r\n    var matches = re.exec(window.location.href);\r\n    if (matches && matches.length > 0)\r\n        return matches[0].substring(0, matches[0].length - 1);\r\n    else\r\n        return \"emirates.com\";\r\n}\r\n\r\nfunction getCountryCode() {\r\n    var pos = getPos();\r\n    return pos.substring(pos.length - 2);\r\n}\r\n\r\nfunction sendGaEvent(category, action, label, nonInteraction = false){\r\n\tif (\"ga\" in window) {\r\n\t\tvar tracker;\r\n\t    ga.getAll().forEach(function(t) {\r\n    \t\tif(t.get('trackingId') === GA_TRACKING_ID) {\r\n    \t\t\ttracker = t;\r\n    \t\t}\r\n    \t});\r\n\t    if (tracker) {\r\n\t        tracker.send('event', category, action, label, {nonInteraction: nonInteraction});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getGaClientId() {\r\n    var clientId = \"\";\r\n    dataLayer.forEach(function(d) {\r\n        if (d.googleAnalyticsClientID) {\r\n            clientId = d.googleAnalyticsClientID;\r\n        }\r\n    });\r\n    return clientId;\r\n}\r\n\r\nfunction onClickRatingStar() {\r\n    ratingValue = this.getAttribute(\"rating\");\r\n    bxRating.style.display = 'none';\r\n    bxComment.style.display = 'block';\r\n    sendGaEvent('Popup Interaction', 'Form Completed', 'VOC:SitewideSurvey:StarSelected:Score:' + ratingValue);\r\n}\r\n\r\nbxMobileWebFeedbackButton.onclick = function() {\r\n    bxModal.classList.remove(\"bx-hidden_important\");\r\n    bxModal.style.display = 'flex';\r\n    sendGaEvent('Page Body Interaction', 'SiteTab Clicked', 'VOC:SitewideSurvey');\r\n};\r\n\r\nbxModal.style.display = 'flex';\r\n\r\nbxFeedback.onclick = function() {\r\n    bxOptions.style.display = 'none';\r\n    bxRating.style.display = 'block';\r\n    sendGaEvent('Popup Interaction', 'CTA Clicked','VOC:SitewideSurvey:Experience Selected:Submit Feedback');\r\n};\r\n\r\nbxContactLink.onclick = function() {\r\n    sendGaEvent('Popup Interaction', 'CTA Clicked','VOC:SitewideSurvey:Experience Selected:Contact Us');\r\n};\r\n\r\nbxComplaintLink.onclick = function() {\r\n    sendGaEvent('Popup Interaction', 'CTA Clicked','VOC:SitewideSurvey:Experience Selected:Report Issue');\r\n};\r\n\r\nfor (var i = 0; i < bxStars.length; i++) {\r\n\tbxStars[i].onclick = onClickRatingStar;\r\n}\r\n\r\nfunction getDeviceType() {\r\n    \r\n    var defaultOptions = {\r\n        emptyUserAgentDeviceType: 'desktop',\r\n        botUserAgentDeviceType: 'bot',\r\n        carUserAgentDeviceType: 'car',\r\n        consoleUserAgentDeviceType: 'tv',\r\n        tvUserAgentDeviceType: 'tv'\r\n    };\r\n\r\n    var ua = navigator.userAgent || '';\r\n\r\n    if (!ua || ua === '') {\r\n        // No user agent.\r\n        return defaultOptions.emptyUserAgentDeviceType;\r\n    }\r\n    // overwrite Flipboard user agent otherwise it's detected as a desktop\r\n    if (ua.match(/FlipboardProxy/i))\r\n        ua = 'FlipboardProxy/1.1;  http://flipboard.com/browserproxy';\r\n    if (ua.match(/Applebot/i))\r\n        ua = 'Applebot/0.1;  http://www.apple.com/go/applebot';\r\n    if (ua.match(/GoogleTV|SmartTV|SMART-TV|Internet TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|hbbtv|CrKey|CE\\-HTML/i)) {\r\n        // if user agent is a smart TV - http://goo.gl/FocDk\r\n        return defaultOptions.tvUserAgentDeviceType;\r\n    } else if (ua.match(/Xbox|PLAYSTATION (3|4)|Wii/i)) {\r\n        // if user agent is a TV Based Gaming Console\r\n        return defaultOptions.consoleUserAgentDeviceType;\r\n    } else if (ua.match(/QtCarBrowser/i)) {\r\n        // if the user agent is a car\r\n        return defaultOptions.carUserAgentDeviceType;;\r\n    } else if (ua.match(/Googlebot|bingbot/i)) {\r\n        // if user agent is a BOT/Crawler/Spider\r\n        return defaultOptions.botUserAgentDeviceType;\r\n    } else if (ua.match(/WhatsApp/i)) {\r\n        // if user agent is a BOT/Crawler/Spider\r\n        return defaultOptions.botUserAgentDeviceType;\r\n    } else if (ua.match(/iP(a|ro)d/i) || (ua.match(/tablet/i) && !ua.match(/RX-34/i)) || ua.match(/FOLIO/i)) {\r\n        // if user agent is a Tablet\r\n        return 'tablet';\r\n    } else if (ua.match(/Linux/i) && ua.match(/Android/i) && !ua.match(/Fennec|mobi|HTC Magic|HTCX06HT|Nexus One|SC-02B|fone 945/i)) {\r\n        // if user agent is an Android Tablet\r\n        return 'tablet';\r\n    } else if (ua.match(/Kindle/i) || (ua.match(/Mac OS/i) && ua.match(/Silk/i)) || (ua.match(/AppleWebKit/i) && ua.match(/Silk/i) && !ua.match(/Playstation Vita/i))) {\r\n        // if user agent is a Kindle or Kindle Fire\r\n        return 'tablet';\r\n    } else if (ua.match(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC( Flyer|_Flyer)|Sprint ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos S7|Dell Streak 7|Advent Vega|A101IT|A70BHT|MID7015|Next2|nook/i) || (ua.match(/MB511/i) && ua.match(/RUTEM/i))) {\r\n        // if user agent is a pre Android 3.0 Tablet\r\n        return 'tablet';\r\n    } else if (ua.match(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google Wireless Transcoder/i) && !ua.match(/AdsBot-Google-Mobile/i)) {\r\n        // if user agent is unique phone User Agent\r\n        return 'phone';\r\n    } else if (ua.match(/Opera/i) && ua.match(/Windows NT 5/i) && ua.match(/HTC|Xda|Mini|Vario|SAMSUNG\\-GT\\-i8000|SAMSUNG\\-SGH\\-i9/i)) {\r\n        // if user agent is an odd Opera User Agent - http://goo.gl/nK90K\r\n        return 'phone';\r\n    } else if ((ua.match(/Windows( )?(NT|XP|ME|9)/) && !ua.match(/Phone/i)) && !ua.match(/Bot|Spider|ia_archiver|NewsGator/i) || ua.match(/Win( ?9|NT)/i) || ua.match(/Go-http-client/i)) {\r\n        // if user agent is Windows Desktop\r\n        return 'desktop';\r\n    } else if (ua.match(/Macintosh|PowerPC/i) && !ua.match(/Silk|moatbot/i)) {\r\n        // if agent is Mac Desktop\r\n        return 'desktop';\r\n    } else if (ua.match(/Linux/i) && ua.match(/X11/i) && !ua.match(/Charlotte|JobBot/i)) {\r\n        // if user agent is a Linux Desktop\r\n        return 'desktop';\r\n    } else if (ua.match(/CrOS/)) {\r\n        // if user agent is a Chrome Book\r\n        return 'desktop';\r\n    } else if (ua.match(/Solaris|SunOS|BSD/i)) {\r\n        // if user agent is a Solaris, SunOS, BSD Desktop\r\n        return 'desktop';\r\n    } else if (ua.match(/Mozilla\\/5\\.0 \\(\\)|AdsBot-Google-Mobile/i) && ua.match(/Phone/i)) {\r\n        // if user agent is a BOT/Crawler/Spider\r\n        return defaultOptions.botUserAgentDeviceType;\r\n    } else if (ua.match(/Mozilla\\/5\\.0 \\(\\)|jack|Applebot|FlipboardProxy|Go 1.1 package|HTMLParser|simplereach|python-requests|ShowyouBot|MetaURI|nineconnections|(^Java\\/[0-9._]*)|Commons-HttpClient|InAGist|HTTP-Java-Client|curl|Wget|Bot|B-O-T|Crawler|Spider|Spyder|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|Charlotte|NewsGator|TinEye|Cerberian|SearchSight|Zao|Scrubby|Qseero|PycURL|Pompos|oegp|SBIder|yoogliFetchAgent|yacy|webcollage|VYU2|voyager|updated|truwoGPS|StackRambler|Sqworm|silk|semanticdiscovery|ScoutJet|Nymesis|NetResearchServer|MVAClient|mogimogi|Mnogosearch|Arachmo|Accoona|holmes|htdig|ichiro|webis|LinkWalker|lwp-trivial|facebookexternalhit|monit\\/|ELB-HealthChecker\\/|JobBot|GoogleCloudMonitoring|GoogleStackdriverMonitoring|gomezagent|apm synthetic agent|ruxitsynthetic|ktxn|khte|ktht|dynatrace|TrendsmapResolver|WinHTTP/i) && !ua.match(/phone|Playstation/i)) {\r\n        // if user agent is a BOT/Crawler/Spider\r\n        return defaultOptions.botUserAgentDeviceType;\r\n    } else {\r\n        // Otherwise returning the unknown type configured\r\n        return defaultOptions.emptyUserAgentDeviceType;\r\n    }\r\n\r\n};\r\n\r\nfunction callApi(url, callback) {\r\n  var xhr = new XMLHttpRequest();\r\n\r\n  xhr.open('GET', url, true);\r\n\r\n  xhr.onreadystatechange = function () {\r\n    if (xhr.readyState === 4) { // Request completed\r\n      if (xhr.status === 200) {\r\n        try {\r\n          var response = JSON.parse(xhr.responseText);\r\n          callback(null, response); // Success\r\n        } catch (e) {\r\n          callback('Error parsing response JSON'); // JSON parse error\r\n        }\r\n      } else {\r\n        callback('API call failed with status: ' + xhr.status); // HTTP error\r\n      }\r\n    }\r\n  };\r\n\r\n  xhr.onerror = function () {\r\n    callback('Network error or request aborted'); // Network-level error\r\n  };\r\n\r\n  xhr.send();\r\n}\r\n\r\nvar country   = '';\r\n\r\nfunction submitToBoxever() {\r\n    var feedbackEvent = {\r\n        \"channel\"           : \"WEB\",\r\n        \"type\"              : \"FEEDBACK\",\r\n        \"language\"          : dataLayer[0].languageCode,\r\n        \"currency\"          : dataLayer[0].posSiteCurrencyCode,\r\n        \"page\"              : dataLayer[0].pageName,\r\n        \"pos\"               : getPos(),\r\n        \"browser_id\"        : Boxever.getID(),\r\n        \"rating\"            : ratingValue,\r\n        \"comment\"           : document.getElementById('bx-comment_textarea').value,\r\n        \"survey_id\"         : \"150174\",\r\n        \"question_text\"     : document.getElementById('bx-header_question').textContent,\r\n        \"page_category\"     : dataLayer[0].pageCategory ? dataLayer[0].pageCategory : \"\",\r\n        \"visitor_session_id\": dataLayer[0].visitorSessionID ? dataLayer[0].visitorSessionID : \"\",\r\n        \"platform_type\"     : dataLayer[0].platformType ? dataLayer[0].platformType : \"\",\r\n        \"country_region\"    : countryRegion,\r\n        \"member_tier\"       : dataLayer[0].memberTier ? dataLayer[0].memberTier : \"\",\r\n        \"page_url\"          : window.location.href,\r\n        \"ga_client_id\"      : getGaClientId(),\r\n        \"device_type\"        : getDeviceType(),\r\n        \"country\"           : country\r\n    };\r\n    Boxever.eventCreate(feedbackEvent, function (data) { }, 'json');\r\n    sendGaEvent('Popup Interaction', 'Form Completed', 'VOC:SitewideSurvey:VerbatimSubmitted:Score:' + ratingValue);\r\n};\r\n\r\nbxSubmitFeedback.onclick = function() {\r\n    bxThankYou.style.display = 'block';\r\n    bxComment.style.display = 'none';\r\n    \r\n    if (ratingValue && ratingValue > 0) {\r\n            \r\n        // Getting User Geo Location\r\n        callApi('https://www.emirates.com/service/geo', function (err, data) {\r\n            if (err) {\r\n                submitToBoxever();\r\n            } else {\r\n                country = (data && data.country) ? data.country : '';\r\n                submitToBoxever();        \r\n            }\r\n        });\r\n        \r\n    }\r\n};\r\n\r\nbxModalClose.onclick = function() {\r\n    closeModal();\r\n};\r\n\r\nbxCloseButton.onclick = function() {\r\n    closeModal();\r\n};\r\n\r\nvar pos = getPos();\r\ndocument.getElementById('bx-contact_link').setAttribute(\"href\", (\"/\" + getCountryCode() + \"/english/help/\") );\r\ndocument.getElementById('bx-complaint_link').setAttribute(\"href\", (\"/\" + getCountryCode() + \"/english/help/complaint.aspx\") );\r\ndocument.getElementById('bx-faq_link').setAttribute(\"href\", (\"/\" + getCountryCode() + \"/english/help/faqs/\") );\r\ndocument.getElementById('bx-contact_link2').setAttribute(\"href\", (\"/\" + getCountryCode() + \"/english/help/\") );\r\n\r\n/* Add feedback to card on Help page */\r\nif (document.querySelector('ul.help-centre-feedback__cards-container > li [data-link=\"Complaints and feedback:Website feedback\"]')) {\r\n    var helpFeedbackCard =  document.querySelector('ul.help-centre-feedback__cards-container > li [data-link=\"Complaints and feedback:Website feedback\"]');\r\n    helpFeedbackCard.onclick = function() {\r\n        bxOptions.style.display = 'none';\r\n        bxRating.style.display = 'block';\r\n        bxModal.classList.remove(\"bx-hidden_important\");\r\n        bxModal.style.display = 'flex';\r\n    };\r\n}\r\n"}}],notificationEnabled:!1},{ref:"02696c08-2de3-4761-9eb7-b3f6f320cd4d",name:"BOX-444 Tier Review Paid Silver Tier Offer V2",revision:5,archived:!1,target:{script:"",targetPages:[{operator:"Contains",value:"/skywards/retain-your-emirates-skywards-status/"}]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"80fe7063-7707-4116-8465-9d406ff4eec0",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"80fe7063-7707-4116-8465-9d406ff4eec0",name:"Paid Tier Offer",assets:{css:"@media only screen and (min-width: 992px) {\n.promo-wrapper {\n    margin: 0;\n    padding-top: 30px;\n    border-radius: 0;\n}\n}\n\n.promo-wrapper {\n    padding: 25px 20px 0;\n    overflow: hidden;\n    background-color: #fff;\n    border-radius: 3px;\n    box-shadow: 0 2px 4px 2px rgb(0 0 0 / 10%);\n}\n\n@media only screen and (min-width: 992px) {\n.promo-wrapper__button-wrapper {\n    margin: 0 auto 25px;\n}\n}\n\n.promo-wrapper__button-wrapper {\n    position: relative;\n    width: 230px;\n    margin: 0 auto 20px;\n}\n\n.promo-wrapper__multiline-button.call-to-action {\n    height: auto;\n    min-height: 40px;\n    padding: 10px 20px;\n    line-height: 1.8rem;\n    white-space: normal;\n}\n\n.promo-wrapper__multiline-button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    line-height: 1.4rem;\n    white-space: normal;\n}\n\n@media only screen and (min-width: 992px) {\n.promo-wrapper__image-wrapper {\n    width: 50%;\n}\n}\n\n.promo-wrapper__image-wrapper {\n    width: 80%;\n    margin: 0 auto;\n}\n\n.promo-wrapper__image-container {\n    height: 100px;\n    text-align: center;\n}\n\n.promo-wrapper__image-container img {\n    width: auto;\n    height: 100%;\n}\n\n.promo-wrapper .enhanced-content-header__subtext {\n    margin: 20px auto;\n}\n\n@media only screen and (min-width: 992px) {\n    #skywardsTierRenewal .enhanced-content-header__subtext {\n        margin: 0 auto 25px;\n    }\n}",html:'<div id="skywardsTierRenewal" style="display:none">\n  <div class="e-container--separator">\n    <div class="promo-wrapper" data-auto="content-promo">\n      <div class="enhanced-content-header promo-wrapper__header">\n        <p class="enhanced-content-header__section" aria-hidden="false">\n         [preTitle]\n        </p>\n        <h2\n          class="enhanced-content-header__text enhanced-content-header__text--mixed promo-wrapper__text reset-h"\n        >\n          [title]\n        </h2>\n        <div\n          class="enhanced-rich-text enhanced-content-header__subtext enhanced-content-header__subtext--mixed promo-wrapper__subtext enhanced-content-header__subtext--bottom"\n        >\n          [body]\n        </div>\n      </div>\n      <div class="promo-wrapper__button-wrapper">\n        <a\n          class="link link--default promo-wrapper__multiline-button call-to-action call-to-action__secondary call-to-action--middle"\n          href="[ctaLink]"\n          ><span class="link__text" id="">[ctaTitle]</span></a\n        >\n      </div>\n      <div class="promo-wrapper__image-wrapper">\n        <div class="promo-wrapper__image-container">\n          <img\n            class="promo-wrapper__image"\n            loading="lazy"\n            src="[image]"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',js:"var script = document.createElement('script');\nfunction sendBoxeverEvent(eventType) {\n    let eventLabel = `BOX444_${eventType}`;\n    var event = {\n        channel: \"WEB\",\n        type: eventLabel,\n        page: dataLayer[0].pageName,\n        pos: _boxever_settings.pointOfSale,\n        browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, function (data) { }, \"json\");\n}\n\nfunction addQMIntegration() {\n    document.body.classList.add(\"em-box444-tier-review-paid-tier\");\n}\n\nfunction getResourceKeys(resources, resourceMap) {\n    let mappedResources = {};\n    for (var key of Object.keys(resourceMap)) {\n        if (resourceMap[key] in resources) {\n            mappedResources[key] = resources[resourceMap[key]];\n        } else {\n            mappedResources[key] = \"\";\n        }\n    }\n    return mappedResources;\n}\n\nfunction interpolate(pattern = \"\", data = {}, soft = false) {\n    return pattern.replace(\n        // /\\{(?:(?:\\{(\\w+)\\})|(\\w+))\\}/gm, // matches word characters in single or double braces only\n        // /\\{+(\\w+)\\}+/gm, // matches word characters enclosed in arbitrary number of braces\n        /{+(\\w+([-']\\w+)*)}+/gm, // matches word characters with dash enclosed in arbitrary number of braces\n        (_, single, double) => {\n            const key = single || double;\n            const value = data[key];\n            if (!value) {\n                console.error(\"Interpolation key was not found in data object:\", key);\n                if (!soft) return `{${key}?}`;\n                return \"\";\n            }\n            return value;\n        }\n    );\n}\n\nfunction excludeCommas(weekDaysOrMonths) {\n    if (weekDaysOrMonths) {\n        const comma = weekDaysOrMonths.includes(',') ? ',' : '';\n\n        return weekDaysOrMonths\n            .split(comma)\n            .map(item => item.trim());\n    }\n}\n\n/**\n * Moment need to be bind with tridion keys, following function accept tridion\n * keys and retrun corresponding moment config.\n * @param {Object} MomentConfig\n */\nfunction getLocaleConfig(resources = {}) {\n    const calendarDaysArray = excludeCommas(resources['Common/Date/calendar-days__text']);\n    const calendarDaysShortArray = excludeCommas(resources['Common/Date/calendar-days-short__text']);\n    const calendarMonthsArray = excludeCommas(resources['Common/Date/calendar-months__text']);\n    const calendarMonthsShortArray = excludeCommas(resources['Common/Date/calendar-months-short__text']);\n    console.log(resources.calendarMonthsText);\n    return {\n        ...(calendarDaysArray && { weekdays: calendarDaysArray }),\n        ...(calendarDaysShortArray && { weekdaysShort: calendarDaysShortArray }),\n        ...(calendarMonthsArray && { months: calendarMonthsArray }),\n        ...(calendarMonthsShortArray && { monthsShort: calendarMonthsShortArray }),\n    };\n}\n\nfunction localizeMoment(lang = 'en') {\n    console.log(__INITIAL_STATE__.resources);\n    if (__INITIAL_STATE__.resources) {\n        moment.locale(lang, getLocaleConfig(__INITIAL_STATE__.resources));\n    } else {\n        moment.locale(lang);\n    }\n\n    moment.updateLocale(lang, {\n        postformat: function (input) { return input; },\n    });\n}\n\n(function () {\n    var script = document.createElement('script');\n    script.onload = function () {\n        localizeMoment(resources, __INITIAL_STATE__.urlparser.results.langCode);\n        const publication = `${__INITIAL_STATE__.urlparser.results.countryCompat\n            ? `/${__INITIAL_STATE__.urlparser.results.countryCompat}`\n            : \"/global\"\n            }/${__INITIAL_STATE__.urlparser.results.language}`;\n        Promise.all([fetch(`https://www.emirates.com/service/content/api/v4.0/resources/eol/${publication}/Experiences/Tier-Review`)\n            .then(response => response.json()),\n        fetch(`https://www.emirates.com/service/itemlist?country=${__INITIAL_STATE__.urlparser.results.countryCompat}&lang=${__INITIAL_STATE__.urlparser.results.language}`)\n            .then(response => response.json())])\n            .then(([response, itemList]) => {\n                if (response && response.results && Object.keys(response.results).length && itemList && itemList.results &&\n                    Object.keys(itemList.results).length && itemList.results['skywards-tier']) {\n                    const skywardsTier = \"{{data.tier}}\";\n                    let tier = '';\n                    if (skywardsTier) {\n                        tier = itemList.results['skywards-tier'].value.find(x => x.key.toLowerCase() === skywardsTier.toLowerCase()).value;\n                    }\n                    replaceHTML('[data-organism=\"image-block-media-focused\"]');\n                    addQMIntegration();\n                    var content = \"{{data.content}}\";\n                    const price = \"{{data.price}}\";\n                    const offerCode = \"{{data.offerCode}}\";\n                    const tierReviewDate = new Date(\"{{data.tierReviewDate}}\");\n                    const formattedTierReviewDate = moment(tierReviewDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                    var renewalDiv = document.getElementById('skywardsTierRenewal').innerHTML;\n\n                    const resources = response.results;\n                    if (content === 'auto_renew') {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', interpolate(resources['Experiences/Tier-Review/auto-renewal-title__text'], {\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[body]', interpolate(resources['Experiences/Tier-Review/auto-renewal-body__text'], {\n                            tier_review_date: formattedTierReviewDate,\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/auto-renewal-pre-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', resources['Experiences/Tier-Review/auto-renewal-cta-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaLink]', resources['Experiences/Tier-Review/renewal-cta__link'].url);\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-auto-renewal__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-auto-renewal__image'].url;\n                                break;\n                            case 'platinum':\n                                tierImage = resources['Experiences/Tier-Review/platinum-auto-renewal__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Permanent Experience Clicked\",\n                                label: `BX:402:Tier Review:Auto Renewal Offer`,\n                                value: 0,\n                            });\n                        });\n                    }\n                    else if (content === \"stretch\") {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', resources['Experiences/Tier-Review/stretched-title__text']);\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/stretched-pre-title__text']);\n                        const endDate = new Date(\"{{data.endDate}}\");\n                        const formattedEndDate = moment(endDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                        renewalDiv = renewalDiv.replace(\"[body]\", interpolate(resources[\"Experiences/Tier-Review/stretched-body__text\"], {\n                            tier,\n                            purchase_end_date: formattedEndDate,\n                            reduction: \"{{data.reductionPercent}}\",\n                            bonusMiles: \"{{data.bonusMiles}}\"\n                        }));\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', resources['Experiences/Tier-Review/stretched-cta-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaLink]', resources['Experiences/Tier-Review/stretched-cta__link'].url);\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-stretch__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-stretch__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Permanent Experience Clicked\",\n                                label: `BX:418:Tier Review:Stretch Offer`,\n                                value: 0,\n                            });\n                        });\n\n                    } else if (content === \"paid_tier\") {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', interpolate(resources['Experiences/Tier-Review/paid-tier-title__text'], {\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/paid-tier-pre-title__text']);\n                        const endDate = new Date(\"{{data.endDate}}\");\n                        const formattedEndDate = moment(endDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                        renewalDiv = renewalDiv.replace(\"[body]\", interpolate(resources[\"Experiences/Tier-Review/paid-tier-body__text\"], {\n                            tier,\n                            purchase_end_date: formattedEndDate,\n                            price\n                        }));\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', interpolate(resources['Experiences/Tier-Review/paid-tier-cta-title__text'], {\n                            tier\n                        }));\n                        if (tier.toLowerCase() === 'gold') {\n                            renewalDiv = renewalDiv.replace('[ctaLink]', `/account/${__INITIAL_STATE__.urlparser.results.countryCompat}/${__INITIAL_STATE__.urlparser.results.language}/tier-renew/gold/index.aspx?offerCode=${offerCode}`);\n                        } else if (tier.toLowerCase() === 'silver') {\n                            renewalDiv = renewalDiv.replace('[ctaLink]', `/account/${__INITIAL_STATE__.urlparser.results.countryCompat}/${__INITIAL_STATE__.urlparser.results.language}/tier-renew/silver/index.aspx?offerCode=${offerCode}`);\n                        }\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-paid-tier__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-paid-tier__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Permanent Experience Clicked\",\n                                label: `BX:444:Tier Review:Paid Tier Offer`,\n                                value: 0,\n                            });\n                        });\n                    }\n                    sendBoxeverEvent('VIEWED');\n                    dataLayer.push({\n                        event: \"EventTrigger.PageBody_PromotionShown\",\n                        category: \"A/B Testing and Personalisation\",\n                        action: \"Permanent Experience Shown\",\n                        label: `BX:444:Tier Review:Paid Tier Offer`,\n                        value: 0,\n                        nonInteraction: true,\n                    });\n                }\n            }).catch(e => console.error(e));\n    }\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js';\n\n    document.head.appendChild(script);\n})();\n\n"}}],notificationEnabled:!1},{ref:"45f224b7-5b58-4934-8df6-641132e36120",name:"Customer Prediction Cookie",revision:89,archived:!1,traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"e54b3dff-6fef-4382-8e6d-e565df140946",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"e54b3dff-6fef-4382-8e6d-e565df140946",name:"Set Customer model cookie",assets:{css:"/** style your Experience with CSS */",html:"",js:'(function () {\n\n    function setCookie(name, value, days) {\n        let expires = "";\n        \n        if (days) {\n            let date = new Date();\n            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n            expires = "; expires=" + date.toUTCString();\n        }\n        \n        document.cookie = name + "=" + value + expires + "; path=/; domain=.emirates.com; secure";\n    }\n    \n    // If the user is customer, then get the data from predictive marketing data extension attribute, here are the mapping for those attributes :\n    // - bookingLabel: trip_purchase_classification.\n    // - bookingPropensity:  trip_purchase_propensity.\n    // - abandonmentLabel: abandonment_classification.\n    // - abandonmentPropensity: abandonment_propensity.\n    \n    let bookingLabel          = "{{trip_purchase_classification}}";\n    let bookingPropensity     = "{{trip_purchase_propensity}}";\n    let abandonmentLabel      = "{{abandonment_classification}}";\n    let abandonmentPropensity = "{{abandonment_propensity}}";\n    let purchases             = "{{purchases}}";\n    \n    setCookie("PLV", JSON.stringify(\n        {\n            bl: bookingLabel,\n            bp: bookingPropensity, \n            al: abandonmentLabel,\n            ap: abandonmentPropensity, \n            gt: 2,\n            p : purchases \n        }) , 14);\n})();\n\n'}}],notificationEnabled:!1},{ref:"2b4a6993-8b88-4e72-ab2a-a2447be4b434",name:"VOC - End of Journey - OLCI",revision:126,archived:!1,target:{script:'var inclusions = [\n    "OLCI/BoardingDelivery",\n    "/OLCI/BoardingDelivery"\n];\n\nfunction isIncluded() {\n    for (var i = 0; i < inclusions.length; i++) {\n        if (window.location.href.indexOf(inclusions[i]) >= 0)\n            return true;\n    }\n    return false;\n}\n\nfunction isEnglish() {\n    return dataLayer[0].languageCode.substr(0,2) === "EN";\n}\n\nfunction triggerVOC() {\n    if (isIncluded() && isEnglish()) {\n        targetingPassed();\n    }\n}\n\ntriggerVOC();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"a2956dd0-d121-40c4-8cc6-accfb26eb786",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"a2956dd0-d121-40c4-8cc6-accfb26eb786",name:"Personalisation",assets:{css:'/* Hide original top banner (in case it\'s present) */\r\n.operational-updates {\r\n    display: none !important;\r\n}\r\n\r\n/* Add this clase when \'click\' close icon */\r\n.bx_TopBanner--hide {\r\n    display: none !important;\r\n}\r\n\r\n/* Push content down to allocate top banner */\r\nbody.show-TopBanner {\r\n    margin-top: 163px !important;\r\n}\r\n\r\n/* pre-load images */\r\n/* body:after {\r\n    display: none;\r\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktNUAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiM1M0EzNTMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTAuMzEyNSwzNSBMMTkuNjg3NSwzNSBDMTguNDc5MzE2NCwzNSAxNy41LDM1Ljk3OTMxNjQgMTcuNSwzNy4xODc1IEMxNy41LDQ2Ljg1MjQyMTkgMjUuMzM1MDc4MSw1NC42ODc1IDM1LDU0LjY4NzUgQzQ0LjY2NDkyMTksNTQuNjg3NSA1Mi41LDQ2Ljg1MjQyMTkgNTIuNSwzNy4xODc1IEM1Mi41LDM1Ljk3OTMxNjQgNTEuNTIwNjgzNiwzNSA1MC4zMTI1LDM1IFogTTM1LDUwLjMxMjUwMjkgQzI4LjU5MjEyODksNTAuMzE2NzM4MyAyMy4xMTc5MTAyLDQ1LjY5MzE4MzYgMjIuMDUsMzkuMzc1IEw0Ny45NSwzOS4zNzUgQzQ2Ljg4MjA4OTgsNDUuNjkzMTgzNiA0MS40MDc4NzExLDUwLjMxNjczODMgMzUsNTAuMzEyNTAyOSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwwIEMxNS42NzAwMTk1LDAgMCwxNS42NzAwMTk1IDAsMzUgQzAsNTQuMzI5OTgwNSAxNS42NzAwMTk1LDcwIDM1LDcwIEM1NC4zMjk5ODA1LDcwIDcwLDU0LjMyOTk4MDUgNzAsMzUgQzcwLDE1LjY3MDAxOTUgNTQuMzI5OTgwNSwwIDM1LDAgWiBNMzUsNjUuNjI1IEMxOC4wODYyNSw2NS42MjUgNC4zNzUsNTEuOTEzNzUgNC4zNzUsMzUgQzQuMzc1LDE4LjA4NjI1IDE4LjA4NjI1LDQuMzc1IDM1LDQuMzc1IEM1MS45MTM3NSw0LjM3NSA2NS42MjUsMTguMDg2MjUgNjUuNjI1LDM1IEM2NS42MjUsNTEuOTEzNzUgNTEuOTEzNzUsNjUuNjI1IDM1LDY1LjYyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSIyNC4wNjI1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgY3g9IjQ1LjkzNzUiIGN5PSIyNC4wNjI1IiByPSI0LjM3NSI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==) url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktNUAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiM1M0EzNTMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTAuMzEyNSwzNSBMMTkuNjg3NSwzNSBDMTguNDc5MzE2NCwzNSAxNy41LDM1Ljk3OTMxNjQgMTcuNSwzNy4xODc1IEMxNy41LDQ2Ljg1MjQyMTkgMjUuMzM1MDc4MSw1NC42ODc1IDM1LDU0LjY4NzUgQzQ0LjY2NDkyMTksNTQuNjg3NSA1Mi41LDQ2Ljg1MjQyMTkgNTIuNSwzNy4xODc1IEM1Mi41LDM1Ljk3OTMxNjQgNTEuNTIwNjgzNiwzNSA1MC4zMTI1LDM1IFogTTM1LDUwLjMxMjUwMjkgQzI4LjU5MjEyODksNTAuMzE2NzM4MyAyMy4xMTc5MTAyLDQ1LjY5MzE4MzYgMjIuMDUsMzkuMzc1IEw0Ny45NSwzOS4zNzUgQzQ2Ljg4MjA4OTgsNDUuNjkzMTgzNiA0MS40MDc4NzExLDUwLjMxNjczODMgMzUsNTAuMzEyNTAyOSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwwIEMxNS42NzAwMTk1LDAgMCwxNS42NzAwMTk1IDAsMzUgQzAsNTQuMzI5OTgwNSAxNS42NzAwMTk1LDcwIDM1LDcwIEM1NC4zMjk5ODA1LDcwIDcwLDU0LjMyOTk4MDUgNzAsMzUgQzcwLDE1LjY3MDAxOTUgNTQuMzI5OTgwNSwwIDM1LDAgWiBNMzUsNjUuNjI1IEMxOC4wODYyNSw2NS42MjUgNC4zNzUsNTEuOTEzNzUgNC4zNzUsMzUgQzQuMzc1LDE4LjA4NjI1IDE4LjA4NjI1LDQuMzc1IDM1LDQuMzc1IEM1MS45MTM3NSw0LjM3NSA2NS42MjUsMTguMDg2MjUgNjUuNjI1LDM1IEM2NS42MjUsNTEuOTEzNzUgNTEuOTEzNzUsNjUuNjI1IDM1LDY1LjYyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSIyNC4wNjI1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgY3g9IjQ1LjkzNzUiIGN5PSIyNC4wNjI1IiByPSI0LjM3NSI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\r\n} */\r\n\r\n/* Banner styling */\r\n#bx_TopBanner {\r\n    -webkit-box-shadow: 0px 0px 4px 0px rgba(9, 9, 9, 0.4);\r\n    -moz-box-shadow: 0px 0px 4px 0px rgba(9, 9, 9, 0.4);\r\n    box-shadow: 0px 0px 4px 0px rgba(9, 9, 9, 0.4);\r\n}\r\n\r\n#bx_TopBanner {\r\n    position: fixed;\r\n    z-index: 99998;\r\n    height: 163px;\r\n    width: 100%;\r\n    top: 0;\r\n    background: #F6F6F6;\r\n    font-family: Arial, HelveticaNeue-Light, Helvetica, sans-serif;\r\n}\r\n\r\n#bx_TopBanner .bx_TopBanner__banner {\r\n    padding-left: 50px;\r\n    padding-right: 50px;\r\n    margin: 0 auto;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    text-align: center;\r\n}\r\n\r\n#bx_TopBanner .bx_TopBanner__p {\r\n    margin: 8px 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: 24px;\r\n    width: 100%;\r\n    line-height: 10px;\r\n}\r\n\r\n#bx_TopBanner .bx_TopBanner__p--span {\r\n    color: #000;\r\n    font-family: HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\r\n    font-size: 14px;\r\n    line-height: 16.1px;\r\n    font-weight: 500;\r\n    padding-right: 40px;\r\n}\r\n\r\n#bx_TopBanner .bx_TopBanner__p--button {\r\n    border-radius: 4px;\r\n    color: #fff;\r\n    background-color: #00B377;\r\n    padding: 10px 23px;\r\n    margin-right: 30px;\r\n    cursor: pointer;\r\n}\r\n\r\n.bx__btn-close:hover,\r\n.bx__btn-close:focus,\r\n.bx__btn-close:active {\r\n    background-color: transparent;\r\n    box-shadow: none;\r\n    color: #333;\r\n    text-decoration: none !important;\r\n    cursor: pointer;\r\n}\r\n\r\n.bx_TopBanner__banner .bx-header_question {\r\n    font-family: HelveticaNeue, \\"Helvetica Neue\\", Helvetica, Arial, \\"Lucida Grande\\", sans-serif;\r\n    font-size: 14px;\r\n    font-weight: normal;\r\n    margin-bottom: 6px;\r\n    text-align: center;\r\n    color: #666;\r\n    padding: 15px 15px 0 10px;\r\n    letter-spacing: -.025em;\r\n}\r\n\r\n.bx-hidden {\r\n    display: none;\r\n}\r\n\r\n/* close button */\r\n.bx__btn-close__icon {\r\n    background: transparent;\r\n    width: 40px;\r\n    height: 40px;\r\n    position: absolute;\r\n    top: 54px;\r\n    right: 3px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    cursor: pointer;\r\n}\r\n\r\n.bx__btn-close__icon:after {\r\n    content: \'\';\r\n    height: 30px;\r\n    border-left: 2px solid #75808F;\r\n    position: absolute;\r\n    transform: rotate(45deg);\r\n    left: 28px;\r\n}\r\n\r\n.bx__btn-close__icon:before {\r\n    content: \'\';\r\n    height: 30px;\r\n    border-left: 2px solid #75808F;\r\n    position: absolute;\r\n    transform: rotate(-45deg);\r\n    left: 28px;\r\n}\r\n\r\n/* Rating Banner */\r\n.bx-rating {\r\n    margin: auto;\r\n}\r\n\r\n.bx-rating .rating {\r\n    border: none;\r\n}\r\n\r\n#bxbanner-rating_buttons {\r\n    height: 70px;\r\n}\r\n\r\n.bx-radio_label {\r\n    right: 39px;\r\n    left: 0;\r\n    bottom: -30px;\r\n    position: absolute;\r\n    font-size: 14px;\r\n    display: none;\r\n}\r\n\r\n.rating .bx-star5:hover~.bx-label5 {\r\n    display: block;\r\n}\r\n\r\n.rating .bx-star4:hover~.bx-label4 {\r\n    display: block;\r\n}\r\n\r\n.rating .bx-star3:hover~.bx-label3 {\r\n    display: block;\r\n}\r\n\r\n.rating .bx-star2:hover~.bx-label2 {\r\n    display: block;\r\n}\r\n\r\n.rating .bx-star1:hover~.bx-label1 {\r\n    display: block;\r\n}\r\n\r\n/* Comment Banner */\r\n.bx-comment {\r\n    max-width: 1100px;\r\n    padding: 15px 0;\r\n    text-align: left;\r\n    margin: auto;\r\n    margin-top: 20px;\r\n    width: 100%;\r\n    text-align: center;\r\n    padding-top: 22px !important;\r\n}\r\n\r\n.bx-comment_textarea {\r\n    background: #FFF;\r\n    border: 1px solid #666;\r\n    border-radius: 3px;\r\n    box-shadow: inset 4px 4px 0 0 #F6F6F6;\r\n    color: #333;\r\n    font-family: HelveticaNeue-Light, Helvetica Neue Light, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif;\r\n    font-size: 16px;\r\n    height: 60px;\r\n    width: 78%;\r\n    padding: 20px 18px 16px 20px;\r\n    outline: none;\r\n    resize: none;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.bx-comment_textarea:focus {\r\n    outline: none;\r\n    border-color: #666;\r\n}\r\n\r\n.bx-comment_submit {\r\n    background: #C60C30;\r\n    font-family: HelveticaNeue, \\"Helvetica Neue\\", Helvetica, Arial, \\"Lucida Grande\\", sans-serif;\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    height: 60px;\r\n    line-height: 60px;\r\n    max-width: 195px;\r\n    width: 20%;\r\n    color: #fff;\r\n    border-color: #555d63;\r\n    border-radius: 3px;\r\n    margin-left: 15px;\r\n}\r\n\r\n.bx-comment_submit:hover {\r\n    box-shadow: 0 0 5px 3px #999;\r\n}\r\n\r\n/* Thank You Banner */\r\n.bx-thank_you {\r\n    width: 100%;\r\n    padding-top: 45px;\r\n}\r\n\r\n.bx-thank_you:before {\r\n    content: \'\';\r\n    display: block;\r\n    height: 20px;\r\n    width: 8px;\r\n    border-bottom: 2px solid green;\r\n    border-right: 2px solid green;\r\n    position: absolute;\r\n    -webkit-transform: rotate(40deg);\r\n    transform: rotate(45deg);\r\n    left: 0;\r\n    right: 35px;\r\n    margin: 0 auto;\r\n    top: 18px;\r\n}\r\n\r\n.bx-thank_you:after {\r\n    content: \'\';\r\n    display: block;\r\n    height: 40px;\r\n    width: 40px;\r\n    border-radius: 50px;\r\n    border: 2px solid green;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 35px;\r\n    margin: 0 auto;\r\n    top: 10px;\r\n}\r\n\r\n.bx-thank_you .bx-thank_you_text {\r\n    font-family: HelveticaNeue, \\"Helvetica Neue\\", Helvetica, Arial, \\"Lucida Grande\\", sans-serif;\r\n    font-size: 15px;\r\n    font-weight: bold;\r\n    letter-spacing: normal;\r\n    line-height: 16.2px;\r\n    margin-bottom: 0;\r\n    margin-top: 22px;\r\n    padding: 0;\r\n    text-align: center;\r\n    color: #666;\r\n    margin: 15px 20px 15px 0;\r\n}\r\n\r\n.bx-thank_you .bx-thank_you_message {\r\n    font-size: 12px;\r\n}\r\n\r\n/* Rating Stars */\r\n.rating {\r\n    display: inline-block;\r\n    padding: 0;\r\n    margin-top: 12px;\r\n}\r\n\r\n/* :not(:checked) is a filter, so that browsers that dont support :checked dont    follow these rules. Every browser that supports :checked also supports :not(), so   it doesnt make the test unnecessarily selective */\r\n.rating:not(:checked)>input {\r\n    position: absolute;\r\n    top: -9999px;\r\n    clip: rect(0, 0, 0, 0);\r\n}\r\n\r\n.rating:not(:checked)>label {\r\n    float: right;\r\n    padding: 0 .1em;\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    cursor: pointer;\r\n    font-size: 300%;\r\n    line-height: 1.2;\r\n    color: #ddd;\r\n    transform: scale(.85);\r\n}\r\n\r\n.rating:not(:checked)>.bx-star5:before {\r\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktNUAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiM1M0EzNTMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNTAuMzEyNSwzNSBMMTkuNjg3NSwzNSBDMTguNDc5MzE2NCwzNSAxNy41LDM1Ljk3OTMxNjQgMTcuNSwzNy4xODc1IEMxNy41LDQ2Ljg1MjQyMTkgMjUuMzM1MDc4MSw1NC42ODc1IDM1LDU0LjY4NzUgQzQ0LjY2NDkyMTksNTQuNjg3NSA1Mi41LDQ2Ljg1MjQyMTkgNTIuNSwzNy4xODc1IEM1Mi41LDM1Ljk3OTMxNjQgNTEuNTIwNjgzNiwzNSA1MC4zMTI1LDM1IFogTTM1LDUwLjMxMjUwMjkgQzI4LjU5MjEyODksNTAuMzE2NzM4MyAyMy4xMTc5MTAyLDQ1LjY5MzE4MzYgMjIuMDUsMzkuMzc1IEw0Ny45NSwzOS4zNzUgQzQ2Ljg4MjA4OTgsNDUuNjkzMTgzNiA0MS40MDc4NzExLDUwLjMxNjczODMgMzUsNTAuMzEyNTAyOSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwwIEMxNS42NzAwMTk1LDAgMCwxNS42NzAwMTk1IDAsMzUgQzAsNTQuMzI5OTgwNSAxNS42NzAwMTk1LDcwIDM1LDcwIEM1NC4zMjk5ODA1LDcwIDcwLDU0LjMyOTk4MDUgNzAsMzUgQzcwLDE1LjY3MDAxOTUgNTQuMzI5OTgwNSwwIDM1LDAgWiBNMzUsNjUuNjI1IEMxOC4wODYyNSw2NS42MjUgNC4zNzUsNTEuOTEzNzUgNC4zNzUsMzUgQzQuMzc1LDE4LjA4NjI1IDE4LjA4NjI1LDQuMzc1IDM1LDQuMzc1IEM1MS45MTM3NSw0LjM3NSA2NS42MjUsMTguMDg2MjUgNjUuNjI1LDM1IEM2NS42MjUsNTEuOTEzNzUgNTEuOTEzNzUsNjUuNjI1IDM1LDY1LjYyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSIyNC4wNjI1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgY3g9IjQ1LjkzNzUiIGN5PSIyNC4wNjI1IiByPSI0LjM3NSI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\r\n    padding-right: 25px;\r\n    padding-left: 0;\r\n    \r\n}\r\n\r\n.rating:not(:checked)>.bx-star4:before {\r\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktNEAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiM4MUMyNTMiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTUwLjMxMjUsMzUgQzUwLjMxMjUsNDMuNDU2ODc1IDQzLjQ1Njg3NSw1MC4zMTI1IDM1LDUwLjMxMjUgQzI2LjU0MzEyNSw1MC4zMTI1IDE5LjY4NzUsNDMuNDU2ODc1IDE5LjY4NzUsMzUgTDE1LjMxMjUsMzUgQzE1LjMxMjUsNDUuODczMTA1NSAyNC4xMjY4OTQ1LDU0LjY4NzUgMzUsNTQuNjg3NSBDNDUuODczMTA1NSw1NC42ODc1IDU0LjY4NzUsNDUuODczMTA1NSA1NC42ODc1LDM1IEw1MC4zMTI1LDM1IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\r\n    padding-right: 25px;\r\n    padding-left: 0;\r\n    \r\n}\r\n\r\n.rating:not(:checked)>.bx-star3:before {\r\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktM0AzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNFQ0FFMjkiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZSIgeD0iMTkuNjg3NSIgeT0iNDEuNTYyNSIgd2lkdGg9IjMwLjYyNSIgaGVpZ2h0PSI0LjM3NSI+PC9yZWN0PgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=);\r\n    padding-right: 25px;\r\n    padding-left: 0;\r\n    \r\n}\r\n\r\n.rating:not(:checked)>.bx-star2:before {\r\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktMkAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNFRTZCMzEiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMCBDMTUuNjcwMDE5NSwwIDAsMTUuNjcwMDE5NSAwLDM1IEMwLDU0LjMyOTk4MDUgMTUuNjcwMDE5NSw3MCAzNSw3MCBDNTQuMzI5OTgwNSw3MCA3MCw1NC4zMjk5ODA1IDcwLDM1IEM3MCwxNS42NzAwMTk1IDU0LjMyOTk4MDUsMCAzNSwwIFogTTM1LDY1LjYyNSBDMTguMDg2MjUsNjUuNjI1IDQuMzc1LDUxLjkxMzc1IDQuMzc1LDM1IEM0LjM3NSwxOC4wODYyNSAxOC4wODYyNSw0LjM3NSAzNSw0LjM3NSBDNTEuOTEzNzUsNC4zNzUgNjUuNjI1LDE4LjA4NjI1IDY1LjYyNSwzNSBDNjUuNjI1LDUxLjkxMzc1IDUxLjkxMzc1LDY1LjYyNSAzNSw2NS42MjUgWiIgaWQ9IlNoYXBlIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSJPdmFsIiBjeD0iMjQuMDYyNSIgY3k9IjI0LjA2MjUiIHI9IjQuMzc1Ij48L2NpcmNsZT4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSI0NS45Mzc1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPHBhdGggZD0iTTM1LDMyLjgxMjUgQzI0LjEyNjg5NDUsMzIuODEyNSAxNS4zMTI1LDQxLjYyNjg5NDUgMTUuMzEyNSw1Mi41IEwxOS42ODc1LDUyLjUgQzE5LjY4NzUsNDQuMDQzMTI1IDI2LjU0MzEyNSwzNy4xODc1IDM1LDM3LjE4NzUgQzQzLjQ1Njg3NSwzNy4xODc1IDUwLjMxMjUsNDQuMDQzMTI1IDUwLjMxMjUsNTIuNSBMNTQuNjg3NSw1Mi41IEM1NC42ODc1LDQxLjYyNjg5NDUgNDUuODczMTA1NSwzMi44MTI1IDM1LDMyLjgxMjUgWiIgaWQ9IlBhdGgiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+);\r\n    padding-right: 25px;\r\n    padding-left: 0;\r\n    \r\n}\r\n\r\n.rating:not(:checked)>.bx-star1:before {\r\n    content: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNzBweCIgaGVpZ2h0PSI3MHB4IiB2aWV3Qm94PSIwIDAgNzAgNzAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aWNvbi1zbWlsZXktMUAzeDwvdGl0bGU+CiAgICA8ZyBpZD0iMDJfQ3VzdG9tZXJfZmVlZGJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJDSS0wMi1BMV9DaGVja19pbl9jb21wbGV0ZV9jdXN0ZmVlZGJhY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00MDUuMDAwMDAwLCAtODcwLjAwMDAwMCkiIGZpbGw9IiNDRTMzMjUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgICAgIDxnIGlkPSJpY29uLXNtaWxleS0xIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MDUuMDAwMDAwLCA4NzAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMzUsMzIuODEyNSBDMjUuMzM1MDc4MSwzMi44MTI1IDE3LjUsNDAuNjQ3NTc4MSAxNy41LDUwLjMxMjUgQzE3LjUsNTEuNTIwNjgzNiAxOC40NzkzMTY0LDUyLjUgMTkuNjg3NSw1Mi41IEw1MC4zMTI1LDUyLjUgQzUxLjUyMDY4MzYsNTIuNSA1Mi41LDUxLjUyMDY4MzYgNTIuNSw1MC4zMTI1IEM1Mi41LDQwLjY0NzU3ODEgNDQuNjY0OTIxOSwzMi44MTI1IDM1LDMyLjgxMjUgWiBNMjIuMDUsNDguMTI1IEMyMy4yNjU4Mzk4LDQwLjk3ODk4NDQgMzAuMDQ0NDkyMiwzNi4xNzE1NDMgMzcuMTkwNTA3OCwzNy4zODczODI4IEM0Mi42ODcxNDg0LDM4LjMyMjUzOTEgNDYuOTkyOTY4Nyw0Mi42MjgzNTk0IDQ3LjkyODEyNSw0OC4xMjUgTDIyLjA1LDQ4LjEyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNSwwIEMxNS42NzAwMTk1LDAgMCwxNS42NzAwMTk1IDAsMzUgQzAsNTQuMzI5OTgwNSAxNS42NzAwMTk1LDcwIDM1LDcwIEM1NC4zMjk5ODA1LDcwIDcwLDU0LjMyOTk4MDUgNzAsMzUgQzcwLDE1LjY3MDAxOTUgNTQuMzI5OTgwNSwwIDM1LDAgWiBNMzUsNjUuNjI1IEMxOC4wODYyNSw2NS42MjUgNC4zNzUsNTEuOTEzNzUgNC4zNzUsMzUgQzQuMzc1LDE4LjA4NjI1IDE4LjA4NjI1LDQuMzc1IDM1LDQuMzc1IEM1MS45MTM3NSw0LjM3NSA2NS42MjUsMTguMDg2MjUgNjUuNjI1LDM1IEM2NS42MjUsNTEuOTEzNzUgNTEuOTEzNzUsNjUuNjI1IDM1LDY1LjYyNSBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGN4PSIyNC4wNjI1IiBjeT0iMjQuMDYyNSIgcj0iNC4zNzUiPjwvY2lyY2xlPgogICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0iT3ZhbCIgY3g9IjQ1LjkzNzUiIGN5PSIyNC4wNjI1IiByPSI0LjM3NSI+PC9jaXJjbGU+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==);\r\n}\r\n\r\n/*.rating > input:checked ~ label {*/\r\n/*    content: url(https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png);*/\r\n/*}*/\r\n/*.rating:not(:checked) > label:hover,*/\r\n/*.rating:not(:checked) > label:hover ~ label {*/\r\n/*    content: url(https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png);*/\r\n/*}*/\r\n/*.rating > input:checked + label:hover,*/\r\n/*.rating > input:checked + label:hover ~ label,*/\r\n/*.rating > input:checked ~ label:hover,*/\r\n/*.rating > input:checked ~ label:hover ~ label,*/\r\n/*.rating > label:hover ~ input:checked ~ label {*/\r\n/*    color: #ea0;*/\r\n/*}*/\r\n.rating>label:active {\r\n    position: relative;\r\n    top: 2px;\r\n    left: 2px;\r\n}\r\n\r\n/* Mobile Screens <500px wide */\r\n@media only screen and (max-width:500px) {\r\n    body.show-TopBanner {\r\n        margin-top: 190px !important;\r\n    }\r\n    \r\n    #bx_TopBanner {\r\n     height: 190px !important;\r\n    }\r\n    \r\n    .bx__btn-close__icon {\r\n        top: 3px;\r\n        right: 8px;\r\n        transform: scale(.5);\r\n    }\r\n    \r\n    .rating:not(:checked)>.bx-star5:before {\r\n        padding-right: 0;\r\n        padding-left: 0;\r\n        \r\n    }\r\n    \r\n    .rating:not(:checked)>.bx-star4:before {\r\n        padding-right: 0;\r\n        padding-left: 0;\r\n        \r\n    }\r\n    \r\n    .rating:not(:checked)>.bx-star3:before {\r\n        padding-right: 0;\r\n        padding-left: 0;\r\n        \r\n    }\r\n    \r\n    .rating:not(:checked)>.bx-star2:before {\r\n        padding-right: 0;\r\n        padding-left: 0;\r\n        \r\n    }\r\n    .rating:not(:checked)>label {\r\n        font-size: 100%;\r\n        transform: scale(.5);\r\n        padding: 0;\r\n    }\r\n\r\n    #bx_TopBanner .bx_TopBanner__banner {\r\n        padding-left: 1px;\r\n        padding-right: 15px;\r\n    }\r\n\r\n    .bx-comment {\r\n        flex-wrap: wrap;\r\n        padding: 0;\r\n        margin-top: 15px;\r\n        width: 88%;\r\n    }\r\n\r\n    .bx-comment_textarea {\r\n        font-size: 12px;\r\n        width: 100%;\r\n        padding: 10px 18px 16px 20px;\r\n    }\r\n\r\n    .bx-comment_submit {\r\n        font-size: 14px;\r\n        width: 100%;\r\n        margin: 10px 0px 0 0px;\r\n        max-width: none;\r\n        height: 35px;\r\n        line-height: 35px;\r\n    }\r\n}',html:'<div id="bx_TopBanner">\r\n    <div class="bx_TopBanner__banner">\r\n        <div class="bx-rating" id="bxbanner-rating">\r\n            <h2 class="bx-header_question" id="bx-header_question">How would you rate your satisfaction with your online experience?</h2><br/>\r\n            <fieldset class="rating" id="bxbanner-rating_buttons" >\r\n                <input type="radio" id="star1" name="rating" value="1" class="bxbanner-star" /><label tabindex="5" class="bx-star1" for="star1" ></label>\r\n                <input type="radio" id="star2" name="rating" value="2" class="bxbanner-star" /><label tabindex="4" class="bx-star2" for="star2" ></label>\r\n                <input type="radio" id="star3" name="rating" value="3" class="bxbanner-star" /><label tabindex="3" class="bx-star3" for="star3" ></label>\r\n                 <input type="radio" id="star4" name="rating" value="4" class="bxbanner-star" /><label tabindex="2" class="bx-star4" for="star4" ></label>\r\n                <input type="radio" id="star5" name="rating" value="5" class="bxbanner-star" /><label tabindex="1" class="bx-star5" for="star5" ></label>\r\n            </fieldset>\r\n        </div>\r\n\r\n        <div class="bx-comment bx-hidden" id="bxbanner-comment">\r\n            <textarea class="bx-comment_textarea" placeholder="What can we do to improve your experience? Please enter your feedback here" tabindex="0" id="bx-comment_textarea"></textarea>\r\n            <div class="bx-comment_submit" id="bxbanner-comment_submit" tabindex="0" role="button">Submit</div>\r\n        </div>\r\n\r\n        <div class="bx-thank_you bx-hidden" id="bxbanner-thank_you">\r\n            <h2 class="bx-thank_you_text">Thank you</h2>\r\n            <div class="bx-thank_you_message">For general queries, please <a href="https://www.emirates.com/english/help/">contact us</a> or <a href="https://www.emirates.com/english/help/faqs/">read our FAQs</a>.</div>\r\n        </div>\r\n\r\n        <a class="bx__btn-close" aria-label="Close">\r\n            <span class="bx__btn-close__icon"></span>\r\n        </a>\r\n\r\n    </div>\r\n</div>',js:'insertHTMLBefore(\'body\');\r\n\r\n// Close banner\r\ndocument.body.classList.add(\'show-TopBanner\');\r\ndocument.querySelector(\'.bx__btn-close\').addEventListener(\'click\', function(){\r\n  document.querySelector(\'#bx_TopBanner\').style.display = \'none\';\r\n  document.body.classList.remove(\'show-TopBanner\');\r\n});\r\n\r\nconst bxRating = document.getElementById(\'bxbanner-rating\');\r\nconst bxComment = document.getElementById(\'bxbanner-comment\');\r\nconst bxThankYou = document.getElementById(\'bxbanner-thank_you\');\r\nconst bxRatingButtons = document.getElementById(\'bxbanner-rating_buttons\');\r\nconst bxCommentSubmit = document.getElementById(\'bxbanner-comment_submit\');\r\nvar ratingValue = 0;\r\n\r\nfunction getRadioValue() { \r\n    var stars = document.getElementsByClassName(\'bxbanner-star\'); \r\n    for(i = 0; i < stars.length; i++) { \r\n        if(stars[i].checked) \r\n            return stars[i].value;\r\n    }\r\n}\r\n\r\nfunction getPos() {\r\n    var re = new RegExp(\'emirates.com\\/[a-z]{2}\\/\');\r\n    var matches = re.exec(window.location.href);\r\n    if (matches && matches.length > 0)\r\n        return matches[0].substring(0, matches[0].length - 1);\r\n    else\r\n        return "emirates.com";\r\n}\r\n\r\nfunction getSurveyId() {\r\n    var re = new RegExp(\'OLCI\\/BoardingDelivery\');\r\n    var matches = re.exec(window.location.href);\r\n    if (matches && matches.length > 0)\r\n        return "159122";\r\n    var re = new RegExp(\'MYB\');\r\n    var matches = re.exec(window.location.href);\r\n    if (matches && matches.length > 0)\r\n        return "1300088";\r\n    else\r\n        return "152417";\r\n}\r\n\r\nfunction getGaClientId() {\r\n    var clientId = "";\r\n    dataLayer.forEach(function(d) {\r\n        if (d.GA_ID) {\r\n            clientId = d.GA_ID;\r\n        }\r\n    });\r\n    return clientId;\r\n}\r\n\r\nfunction getQmSessionId() {\r\n    var sessionId = "";\r\n    dataLayer.forEach(function(d) {\r\n        if (d.QMSessionID) {\r\n            sessionId = d.QMSessionID;\r\n        }\r\n    });\r\n    return sessionId;\r\n}\r\n\r\nfunction sendDataToBoxever() {\r\n    bxThankYou.style.display = \'block\';\r\n    bxComment.style.display = \'none\';\r\n    if (ratingValue && ratingValue > 0) {\r\n        var feedbackEvent = {\r\n            "channel": "WEB",\r\n            "type": "FEEDBACK",\r\n            "language": dataLayer[0].languageCode,\r\n            "currency": dataLayer[0].posSiteCurrencyCode,\r\n            "page": dataLayer[0].pageName,\r\n            "pos": getPos(),\r\n            "browser_id": Boxever.getID(),\r\n            "rating": ratingValue,\r\n            "comment": document.getElementById(\'bx-comment_textarea\').value,\r\n            "survey_id": getSurveyId(),\r\n            "question_text": document.getElementById(\'bx-header_question\').textContent,\r\n            "page_category": dataLayer[0].pageCategory ? dataLayer[0].pageCategory : "",\r\n            "visitor_session_id": dataLayer[0].visitorSessionID ? dataLayer[0].visitorSessionID : "",\r\n            "platform_type": dataLayer[0].platformType ? dataLayer[0].platformType : "",\r\n            "country_region": dataLayer[0].countryRegion ? dataLayer[0].countryRegion : "",\r\n            "member_tier": dataLayer[0].memberTier ? dataLayer[0].memberTier : "",\r\n            "page_url": window.location.href,\r\n            "ga_client_id": getGaClientId(),\r\n            "qm_session_id": getQmSessionId()\r\n        };\r\n        Boxever.eventCreate(feedbackEvent, function (data) { }, \'json\');\r\n    }\r\n}\r\n\r\nbxRatingButtons.onclick = function() {\r\n    ratingValue = getRadioValue();\r\n    if(ratingValue) {\r\n        bxRating.style.display = \'none\';\r\n        bxComment.style.display = \'flex\';\r\n    }\r\n};\r\n\r\nbxRatingButtons.onkeyup = function(e) {\r\n    if (e.key === "Enter"){\r\n        e.target.click();\r\n    }\r\n};\r\n\r\nbxCommentSubmit.onclick = function() {\r\n    bxComment.style.display = \'none\';\r\n    bxThankYou.style.display = \'block\';\r\n    sendDataToBoxever();\r\n};\r\n\r\nbxCommentSubmit.onkeyup = function(e) {\r\n    if (e.key === "Enter"){\r\n        e.target.click();\r\n    }\r\n};'}}],notificationEnabled:!1},{ref:"3dd90c59-022a-4dc8-acd4-f463d903f813",name:"BOX-278 Skywards sign up prompt (MYB & OLCI)",revision:69,archived:!1,target:{script:'function filter() {\n    if (dataLayer && dataLayer.length > 0) {\n        var datalayerData = dataLayer[0];\n        \n        if (datalayerData.visitorLoginState === "Logged Out"\n        && datalayerData.PNR\n        && datalayerData.PNR.length > 0) {\n            targetingPassed();\n        }\n    }\n}\n\nfilter();',targetPages:[{operator:"Contains",value:"/MAB/MYB/ManageBooking.aspx"},{operator:"Contains",value:"/CKIN/OLCI/CheckIn.aspx"}]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-09-30T17:59:08.539Z",allocationLow:1,allocationHigh:120,splits:[{ref:"77f4bc1e-44f9-4d15-8ea6-1b0d998e6840",lowSplit:1,highSplit:40},{ref:"534968c3-9049-4632-8922-b033315d7cd9",lowSplit:41,highSplit:79},{ref:"01fdfbb8-13c2-4694-bf27-e0caefc62d47",lowSplit:80,highSplit:120}],coupled:!0},variants:[{ref:"77f4bc1e-44f9-4d15-8ea6-1b0d998e6840",name:"Original",assets:{css:"",html:"",js:'const PAGES = {\r\n  MYB: "MYB",\r\n  OLCI_ERROR: "OLCI-ERROR",\r\n  OLCI_SUCCESS: "OLCI-SUCCESS"\r\n};\r\n\r\nfunction sendBoxeverEvent(eventType) {\r\n  var event = {\r\n    channel: "WEB",\r\n    type: eventType,\r\n    page: dataLayer[0].pageName,\r\n    pos: _boxever_settings.pointOfSale,\r\n    browser_id: Boxever.getID()\r\n  };\r\n  Boxever.eventCreate(event, function(data) {}, "json");\r\n}\r\n\r\nfunction triggerEvent(type, page) {\r\n  switch (page) {\r\n    case PAGES.OLCI_ERROR:\r\n    case PAGES.OLCI_SUCCESS:\r\n      sendBoxeverEvent(`BOX278_OLCI_${type}`);\r\n      break;\r\n    default:\r\n      sendBoxeverEvent(`BOX278_MYB_${type}`);\r\n  }\r\n}\r\nfunction trackIframes(page) {\r\n            window.addEventListener(\'blur\', function(e){\r\n    if(document.activeElement.tagName === \'IFRAME\')\r\n    {\r\n          triggerEvent(\r\n          `PRODUCTS_IFRAME_FOCUSED`,\r\n          page\r\n        );\r\n    }\r\n});\r\n}\r\nfunction trackPromos(page) {\r\n  const paidSeatCTA = document.querySelector("#lnkPromoPaidSeat");\r\n  const productsEventsMapping = {\r\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl01_MAB_MDBK:\r\n      "MODIFY_BOOKING",\r\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl02_MAB_SUPG:\r\n      "UPGRADE_MILES",\r\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl03_MAB_FUPG:\r\n      "CASH_UPGRADE"\r\n  };\r\n  if (paidSeatCTA) {\r\n    paidSeatCTA.addEventListener("click", () => {\r\n      triggerEvent("PRODUCTS_PAID_SEAT_CLICKED", page);\r\n    });\r\n  }\r\n  const productsCTAs = document.querySelectorAll(".ts-itinerary-cards a");\r\n  if (productsCTAs && productsCTAs.length) {\r\n    for (var i = 0; i < productsCTAs.length; ++i) {\r\n      productsCTAs[i].addEventListener("click", e => {\r\n        if (e.target.id in productsEventsMapping) {\r\n          triggerEvent(\r\n            `PRODUCTS_${productsEventsMapping[e.target.id]}_CLICKED`,\r\n            page\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n    const ancillaryCTAs = document.querySelectorAll(".ts-ancillary a");\r\n    if (ancillaryCTAs && ancillaryCTAs.length) {\r\n    for (var i = 0; i < ancillaryCTAs.length; ++i) {\r\n      ancillaryCTAs[i].addEventListener("click", e => {\r\n        triggerEvent(\r\n          `ANCILLARY_CLICKED`,\r\n          page\r\n        );\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n(function() {\r\n  let page = PAGES.MYB;\r\n  if (window.location.href.indexOf("/CKIN/OLCI/CheckIn.aspx") > -1) {\r\n    page = PAGES.OLCI_ERROR;\r\n  } else if (\r\n    window.location.href.indexOf("/CKIN/OLCI/BoardingDelivery.aspx") > -1\r\n  ) {\r\n    page = PAGES.OLCI_SUCCESS;\r\n  } else if (window.location.href.indexOf("/CKIN/OLCI/SelectPax.aspx") > -1) {\r\n    page = PAGES.OLCI_SUCCESS;\r\n  }\r\n  trackPromos(page);\r\n  trackIframes(page);\r\n      dataLayer.push({\r\n        \'event\': \'EventTrigger.PageBody_PromotionSuppressed\',\r\n        \'category\': \'A/B Testing and Personalisation\',\r\n        \'action\': \'Promotion Suppressed\',\r\n        \'label\': \'BX:278:Skywards Signup Prompt:Control\',\r\n        \'value\': 0\r\n    });\r\n})();\r\n'}},{ref:"534968c3-9049-4632-8922-b033315d7cd9",name:"Sign up prompt after products listing",assets:{css:":root {\n  --font-helvetica: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n  --font-helvetica-light: HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n  --font-ek-bold: EmiratesSB-Bold, helvetica, arial, sans-serif;\n  --text-color: #333333;\n  --white-color: #FFFFFF;\n  --red-color: #c60c30;\n  --gray-color: #666666;\n}\n\n.bx-skywards-signup-container {\n    padding: 25px 20px;\n    clear: both;\n    display: block;\n    background: var(--white-color);\n    box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\n    border-collapse: separate;\n    border-radius: 4px;\n    margin: 20px auto;\n    box-sizing: border-box;\n}\n.bx-skywards-signup-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n}\n.bx-skywards-signup-title {\n    font: 700 24px/30px var(--font-ek-bold) !important;\n    color: #333333;\n    float: left;\n    margin-top: 0;\n    margin-bottom: 12px;\n    padding: 0;\n    width: 75%;\n}\n.bx-skywards-signup-title:after {\n    bottom: 0;\n    content: '';\n    width: 55px;\n    border-bottom: solid 1px var(--red-color);\n    display: block;\n    margin-top: 9px;\n}\n\n.bx-skywards-signup-body {\n    font: 700 14px/normal var(--font-helvetica);\n    clear: both;\n    padding: 0;\n    color: var(--text-color);\n    max-width: 75%;\n}\n\n.bx-skywards-signup-tiles {\n    margin: 40px 0 0;\n    display: flex;\n}\n\n.promo-tiles {\n    width: 70%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    margin: 0 30px 0 0;\n}\n\nhtml[dir=\"rtl\"] .promo-tiles{\n    margin: 0 0 0 30px;\n}\n\n.promo-tiles-card {\n    width: 23.5%;\n    display: flex;\n    flex-direction: column;\n}\n\n.promo-tiles-card img {\n    width: 100%;\n    border-radius: 3px 3px 0 0;\n    height: 75px;\n    display: block;\n}\n\n.promo-tiles-card-inner {\n    text-align: center;\n    border-radius: 0 0 3px 3px;\n    box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n    background-color: var(--white-color);\n    padding: 10px;\n    box-sizing: border-box;\n    z-index: 1;\n    flex: 1;\n}\n\n.promo-tiles-card-inner__body {\n    font-size: 12px;\n    line-height: normal;\n    font-family: var(--font-helvetica);\n    font-weight: 300;\n    margin: 0;\n    padding: 0;\n    color: var(--gray-color);\n    white-space: normal;\n}\n\n.promo-tiles-card-inner__title {\n    font: 700 14px/normal var(--font-helvetica) !important;\n    color: var(--text-color);\n    margin: 0 auto 15px;\n    padding: 0;\n}\n\n.promo-tiles-card-inner__title:after {\n    bottom: 0;\n    content: '';\n    width: 20px;\n    border-bottom: solid 1px var(--red-color);\n    display: block;\n    margin: 10px auto 0;\n}\n\n.bx-skywards-sign-up-tiles__prompt {\n    padding: 15px 25px 15px;\n    border-radius: 3px;\n    box-shadow: 2px 2px 4px 3px rgba(0, 0, 0, 0.11);\n    background-color: var(--white-color);\n    width: 30%;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n}\n.bx-skywards-sign-up-tiles__prompt-title {\n    font: 700 18px/normal var(--font-helvetica) !important;\n    color: var(--text-color);\n    margin: 0 auto 10px;\n    padding: 0;\n}\n\n.bx-skywards-sign-up-tiles__prompt-title:after {\n    bottom: 0;\n    content: '';\n    width: 160px;\n    border-bottom: solid 1px var(--red-color);\n    display: block;\n    margin: 10px auto 0;\n}\n\n.bx-skywards-sign-up-tiles__prompt-body {\n    font: 300 14px/normal var(--font-helvetica) !important;\n    color: var(--text-color);\n    margin: auto;\n    padding: 0;\n}\n\n.bx-skywards-signup__cta {\n    border: 0;\n    height: 40px;\n    border-radius: 3px;\n    line-height: 2.750rem;\n    background-color: var(--red-color);\n    box-shadow: 0 1px 4px 0 rgba(0,0,0,0.1);\n    color: var(--white-color);\n    font-size: 16px;\n    line-height: normal;\n    font-weight: 700;\n    font-family: var(--font-helvetica);\n    width: 190px;\n    padding: 0 10px;\n    overflow: hidden;\n    white-space: normal;\n    text-align: center;\n    text-decoration: none;\n    text-overflow: ellipsis;\n    vertical-align: middle;\n    margin: auto auto 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n}\n\n.bx-skywards-signup__cta:hover{\n    box-shadow: 0 0 6px 0 grey;\n    color: var(--white-color);\n}\n",html:'<div class="bx-skywards-signup-container">\r\n    <div class="bx-skywards-signup-header">\r\n        <h3 class="bx-skywards-signup-title"></h3>\r\n        <img loading="lazy" alt="" class="bx-skywards-logo"/>\r\n    </div>\r\n    <p class="bx-skywards-signup-body"></p>\r\n    <div class="bx-skywards-signup-tiles">\r\n        <div class="promo-tiles">\r\n                <div class="promo-tiles-card">\r\n                    <img loading="lazy" alt="">\r\n                    <div class="promo-tiles-card-inner">\r\n                        <p class="promo-tiles-card-inner__title"></p>\r\n                        <p class="promo-tiles-card-inner__body"></p>\r\n                    </div>\r\n                </div>\r\n                 <div class="promo-tiles-card">\r\n                    <img loading="lazy" alt="">\r\n                    <div class="promo-tiles-card-inner">\r\n                        <p class="promo-tiles-card-inner__title"></p>\r\n                        <p class="promo-tiles-card-inner__body"></p>\r\n                    </div>\r\n                </div>\r\n                 <div class="promo-tiles-card">\r\n                    <img loading="lazy" alt="">\r\n                    <div class="promo-tiles-card-inner">\r\n                        <p class="promo-tiles-card-inner__title"></p>\r\n                        <p class="promo-tiles-card-inner__body"></p>\r\n                    </div>\r\n                </div>\r\n                <div class="promo-tiles-card">\r\n                    <img loading="lazy" alt="">\r\n                    <div class="promo-tiles-card-inner">\r\n                        <p class="promo-tiles-card-inner__title"></p>\r\n                        <p class="promo-tiles-card-inner__body"></p>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n        <div class="bx-skywards-sign-up-tiles__prompt">\r\n            <h4 class="bx-skywards-sign-up-tiles__prompt-title"></h4>\r\n            <p class="bx-skywards-sign-up-tiles__prompt-body"></p>\r\n            <a id="bx-signup-prompt-cta" target="_blank" class="bx-skywards-signup__cta"></a>\r\n        </div>\r\n    </div>\r\n</div>',js:'const PAGES = {\r\n  MYB: "MYB",\r\n  OLCI_ERROR: "OLCI-ERROR",\r\n  OLCI_SUCCESS: "OLCI-SUCCESS"\r\n};\r\n\r\nfunction sendBoxeverEvent(eventType) {\r\n  var event = {\r\n    channel: "WEB",\r\n    type: eventType,\r\n    page: dataLayer[0].pageName,\r\n    pos: _boxever_settings.pointOfSale,\r\n    browser_id: Boxever.getID()\r\n  };\r\n  Boxever.eventCreate(event, function(data) {}, "json");\r\n}\r\n\r\nfunction trackPromos(page) {\r\n  const paidSeatCTA = document.querySelector("#lnkPromoPaidSeat");\r\n  const productsEventsMapping = {\r\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl01_MAB_MDBK:\r\n      "MODIFY_BOOKING",\r\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl02_MAB_SUPG:\r\n      "UPGRADE_MILES",\r\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl03_MAB_FUPG:\r\n      "CASH_UPGRADE"\r\n  };\r\n  if (paidSeatCTA) {\r\n    paidSeatCTA.addEventListener("click", () => {\r\n      triggerEvent("PRODUCTS_PAID_SEAT_CLICKED", page);\r\n    });\r\n  }\r\n  const productsCTAs = document.querySelectorAll(".ts-itinerary-cards a");\r\n  if (productsCTAs && productsCTAs.length) {\r\n    for (var i = 0; i < productsCTAs.length; ++i) {\r\n      productsCTAs[i].addEventListener("click", e => {\r\n          if(e.target.id in productsEventsMapping) {\r\n        triggerEvent(\r\n          `PRODUCTS_${productsEventsMapping[e.target.id]}_CLICKED`,\r\n          page\r\n        );\r\n          }\r\n      });\r\n    }\r\n  }\r\n  \r\n  const ancillaryCTAs = document.querySelectorAll(".ts-ancillary a");\r\n    if (ancillaryCTAs && ancillaryCTAs.length) {\r\n    for (var i = 0; i < ancillaryCTAs.length; ++i) {\r\n      ancillaryCTAs[i].addEventListener("click", e => {\r\n        triggerEvent(\r\n          `ANCILLARY_CLICKED`,\r\n          page\r\n        );\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction trackIframes(page) {\r\n            window.addEventListener(\'blur\', function(e){\r\n    if(document.activeElement.tagName === \'IFRAME\')\r\n    {\r\n          triggerEvent(\r\n          `PRODUCTS_IFRAME_FOCUSED`,\r\n          page\r\n        );\r\n    }\r\n});\r\n}\r\n\r\nfunction triggerEvent(type, page) {\r\n  switch (page) {\r\n    case PAGES.OLCI_ERROR:\r\n    case PAGES.OLCI_SUCCESS:\r\n      sendBoxeverEvent(`BOX278_OLCI_${type}`);\r\n      break;\r\n    default:\r\n      sendBoxeverEvent(`BOX278_MYB_${type}`);\r\n  }\r\n}\r\n\r\nlet wrapper = document.querySelector(".ts-box");\r\nlet page = PAGES.MYB;\r\nif (window.location.href.indexOf("/CKIN/OLCI/CheckIn.aspx") > -1) {\r\n  wrapper = document.querySelector(".alt-state-accordion");\r\n  page = PAGES.OLCI_ERROR;\r\n} else if (\r\n  window.location.href.indexOf("/CKIN/OLCI/BoardingDelivery.aspx") > -1\r\n) {\r\n  wrapper = document.querySelector("div#ctl00_c_ctl02_pExcessBAG");\r\n  page = PAGES.OLCI_SUCCESS;\r\n} else if (window.location.href.indexOf("/CKIN/OLCI/SelectPax.aspx") > -1) {\r\n  page = PAGES.OLCI_SUCCESS;\r\n  wrapper = document.querySelector("div#ctl00_c_divFinish");\r\n}\r\nlet publication = "";\r\nif (__PublicationUrl) {\r\n  if (__PublicationUrl !== "/english") {\r\n    publication = __PublicationUrl;\r\n  } else {\r\n    publication = "/global/english";\r\n  }\r\n}\r\nif (publication) {\r\n  if (wrapper) {\r\n    const RESOURCE_KEYS_ENDPOINT = `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Skywards-Sign-Up/IBE`;\r\n    const RESOURCE_MAP = {\r\n      promoHeader: "Experiences/Skywards-Sign-Up/IBE/prompt-card-header__text",\r\n      promoBody: "Experiences/Skywards-Sign-Up/IBE/prompt-card-body__text",\r\n      ctaLabel: "Experiences/Skywards-Sign-Up/IBE/sign-up-cta-label__text",\r\n      ctaLink: "Experiences/Skywards-Sign-Up/IBE/sign-up-cta__link",\r\n      widgetTitle: "Experiences/Skywards-Sign-Up/IBE/header-title__text",\r\n      widgetBody: "Experiences/Skywards-Sign-Up/IBE/body-copy__text",\r\n      skywardsLogo: "Experiences/Skywards-Sign-Up/IBE/skywards-logo__image",\r\n      promoTitle_0: "Experiences/Skywards-Sign-Up/IBE/benefit-one-title__text",\r\n      promoBody_0: "Experiences/Skywards-Sign-Up/IBE/benefit-two-body__text",\r\n      promoImage_0: "Experiences/Skywards-Sign-Up/IBE/map-luggage__image",\r\n      promoTitle_1: "Experiences/Skywards-Sign-Up/IBE/benefit-two-title__text",\r\n      promoBody_1: "Experiences/Skywards-Sign-Up/IBE/benefit-one-body__text",\r\n      promoImage_1: "Experiences/Skywards-Sign-Up/IBE/shopping__image",\r\n      promoTitle_2: "Experiences/Skywards-Sign-Up/IBE/benefit-three-title__text",\r\n      promoBody_2: "Experiences/Skywards-Sign-Up/IBE/benefit-three-body__text",\r\n      promoImage_2: "Experiences/Skywards-Sign-Up/IBE/onboard-wifi__image",\r\n      promoTitle_3: "Experiences/Skywards-Sign-Up/IBE/benefit-four-title__text",\r\n      promoBody_3: "Experiences/Skywards-Sign-Up/IBE/benefit-four-body__text",\r\n      promoImage_3: "Experiences/Skywards-Sign-Up/IBE/airport-luggage__image"\r\n    };\r\n    fetch(RESOURCE_KEYS_ENDPOINT)\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .then(results => {\r\n        let resources = null;\r\n        if (results) {\r\n          resources = results.results;\r\n        }\r\n        if (resources && Object.keys(resources).length > 0) {\r\n          let mappedResources = {};\r\n          let resourceMap = RESOURCE_MAP;\r\n          for (var key of Object.keys(resourceMap)) {\r\n            if (resourceMap[key] in resources) {\r\n              mappedResources[key] = resources[resourceMap[key]];\r\n            } else {\r\n              mappedResources[key] = "";\r\n            }\r\n          }\r\n          switch (page) {\r\n            case PAGES.OLCI_ERROR:\r\n              wrapper.insertAdjacentHTML(\r\n                "afterend",\r\n                \'<div class="bx-skywards-signup-wrapper"></div>\'\r\n              );\r\n              break;\r\n            case PAGES.OLCI_SUCCESS:\r\n              let existingSkywardsPromptBlock = document.querySelectorAll(\r\n                ".alt-state-accordion.flight-charges.upgrade-costs.mt40.overflow-visible"\r\n              );\r\n              if (\r\n                existingSkywardsPromptBlock &&\r\n                existingSkywardsPromptBlock.length === 2\r\n              ) {\r\n                existingSkywardsPromptBlock[1].style.display = "none";\r\n              }\r\n              wrapper.insertAdjacentHTML(\r\n                "beforebegin",\r\n                \'<div class="bx-skywards-signup-wrapper"></div>\'\r\n              );\r\n              break;\r\n            default:\r\n              wrapper.insertAdjacentHTML(\r\n                "afterend",\r\n                \'<div class="bx-skywards-signup-wrapper"></div>\'\r\n              );\r\n          }\r\n          insertHTMLAfter(".bx-skywards-signup-wrapper");\r\n          triggerEvent("VIEWED", page);\r\n                  dataLayer.push({\r\n            \'event\': \'EventTrigger.PageBody_PromotionShown\',\r\n            \'category\': \'A/B Testing and Personalisation\',\r\n            \'action\': \'Promotion Shown\',\r\n\'label\': \'BX:278:Skywards Signup Prompt:After Products Listing\',\r\n\'value\': 0,\r\n             nonInteraction: true\r\n        });\r\n          trackPromos(page);\r\n          trackIframes(page);\r\n          var signUpBtn = document.getElementById("bx-signup-prompt-cta");\r\n          if (signUpBtn) {\r\n            signUpBtn.innerHTML = mappedResources["ctaLabel"];\r\n            const PRSCode =\r\n              page === PAGES.MYB\r\n                ? "AMYB7"\r\n                : "ACIP7";\r\n            signUpBtn.href = `https://www.emirates.com${mappedResources["ctaLink"].url}&prscode=${PRSCode}`;\r\n            signUpBtn.addEventListener("click", () => {\r\n              triggerEvent("CLICKED", page);\r\n                           dataLayer.push({\r\n                        \'event\': \'EventTrigger.PageBody_PromotionClicked\',\r\n                        \'category\': \'A/B Testing and Personalisation\',\r\n                        \'action\': \'Promotion Clicked\',\r\n\'label\': \'BX:278:Skywards Signup Prompt:After Products Listing\',\r\n                        \'value\': 0\r\n                    });\r\n           });\r\n          }\r\n          var promoCardHeader = document.querySelector(\r\n            ".bx-skywards-sign-up-tiles__prompt-title"\r\n          );\r\n          if (promoCardHeader) {\r\n            promoCardHeader.innerHTML = mappedResources["promoHeader"];\r\n          }\r\n          var promoCardBody = document.querySelector(\r\n            ".bx-skywards-sign-up-tiles__prompt-body"\r\n          );\r\n          if (promoCardBody) {\r\n            promoCardBody.innerHTML = mappedResources["promoBody"];\r\n          }\r\n          var widgetTitle = document.querySelector(".bx-skywards-signup-title");\r\n          if (widgetTitle) {\r\n            widgetTitle.innerHTML = mappedResources["widgetTitle"];\r\n          }\r\n          var widgetBody = document.querySelector(".bx-skywards-signup-body");\r\n          if (widgetBody) {\r\n            widgetBody.innerHTML = mappedResources["widgetBody"];\r\n          }\r\n          var logo = document.querySelector(".bx-skywards-logo");\r\n          if (logo) {\r\n            logo.src = mappedResources["skywardsLogo"].url;\r\n          }\r\n          var promoCards = document.querySelectorAll(".promo-tiles-card");\r\n          promoCards.forEach((promoCard, index) => {\r\n            if (page === PAGES.OLCI_ERROR || page === PAGES.OLCI_SUCCESS) {\r\n              if (index === 3) {\r\n                promoCard.style.display = "none";\r\n              } else {\r\n                promoCard.style.width = "32%";\r\n              }\r\n            }\r\n            var imageElement = promoCard.querySelector("img");\r\n            if (imageElement) {\r\n              imageElement.src = mappedResources[`promoImage_${index}`].url;\r\n            }\r\n            var titleElement = promoCard.querySelector(\r\n              "p.promo-tiles-card-inner__title"\r\n            );\r\n            if (titleElement) {\r\n              titleElement.innerHTML = mappedResources[`promoTitle_${index}`];\r\n            }\r\n            var bodyElement = promoCard.querySelector(\r\n              "p.promo-tiles-card-inner__body"\r\n            );\r\n            if (bodyElement) {\r\n              bodyElement.innerHTML = mappedResources[`promoBody_${index}`];\r\n            }\r\n          });\r\n        }\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n}\r\n'}},{ref:"01fdfbb8-13c2-4694-bf27-e0caefc62d47",name:"Sign up prompt before products listing",assets:{css:":root {\n  --font-helvetica: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n  --font-helvetica-light: HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n  --font-ek-bold: EmiratesSB-Bold, helvetica, arial, sans-serif;\n  --text-color: #333333;\n  --white-color: #FFFFFF;\n  --red-color: #c60c30;\n  --gray-color: #666666;\n}\n\n.bx-skywards-signup-container {\n    padding: 25px 20px;\n    clear: both;\n    display: block;\n    background: var(--white-color);\n    box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);\n    border-collapse: separate;\n    border-radius: 4px;\n    margin: 20px auto;\n    box-sizing: border-box;\n}\n.bx-skywards-signup-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n}\n.bx-skywards-signup-title {\n    font: 700 24px/30px var(--font-ek-bold) !important;\n    color: #333333;\n    float: left;\n    margin-top: 0;\n    margin-bottom: 12px;\n    padding: 0;\n    width: 75%;\n}\n.bx-skywards-signup-title:after {\n    bottom: 0;\n    content: '';\n    width: 55px;\n    border-bottom: solid 1px var(--red-color);\n    display: block;\n    margin-top: 9px;\n}\n\n.bx-skywards-signup-body {\n    font: 700 14px/normal var(--font-helvetica);\n    clear: both;\n    padding: 0;\n    color: var(--text-color);\n    max-width: 75%;\n}\n\n.bx-skywards-signup-tiles {\n    margin: 40px 0 0;\n    display: flex;\n}\n\n.promo-tiles {\n    width: 70%;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    margin: 0 30px 0 0;\n}\n\nhtml[dir=\"rtl\"] .promo-tiles{\n    margin: 0 0 0 30px;\n}\n\n.promo-tiles-card {\n    width: 23.5%;\n    display: flex;\n    flex-direction: column;\n}\n\n.promo-tiles-card img {\n    width: 100%;\n    border-radius: 3px 3px 0 0;\n    height: 75px;\n    display: block;\n}\n\n.promo-tiles-card-inner {\n    text-align: center;\n    border-radius: 0 0 3px 3px;\n    box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n    background-color: var(--white-color);\n    padding: 10px;\n    box-sizing: border-box;\n    z-index: 1;\n    flex: 1;\n}\n\n.promo-tiles-card-inner__body {\n    font-size: 12px;\n    line-height: normal;\n    font-family: var(--font-helvetica);\n    font-weight: 300;\n    margin: 0;\n    padding: 0;\n    color: var(--gray-color);\n    white-space: normal;\n}\n\n.promo-tiles-card-inner__title {\n    font: 700 14px/normal var(--font-helvetica) !important;\n    color: var(--text-color);\n    margin: 0 auto 15px;\n    padding: 0;\n}\n\n.promo-tiles-card-inner__title:after {\n    bottom: 0;\n    content: '';\n    width: 20px;\n    border-bottom: solid 1px var(--red-color);\n    display: block;\n    margin: 10px auto 0;\n}\n\n.bx-skywards-sign-up-tiles__prompt {\n    padding: 15px 25px 15px;\n    border-radius: 3px;\n    box-shadow: 2px 2px 4px 3px rgba(0, 0, 0, 0.11);\n    background-color: var(--white-color);\n    width: 30%;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n}\n.bx-skywards-sign-up-tiles__prompt-title {\n    font: 700 18px/normal var(--font-helvetica) !important;\n    color: var(--text-color);\n    margin: 0 auto 10px;\n    padding: 0;\n}\n\n.bx-skywards-sign-up-tiles__prompt-title:after {\n    bottom: 0;\n    content: '';\n    width: 160px;\n    border-bottom: solid 1px var(--red-color);\n    display: block;\n    margin: 10px auto 0;\n}\n\n.bx-skywards-sign-up-tiles__prompt-body {\n    font: 300 14px/normal var(--font-helvetica) !important;\n    color: var(--text-color);\n    margin: auto;\n    padding: 0;\n}\n\n.bx-skywards-signup__cta {\n    border: 0;\n    height: 40px;\n    border-radius: 3px;\n    line-height: 2.750rem;\n    background-color: var(--red-color);\n    box-shadow: 0 1px 4px 0 rgba(0,0,0,0.1);\n    color: var(--white-color);\n    font-size: 16px;\n    line-height: normal;\n    font-weight: 700;\n    font-family: var(--font-helvetica);\n    width: 190px;\n    padding: 0 10px;\n    overflow: hidden;\n    white-space: normal;\n    text-align: center;\n    text-decoration: none;\n    text-overflow: ellipsis;\n    vertical-align: middle;\n    margin: auto auto 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n}\n\n.bx-skywards-signup__cta:hover{\n    box-shadow: 0 0 6px 0 grey;\n    color: var(--white-color);\n}\n",html:'<div class="bx-skywards-signup-container">\r\n    <div class="bx-skywards-signup-header">\r\n        <h3 class="bx-skywards-signup-title"></h3>\r\n        <img loading="lazy" alt="" class="bx-skywards-logo"/>\r\n    </div>\r\n    <p class="bx-skywards-signup-body"></p>\r\n    <div class="bx-skywards-signup-tiles">\r\n        <div class="promo-tiles">\r\n                <div class="promo-tiles-card">\r\n                    <img loading="lazy" alt="">\r\n                    <div class="promo-tiles-card-inner">\r\n                        <p class="promo-tiles-card-inner__title"></p>\r\n                        <p class="promo-tiles-card-inner__body"></p>\r\n                    </div>\r\n                </div>\r\n                 <div class="promo-tiles-card">\r\n                    <img loading="lazy" alt="">\r\n                    <div class="promo-tiles-card-inner">\r\n                        <p class="promo-tiles-card-inner__title"></p>\r\n                        <p class="promo-tiles-card-inner__body"></p>\r\n                    </div>\r\n                </div>\r\n                 <div class="promo-tiles-card">\r\n                    <img loading="lazy" alt="">\r\n                    <div class="promo-tiles-card-inner">\r\n                        <p class="promo-tiles-card-inner__title"></p>\r\n                        <p class="promo-tiles-card-inner__body"></p>\r\n                    </div>\r\n                </div>\r\n                <div class="promo-tiles-card">\r\n                    <img loading="lazy" alt="">\r\n                    <div class="promo-tiles-card-inner">\r\n                        <p class="promo-tiles-card-inner__title"></p>\r\n                        <p class="promo-tiles-card-inner__body"></p>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n        <div class="bx-skywards-sign-up-tiles__prompt">\r\n            <h4 class="bx-skywards-sign-up-tiles__prompt-title"></h4>\r\n            <p class="bx-skywards-sign-up-tiles__prompt-body"></p>\r\n            <a id="bx-signup-prompt-cta" target="_blank" class="bx-skywards-signup__cta"></a>\r\n        </div>\r\n    </div>\r\n</div>',js:'const PAGES = {\n  MYB: "MYB",\n  OLCI_ERROR: "OLCI-ERROR",\n  OLCI_SUCCESS: "OLCI-SUCCESS",\n};\n\nfunction sendBoxeverEvent(eventType) {\n  var event = {\n    channel: "WEB",\n    type: eventType,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\n\nfunction trackIframes(page) {\n            window.addEventListener(\'blur\', function(e){\n    if(document.activeElement.tagName === \'IFRAME\')\n    {\n          triggerEvent(\n          `PRODUCTS_IFRAME_FOCUSED`,\n          page\n        );\n    }\n});\n}\n\nfunction triggerEvent(type, page) {\n  switch (page) {\n    case PAGES.OLCI_ERROR:\n    case PAGES.OLCI_SUCCESS:\n      sendBoxeverEvent(`BOX278_OLCI_${type}`);\n      break;\n    default:\n      sendBoxeverEvent(`BOX278_MYB_${type}`);\n  }\n}\n\nfunction trackPromos(page) {\n  const paidSeatCTA = document.querySelector("#lnkPromoPaidSeat");\n  const productsEventsMapping = {\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl01_MAB_MDBK:\n      "MODIFY_BOOKING",\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl02_MAB_SUPG:\n      "UPGRADE_MILES",\n    ctl00_c_MC1_itineraryContainer_ServiceContainer_ctl03_MAB_FUPG:\n      "CASH_UPGRADE"\n  };\n  if (paidSeatCTA) {\n    paidSeatCTA.addEventListener("click", () => {\n      triggerEvent("PRODUCTS_PAID_SEAT_CLICKED", page);\n    });\n  }\n  const productsCTAs = document.querySelectorAll(".ts-itinerary-cards a");\n  if (productsCTAs && productsCTAs.length) {\n    for (var i = 0; i < productsCTAs.length; ++i) {\n      productsCTAs[i].addEventListener("click", e => {\n          if(e.target.id in productsEventsMapping) {\n        triggerEvent(\n          `PRODUCTS_${productsEventsMapping[e.target.id]}_CLICKED`,\n          page\n        );\n          }\n      });\n    }\n  }\n  \n    const ancillaryCTAs = document.querySelectorAll(".ts-ancillary a");\n    if (ancillaryCTAs && ancillaryCTAs.length) {\n    for (var i = 0; i < ancillaryCTAs.length; ++i) {\n      ancillaryCTAs[i].addEventListener("click", e => {\n        triggerEvent(\n          `ANCILLARY_CLICKED`,\n          page\n        );\n      });\n    }\n  }\n}\n\nlet wrapper = document.querySelector(".ts-box");\nlet page = PAGES.MYB;\nif (window.location.href.indexOf("/CKIN/OLCI/CheckIn.aspx") > -1) {\n  wrapper = document.querySelector(".alt-state-accordion");\n  page = PAGES.OLCI_ERROR;\n} else if (\n  window.location.href.indexOf("/CKIN/OLCI/BoardingDelivery.aspx") > -1\n) {\n  wrapper = document.querySelector("div#ctl00_c_ctl02_pExcessBAG");\n  page = PAGES.OLCI_SUCCESS;\n} else if (window.location.href.indexOf("/CKIN/OLCI/SelectPax.aspx") > -1) {\n  page = PAGES.OLCI_SUCCESS;\n  wrapper = document.querySelector("div#ctl00_c_divFinish");\n}\nlet publication = "";\nif (__PublicationUrl) {\n  if (__PublicationUrl !== "/english") {\n    publication = __PublicationUrl;\n  } else {\n    publication = "/global/english";\n  }\n}\nif (publication) {\n  if (wrapper) {\n    const RESOURCE_KEYS_ENDPOINT = `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Skywards-Sign-Up/IBE`;\n    const RESOURCE_MAP = {\n      promoHeader: "Experiences/Skywards-Sign-Up/IBE/prompt-card-header__text",\n      promoBody: "Experiences/Skywards-Sign-Up/IBE/prompt-card-body__text",\n      ctaLabel: "Experiences/Skywards-Sign-Up/IBE/sign-up-cta-label__text",\n      ctaLink: "Experiences/Skywards-Sign-Up/IBE/sign-up-cta__link",\n      widgetTitle: "Experiences/Skywards-Sign-Up/IBE/header-title__text",\n      widgetBody: "Experiences/Skywards-Sign-Up/IBE/body-copy__text",\n      skywardsLogo: "Experiences/Skywards-Sign-Up/IBE/skywards-logo__image",\n      promoTitle_0: "Experiences/Skywards-Sign-Up/IBE/benefit-one-title__text",\n      promoBody_0: "Experiences/Skywards-Sign-Up/IBE/benefit-two-body__text",\n      promoImage_0: "Experiences/Skywards-Sign-Up/IBE/map-luggage__image",\n      promoTitle_1: "Experiences/Skywards-Sign-Up/IBE/benefit-two-title__text",\n      promoBody_1: "Experiences/Skywards-Sign-Up/IBE/benefit-one-body__text",\n      promoImage_1: "Experiences/Skywards-Sign-Up/IBE/shopping__image",\n      promoTitle_2: "Experiences/Skywards-Sign-Up/IBE/benefit-three-title__text",\n      promoBody_2: "Experiences/Skywards-Sign-Up/IBE/benefit-three-body__text",\n      promoImage_2: "Experiences/Skywards-Sign-Up/IBE/onboard-wifi__image",\n      promoTitle_3: "Experiences/Skywards-Sign-Up/IBE/benefit-four-title__text",\n      promoBody_3: "Experiences/Skywards-Sign-Up/IBE/benefit-four-body__text",\n      promoImage_3: "Experiences/Skywards-Sign-Up/IBE/airport-luggage__image",\n    };\n    fetch(RESOURCE_KEYS_ENDPOINT)\n      .then((response) => {\n        return response.json();\n      })\n      .then((results) => {\n        let resources = null;\n        if (results) {\n          resources = results.results;\n        }\n        if (resources && Object.keys(resources).length > 0) {\n          let mappedResources = {};\n          let resourceMap = RESOURCE_MAP;\n          for (var key of Object.keys(resourceMap)) {\n            if (resourceMap[key] in resources) {\n              mappedResources[key] = resources[resourceMap[key]];\n            } else {\n              mappedResources[key] = "";\n            }\n          }\n          switch (page) {\n            case PAGES.OLCI_ERROR:\n              wrapper.insertAdjacentHTML(\n                "afterend",\n                \'<div class="bx-skywards-signup-wrapper"></div>\'\n              );\n              break;\n            case PAGES.OLCI_SUCCESS:\n              let existingSkywardsPromptBlock = document.querySelectorAll(\n                ".alt-state-accordion.flight-charges.upgrade-costs.mt40.overflow-visible"\n              );\n              if (\n                existingSkywardsPromptBlock &&\n                existingSkywardsPromptBlock.length === 2\n              ) {\n                existingSkywardsPromptBlock[1].style.display = "none";\n              }\n              wrapper.insertAdjacentHTML(\n                "beforebegin",\n                \'<div class="bx-skywards-signup-wrapper"></div>\'\n              );\n              break;\n            default:\n              wrapper.insertAdjacentHTML(\n                "beforebegin",\n                \'<div class="bx-skywards-signup-wrapper"></div>\'\n              );\n          }\n          insertHTMLAfter(".bx-skywards-signup-wrapper");\n          triggerEvent("VIEWED", page);\n                  dataLayer.push({\n            \'event\': \'EventTrigger.PageBody_PromotionShown\',\n            \'category\': \'A/B Testing and Personalisation\',\n            \'action\': \'Promotion Shown\',\n\'label\': \'BX:278:Skywards Signup Prompt:Before Products Listing\',\n\'value\': 0,\n             nonInteraction: true\n        });\n          trackPromos(page);\n          trackIframes(page);\n          var signUpBtn = document.getElementById("bx-signup-prompt-cta");\n          if (signUpBtn) {\n            signUpBtn.innerHTML = mappedResources["ctaLabel"];\n            const PRSCode =\n              page === PAGES.MYB\n                ? "AMYB7"\n                : "ACIP7";\n            signUpBtn.href = `https://www.emirates.com${mappedResources["ctaLink"].url}&prscode=${PRSCode}`;\n            signUpBtn.addEventListener("click", () => {\n              triggerEvent("CLICKED", page);\n                          dataLayer.push({\n                        \'event\': \'EventTrigger.PageBody_PromotionClicked\',\n                        \'category\': \'A/B Testing and Personalisation\',\n                        \'action\': \'Promotion Clicked\',\n\'label\': \'BX:278:Skywards Signup Prompt:Before Products Listing\',\n\'value\': 0\n                    });\n            });\n          }\n          var promoCardHeader = document.querySelector(\n            ".bx-skywards-sign-up-tiles__prompt-title"\n          );\n          if (promoCardHeader) {\n            promoCardHeader.innerHTML = mappedResources["promoHeader"];\n          }\n          var promoCardBody = document.querySelector(\n            ".bx-skywards-sign-up-tiles__prompt-body"\n          );\n          if (promoCardBody) {\n            promoCardBody.innerHTML = mappedResources["promoBody"];\n          }\n          var widgetTitle = document.querySelector(".bx-skywards-signup-title");\n          if (widgetTitle) {\n            widgetTitle.innerHTML = mappedResources["widgetTitle"];\n          }\n          var widgetBody = document.querySelector(".bx-skywards-signup-body");\n          if (widgetBody) {\n            widgetBody.innerHTML = mappedResources["widgetBody"];\n          }\n          var logo = document.querySelector(".bx-skywards-logo");\n          if (logo) {\n            logo.src = mappedResources["skywardsLogo"].url;\n          }\n          var promoCards = document.querySelectorAll(".promo-tiles-card");\n          promoCards.forEach((promoCard, index) => {\n            if (page === PAGES.OLCI_ERROR || page === PAGES.OLCI_SUCCESS) {\n              if (index === 3) {\n                promoCard.style.display = "none";\n              } else {\n                promoCard.style.width = "32%";\n              }\n            }\n            var imageElement = promoCard.querySelector("img");\n            if (imageElement) {\n              imageElement.src = mappedResources[`promoImage_${index}`].url;\n            }\n            var titleElement = promoCard.querySelector(\n              "p.promo-tiles-card-inner__title"\n            );\n            if (titleElement) {\n              titleElement.innerHTML = mappedResources[`promoTitle_${index}`];\n            }\n            var bodyElement = promoCard.querySelector(\n              "p.promo-tiles-card-inner__body"\n            );\n            if (bodyElement) {\n              bodyElement.innerHTML = mappedResources[`promoBody_${index}`];\n            }\n          });\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n}\n'}}],notificationEnabled:!1},{ref:"8c6186ad-23d8-40b7-b409-8d2cbbd6661f",name:"BOX-443 Tier Review Paid Gold Tier Offer",revision:16,archived:!1,target:{script:"",targetPages:[{operator:"Contains",value:"/skywards/retain-your-emirates-skywards-status"}]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"53cb2640-6458-4873-90ef-afc4581f41aa",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"53cb2640-6458-4873-90ef-afc4581f41aa",name:"Paid Tier Offer",assets:{css:"@media only screen and (min-width: 992px) {\n.promo-wrapper {\n    margin: 0;\n    padding-top: 30px;\n    border-radius: 0;\n}\n}\n\n.promo-wrapper {\n    padding: 25px 20px 0;\n    overflow: hidden;\n    background-color: #fff;\n    border-radius: 3px;\n    box-shadow: 0 2px 4px 2px rgb(0 0 0 / 10%);\n}\n\n@media only screen and (min-width: 992px) {\n.promo-wrapper__button-wrapper {\n    margin: 0 auto 25px;\n}\n}\n\n.promo-wrapper__button-wrapper {\n    position: relative;\n    width: 230px;\n    margin: 0 auto 20px;\n}\n\n.promo-wrapper__multiline-button.call-to-action {\n    height: auto;\n    min-height: 40px;\n    padding: 10px 20px;\n    line-height: 1.8rem;\n    white-space: normal;\n}\n\n.promo-wrapper__multiline-button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    line-height: 1.4rem;\n    white-space: normal;\n}\n\n@media only screen and (min-width: 992px) {\n.promo-wrapper__image-wrapper {\n    width: 50%;\n}\n}\n\n.promo-wrapper__image-wrapper {\n    width: 80%;\n    margin: 0 auto;\n}\n\n.promo-wrapper__image-container {\n    height: 100px;\n    text-align: center;\n}\n\n.promo-wrapper__image-container img {\n    width: auto;\n    height: 100%;\n}\n\n.promo-wrapper .enhanced-content-header__subtext {\n    margin: 20px auto;\n}\n\n@media only screen and (min-width: 992px) {\n    #skywardsTierRenewal .enhanced-content-header__subtext {\n        margin: 0 auto 25px;\n    }\n}",html:'<div id="skywardsTierRenewal" style="display:none">\n  <div class="e-container--separator">\n    <div class="promo-wrapper" data-auto="content-promo">\n      <div class="enhanced-content-header promo-wrapper__header">\n        <p class="enhanced-content-header__section" aria-hidden="false">\n         [preTitle]\n        </p>\n        <h2\n          class="enhanced-content-header__text enhanced-content-header__text--mixed promo-wrapper__text reset-h"\n        >\n          [title]\n        </h2>\n        <div\n          class="enhanced-rich-text enhanced-content-header__subtext enhanced-content-header__subtext--mixed promo-wrapper__subtext enhanced-content-header__subtext--bottom"\n        >\n          [body]\n        </div>\n      </div>\n      <div class="promo-wrapper__button-wrapper">\n        <a\n          class="link link--default promo-wrapper__multiline-button call-to-action call-to-action__secondary call-to-action--middle"\n          href="[ctaLink]"\n          ><span class="link__text" id="">[ctaTitle]</span></a\n        >\n      </div>\n      <div class="promo-wrapper__image-wrapper">\n        <div class="promo-wrapper__image-container">\n          <img\n            class="promo-wrapper__image"\n            loading="lazy"\n            src="[image]"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',js:"var script = document.createElement('script');\nfunction sendBoxeverEvent(eventType) {\n    let eventLabel = `BOX443_${eventType}`;\n    var event = {\n        channel: \"WEB\",\n        type: eventLabel,\n        page: dataLayer[0].pageName,\n        pos: _boxever_settings.pointOfSale,\n        browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, function (data) { }, \"json\");\n}\n\nfunction addQMIntegration() {\n    document.body.classList.add(\"em-box443-tier-review-paid-tier\");\n}\n\nfunction getResourceKeys(resources, resourceMap) {\n    let mappedResources = {};\n    for (var key of Object.keys(resourceMap)) {\n        if (resourceMap[key] in resources) {\n            mappedResources[key] = resources[resourceMap[key]];\n        } else {\n            mappedResources[key] = \"\";\n        }\n    }\n    return mappedResources;\n}\n\nfunction interpolate(pattern = \"\", data = {}, soft = false) {\n    return pattern.replace(\n        // /\\{(?:(?:\\{(\\w+)\\})|(\\w+))\\}/gm, // matches word characters in single or double braces only\n        // /\\{+(\\w+)\\}+/gm, // matches word characters enclosed in arbitrary number of braces\n        /{+(\\w+([-']\\w+)*)}+/gm, // matches word characters with dash enclosed in arbitrary number of braces\n        (_, single, double) => {\n            const key = single || double;\n            const value = data[key];\n            if (!value) {\n                console.error(\"Interpolation key was not found in data object:\", key);\n                if (!soft) return `{${key}?}`;\n                return \"\";\n            }\n            return value;\n        }\n    );\n}\n\nfunction excludeCommas(weekDaysOrMonths) {\n    if (weekDaysOrMonths) {\n        const comma = weekDaysOrMonths.includes(',') ? ',' : '';\n\n        return weekDaysOrMonths\n            .split(comma)\n            .map(item => item.trim());\n    }\n}\n\n/**\n * Moment need to be bind with tridion keys, following function accept tridion\n * keys and retrun corresponding moment config.\n * @param {Object} MomentConfig\n */\nfunction getLocaleConfig(resources = {}) {\n    const calendarDaysArray = excludeCommas(resources['Common/Date/calendar-days__text']);\n    const calendarDaysShortArray = excludeCommas(resources['Common/Date/calendar-days-short__text']);\n    const calendarMonthsArray = excludeCommas(resources['Common/Date/calendar-months__text']);\n    const calendarMonthsShortArray = excludeCommas(resources['Common/Date/calendar-months-short__text']);\n    console.log(resources.calendarMonthsText);\n    return {\n        ...(calendarDaysArray && { weekdays: calendarDaysArray }),\n        ...(calendarDaysShortArray && { weekdaysShort: calendarDaysShortArray }),\n        ...(calendarMonthsArray && { months: calendarMonthsArray }),\n        ...(calendarMonthsShortArray && { monthsShort: calendarMonthsShortArray }),\n    };\n}\n\nfunction localizeMoment(lang = 'en') {\n    console.log(__INITIAL_STATE__.resources);\n    if (__INITIAL_STATE__.resources) {\n        moment.locale(lang, getLocaleConfig(__INITIAL_STATE__.resources));\n    } else {\n        moment.locale(lang);\n    }\n\n    moment.updateLocale(lang, {\n        postformat: function (input) { return input; },\n    });\n}\n\n(function () {\n    var script = document.createElement('script');\n    script.onload = function () {\n        localizeMoment(resources, __INITIAL_STATE__.urlparser.results.langCode);\n        const publication = `${__INITIAL_STATE__.urlparser.results.countryCompat\n            ? `/${__INITIAL_STATE__.urlparser.results.countryCompat}`\n            : \"/global\"\n            }/${__INITIAL_STATE__.urlparser.results.language}`;\n        Promise.all([fetch(`https://www.emirates.com/service/content/api/v4.0/resources/eol/${publication}/Experiences/Tier-Review`)\n            .then(response => response.json()),\n        fetch(`https://www.emirates.com/service/itemlist?country=${__INITIAL_STATE__.urlparser.results.countryCompat}&lang=${__INITIAL_STATE__.urlparser.results.language}`)\n            .then(response => response.json())])\n            .then(([response, itemList]) => {\n                if (response && response.results && Object.keys(response.results).length && itemList && itemList.results &&\n                    Object.keys(itemList.results).length && itemList.results['skywards-tier']) {\n                    const skywardsTier = \"{{data.tier}}\";\n                    let tier = '';\n                    if (skywardsTier) {\n                        tier = itemList.results['skywards-tier'].value.find(x => x.key.toLowerCase() === skywardsTier.toLowerCase()).value;\n                    }\n                    replaceHTML('[data-organism=\"image-block-media-focused\"]');\n                    addQMIntegration();\n                    var content = \"{{data.content}}\";\n                    const price = \"{{data.price}}\";\n                    const offerCode = \"{{data.offerCode}}\";\n                    const tierReviewDate = new Date(\"{{data.tierReviewDate}}\");\n                    const formattedTierReviewDate = moment(tierReviewDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                    var renewalDiv = document.getElementById('skywardsTierRenewal').innerHTML;\n\n                    const resources = response.results;\n                    if (content === 'auto_renew') {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', interpolate(resources['Experiences/Tier-Review/auto-renewal-title__text'], {\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[body]', interpolate(resources['Experiences/Tier-Review/auto-renewal-body__text'], {\n                            tier_review_date: formattedTierReviewDate,\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/auto-renewal-pre-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', resources['Experiences/Tier-Review/auto-renewal-cta-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaLink]', resources['Experiences/Tier-Review/renewal-cta__link'].url);\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-auto-renewal__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-auto-renewal__image'].url;\n                                break;\n                            case 'platinum':\n                                tierImage = resources['Experiences/Tier-Review/platinum-auto-renewal__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Permanent Experience Clicked\",\n                                label: `BX:402:Tier Review:Auto Renewal Offer`,\n                                value: 0,\n                            });\n                        });\n                    }\n                    else if (content === \"stretch\") {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', resources['Experiences/Tier-Review/stretched-title__text']);\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/stretched-pre-title__text']);\n                        const endDate = new Date(\"{{data.endDate}}\");\n                        const formattedEndDate = moment(endDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                        renewalDiv = renewalDiv.replace(\"[body]\", interpolate(resources[\"Experiences/Tier-Review/stretched-body__text\"], {\n                            tier,\n                            purchase_end_date: formattedEndDate,\n                            reduction: \"{{data.reductionPercent}}\",\n                            bonusMiles: \"{{data.bonusMiles}}\"\n                        }));\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', resources['Experiences/Tier-Review/stretched-cta-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaLink]', resources['Experiences/Tier-Review/stretched-cta__link'].url);\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-stretch__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-stretch__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Permanent Experience Clicked\",\n                                label: `BX:418:Tier Review:Stretch Offer`,\n                                value: 0,\n                            });\n                        });\n\n                    } else if (content === \"paid_tier\") {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', interpolate(resources['Experiences/Tier-Review/paid-tier-title__text'], {\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/paid-tier-pre-title__text']);\n                        const endDate = new Date(\"{{data.endDate}}\");\n                        const formattedEndDate = moment(endDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                        renewalDiv = renewalDiv.replace(\"[body]\", interpolate(resources[\"Experiences/Tier-Review/paid-tier-body__text\"], {\n                            tier,\n                            purchase_end_date: formattedEndDate,\n                            price\n                        }));\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', interpolate(resources['Experiences/Tier-Review/paid-tier-cta-title__text'], {\n                            tier\n                        }));\n                        if (tier.toLowerCase() === 'gold') {\n                            renewalDiv = renewalDiv.replace('[ctaLink]', `/account/${__INITIAL_STATE__.urlparser.results.countryCompat}/${__INITIAL_STATE__.urlparser.results.language}/tier-renew/gold/index.aspx?offerCode=${offerCode}`);\n                        } else if (tier.toLowerCase() === 'silver') {\n                            renewalDiv = renewalDiv.replace('[ctaLink]', `/account/${__INITIAL_STATE__.urlparser.results.countryCompat}/${__INITIAL_STATE__.urlparser.results.language}/tier-renew/silver/index.aspx?offerCode=${offerCode}`);\n                        }\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-paid-tier__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-paid-tier__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Permanent Experience Clicked\",\n                                label: `BX:443:Tier Review:Paid Tier Offer`,\n                                value: 0,\n                            });\n                        });\n                    }\n                    sendBoxeverEvent('VIEWED');\n                    dataLayer.push({\n                        event: \"EventTrigger.PageBody_PromotionShown\",\n                        category: \"A/B Testing and Personalisation\",\n                        action: \"Permanent Experience Shown\",\n                        label: `BX:443:Tier Review:Paid Tier Offer`,\n                        value: 0,\n                        nonInteraction: true,\n                    });\n                }\n            }).catch(e => console.error(e));\n    }\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js';\n\n    document.head.appendChild(script);\n})();\n\n"}}],notificationEnabled:!1},{ref:"c9adb357-3c17-46bc-b158-842d8e6d8d9f",name:"BOX-466 EKH Palantir",revision:289,archived:!1,target:{script:'(function () {\n  function isSafari() {\n      return navigator.vendor.match(/apple/i) &&\n             !navigator.userAgent.match(/crios/i) &&\n             !navigator.userAgent.match(/fxios/i) &&\n             !navigator.userAgent.match(/Opera|OPT\\//);\n  }\n  \n  function getSearchData() {\n    if (dataLayer && dataLayer.length) {\n      for (var i = dataLayer.length - 1; i >= 0; i--) {\n        if (\n          (dataLayer[i] &&\n            dataLayer[i].event &&\n            dataLayer[i].event === "DataPush.IBE_flightSearchModifyIBE") ||\n          (dataLayer[0] && i === 0)\n        ) {\n          return {\n            destinationCode: dataLayer[i].destinationAirportFlightRoute,\n            originCode: dataLayer[i].originAirportflightRoute,\n            departureDate: dataLayer[i].flightDepartureDate,\n            returnDate: dataLayer[i].flightReturnDate,\n            adults: dataLayer[i].numberOfAdultsFlight,\n            childs: dataLayer[i].numberOfChildrenFlight,\n            infants: dataLayer[i].numberOfInfantsFlight,\n            teens: dataLayer[i].numberOfTeenagersFlight,\n            cabinClassCode: dataLayer[i].classOutboundCodeIBE,\n            ticketType: dataLayer[i].typeOfSearchIBE,\n          };\n        }\n      }\n    }\n    return null;\n  }\nsetTimeout(function() {\n      if (\n    dataLayer &&\n    dataLayer.length\n  ) {\n    const { originCode, destinationCode, ticketType, departureDate, returnDate } = getSearchData();\n    const originCountry = dataLayer[0].countryCode.toUpperCase();\n    const EKHPublications = [\n    {countryCode: "AE", languages: ["EN", "AR"]},\n    {countryCode: "GB", languages: ["EN"]},\n    {countryCode: "US", languages: ["EN"]},\n    {countryCode: "CY", languages: ["EN"]},\n    {countryCode: "DK", languages: ["DA"]},\n    {countryCode: "DE", languages: ["DE"]},\n    {countryCode: "SE", languages: ["SV"]},\n    // {countryCode: "GR", languages: ["EN"]},\n    {countryCode: "CA", languages: ["EN"]},\n    {countryCode: "BH", languages: ["EN", "AR"]},\n    {countryCode: "IL", languages: ["EN"]},\n    {countryCode: "JO", languages: ["EN"]},\n    {countryCode: "KW", languages: ["EN", "AR"]},\n    {countryCode: "LB", languages: ["EN"]},\n    {countryCode: "SA", languages: ["EN", "AR"]},\n    {countryCode: "OM", languages: ["EN", "AR"]},\n    {countryCode: "EG", languages: ["EN"]},\n    // {countryCode: "ET", languages: ["EN"]},\n    // {countryCode: "GH", languages: ["EN"]},\n    // {countryCode: "KE", languages: ["EN"]},\n    // {countryCode: "MA", languages: ["EN"]},\n    // {countryCode: "NG", languages: ["EN"]},\n    // {countryCode: "SN", languages: ["EN"]},\n    {countryCode: "ZA", languages: ["EN"]},\n    // {countryCode: "TZ", languages: ["EN"]},\n    // {countryCode: "ZW", languages: ["EN"]},\n    // {countryCode: "BD", languages: ["EN"]},\n    //{countryCode: "IN", languages: ["EN"]},\n    // {countryCode: "LK", languages: ["EN"]},\n    {countryCode: "MY", languages: ["EN"]}\n];\n    if (\n        (["MLE", "MRU", "SEZ", "DPS", "HKT", "BKK"].includes(destinationCode) ||\n                    (destinationCode === "IST" && originCode === "DXB") ||\n                    (destinationCode === \'DXB\' && Math.ceil((Date.parse(returnDate) - Date.parse(departureDate))/(1000*60*60*24)) > 4 &&\n                        Math.ceil((Date.parse(returnDate) - Date.parse(departureDate))/(1000*60*60*24)) < 24\n                    )\n                    ) &&\n                    EKHPublications.find(x => x.countryCode === originCountry && x.languages.includes(dataLayer[0].languageCode)) &&\n      ticketType === "Return" &&\n      !isSafari()\n    ) {\n      targetingPassed();\n    }\n  }\n}, 500);\n\n})();',targetPages:[{operator:"Contains",value:"/CAB/IBE/SelectPrice.aspx"}]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"a5c44ec9-ec0b-4fd9-9a86-391a210f5e2a",lowSplit:1,highSplit:60},{ref:"23abb310-36da-431a-8468-e18800c5d7ac",lowSplit:61,highSplit:120}],coupled:!1},variants:[{ref:"a5c44ec9-ec0b-4fd9-9a86-391a210f5e2a",name:"Original",assets:{css:'@import url("https://c.ekstatic.net/shared/fonts/iconography/iconography-20190304.css");\n\n.bx-391-ekh-bundled-offers {\n    background-color: #fff;\n    border-top: 1px solid #d8d8d8;\n    background-color: #ffffff;\n    margin: 25px 18px 10px;\n    display: flex;\n    flex-direction: column;\n}\n\n.bx-391-ekh-bundled-offers__logo {\n    text-align: left !important;\n    position: relative;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__logo {\n    text-align: right !important;\n}\n\n.bx-391-ekh-bundled-offers__logo:after {\n    width: 0;\n    height: 0;\n    content: \'\';\n    border-top: 12px solid transparent;\n    border-left: 10px solid #a9a9a9;\n    top: -22px;\n    display: inline-block;\n    position: relative;\n    right: 4px;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__logo:after {\n       border-left: none;\n       border-right: 10px solid #a9a9a9;\n       left: 4px;\n       right: auto;\n}\n\n.bx-391-ekh-bundled-offers__logo-img {\n    width: 150px !important;\n    height: 35px !important;\n    position: relative !important;\n    top: -14px !important;\n    border-radius: 3px;\n    right: 0 !important;\n    padding: 0px 5px;\n    background: #c4232a;\n}\n\n.bx-391-ekh-bundled-offers__wrapper {\n    display: flex;\n    flex-direction: row;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column {\n    margin: 0 30px 0 0;\n    width: calc(100%/3);\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column {\n    margin: 0 0 0 30px;\n}\n\n.bx-391-ekh-bundled-offers__header {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 125px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-img {\n    min-height: 100% !important;\n    height: 110px !important;\n    width: 110px !important;\n    margin: 0 10px 0 0;\n    border-radius: 3px;\n    position: unset !important;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-img {\n    margin: 0 0 0 30px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content {\n    display: flex;\n    flex-direction: column;\n    min-width: 185px;\n}\n\n.bx-391-ekh-bundled-offers__body {\n    margin: 0 125px;\n}\n\n.bx-391-ekh-bundled-offers__body-title {\n    margin: 0 0 10px 0;\n    font-family: EmiratesSB-Bold, helvetica, arial, sans-serif !important;\n    font-size: 16px;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.25;\n    letter-spacing: normal;\n    color: #333333;\n}\n\n.bx-391-ekh-bundled-offers__body-description {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    color: #333333;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-header {\n    font-family: EmiratesSB-Bold, helvetica, arial, sans-serif !important;\n    font-size: 14px;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.8;\n    letter-spacing: normal;\n    color: #333333;\n    text-align: left !important;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-header {\n     text-align: right !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-body {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.6;\n    letter-spacing: normal;\n    color: #333333;\n    max-width: 230px;\n    text-align: left !important;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-body {\n      text-align: right !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-body {\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n}\n\n.bx-391-visually-hidden {\n    border: 0;\n    clip: rect(0 0 0 0);\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    width: 1px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-metadata {\n    display: flex;\n    flex-direction: row;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating {\n    width: 14px !important;\n    position: unset !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-metadata-price {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 14px;\n    font-weight: 700;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.8;\n    letter-spacing: normal;\n    color: #333333;\n    margin-left: 15px;\n\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-metadata-price {\n        margin-left: 0;\n        margin-right: 15px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-cta {\n    font-size: 12px;\n    line-height: 1.4;\n    color: #c60c30;\n    text-decoration: underline;\n    cursor: pointer;\n    white-space: nowrap;\n    width: fit-content;\n    text-align: left !important;\n\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-cta {\n     text-align: right !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-cta:focus,\n.bx-391-ekh-bundled-offers__wrapper-column-content-cta:hover {\n    text-decoration: none;\n    background: rgba(0, 0, 0, 0.05);\n    transition: box-shadow 0.3s;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-cta-icon {\n    position: relative;\n    display: inline-block;\n    margin-left: 5px;\n    top: 2px;\n}\n\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-cta-icon {\n    margin-left: 0;\n    margin-right: 5px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating-wrapper {\n    /*margin-top: 2px;*/\n}\n\n/* Single offer css*/\n\n.bx-391-ekh-bundled-offers__wrapper-row {\n    display: flex;\n    flex-direction: row;\n    margin: 0 30px 0 0;\n    justify-content: space-between;\n    width: 100%;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-row {\n    margin: 0 0 0 30px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-img {\n    height: 100px;\n    margin: 0 30px 0 0;\n    border-radius: 3px;\n    width: 160px;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-row-img {\n    margin: 0 0 0 30px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-content {\n    display: flex;\n    flex-direction: column;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-content-header {\n    font-family: EmiratesSB-Bold, helvetica, arial, sans-serif !important;\n    font-size: 16px;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.25;\n    letter-spacing: normal;\n    color: #333333;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-content-body {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    color: #333333;\n    max-width: 570px;\n    margin-top: 10px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary {\n    display: flex;\n    flex-direction: column;\n    font-stretch: normal;\n    font-style: normal;\n    letter-spacing: normal;\n    text-align: right;\n    font-family: Helvetica, Arial, sans-serif;\n    font-weight: normal;\n    color: #333333;\n    justify-content: center;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-row-summary {\n    text-align: left;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-body {\n    display: flex;\n    flex-direction: row;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-head {\n    margin: 0 0 5px 0;\n    font-size: 12px;\n    line-height: 1.4;\n    padding: 0 !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-price {\n    margin: 0 0 10px 0;\n    font-size: 20px;\n    font-weight: 500;\n    line-height: 0.7;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-cta {\n    font-size: 12px;\n    line-height: 1.4;\n    color: #c60c30;\n    text-decoration: underline;\n    cursor: pointer;\n    white-space: nowrap;\n    width: fit-content;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-cta:focus,\n.bx-391-ekh-bundled-offers__wrapper-row-summary-cta:hover {\n    text-decoration: none;\n    background: rgba(0, 0, 0, 0.05);\n    transition: box-shadow 0.3s;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-cta-icon {\n    position: relative;\n    display: inline-block;\n    margin-left: 5px;\n    top: 2px;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-row-summary-cta-icon {\n    margin-left: 0;\n    margin-right: 5px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-total-price {\n    font-size: 10px;\n    line-height: 1.4rem;\n    font-weight: bold;\n    color: #424242;\n    width: fit-content;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: baseline;\n    margin-top: auto;\n    flex-wrap: wrap;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column:last-child {\n    margin-right: 0;\n}',html:'<div class="bx-391-ekh-bundled-offers">\n  <div class="bx-391-ekh-bundled-offers__logo">\n    <img class="bx-391-ekh-bundled-offers__logo-img" loading="lazy" alt="" />\n  </div>\n  <div id="bx-391-ekh-bundled-offers-body"></div>\n</div>\n',js:'function sendBoxeverEvent(eventType) {\n  let eventLabel = `BOX466_${eventType}`;\n  var event = {\n    channel: "WEB",\n    type: eventLabel,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) { }, "json");\n}\n\nfunction addQMIntegration() {\n  document.body.classList.add("em-box466--ekh-offers");\n}\n\nfunction getResourceKeys(resources, resourceMap) {\n  let mappedResources = {};\n  for (var key of Object.keys(resourceMap)) {\n    if (resourceMap[key] in resources) {\n      mappedResources[key] = resources[resourceMap[key]];\n    } else {\n      mappedResources[key] = "";\n    }\n  }\n  return mappedResources;\n}\n\nfunction interpolate(pattern = "", data = {}, soft = false) {\n  return pattern.replace(\n    // /\\{(?:(?:\\{(\\w+)\\})|(\\w+))\\}/gm, // matches word characters in single or double braces only\n    // /\\{+(\\w+)\\}+/gm, // matches word characters enclosed in arbitrary number of braces\n    /{+(\\w+([-\']\\w+)*)}+/gm, // matches word characters with dash enclosed in arbitrary number of braces\n    (_, single, double) => {\n      const key = single || double;\n      const value = data[key];\n      if (!value) {\n        console.error("Interpolation key was not found in data object:", key);\n        if (!soft) return `{${key}?}`;\n        return "";\n      }\n      return value;\n    }\n  );\n}\n\nfunction getSearchData() {\n  if (dataLayer && dataLayer.length) {\n    for (var i = dataLayer.length - 1; i >= 0; i--) {\n      if (\n        (dataLayer[i] &&\n          dataLayer[i].event &&\n          dataLayer[i].event === "DataPush.IBE_flightSearchModifyIBE") ||\n        (dataLayer[0] && i === 0)\n      ) {\n        return {\n          destinationCode: dataLayer[i].destinationAirportFlightRoute,\n          originCode: dataLayer[i].originAirportflightRoute,\n          departureDate: dataLayer[i].flightDepartureDate,\n          returnDate: dataLayer[i].flightReturnDate,\n          adults: dataLayer[i].numberOfAdultsFlight,\n          childs: dataLayer[i].numberOfChildrenFlight,\n          infants: dataLayer[i].numberOfInfantsFlight,\n          teens: dataLayer[i].numberOfTeenagersFlight,\n          cabinClassCode: dataLayer[i].classOutboundCodeIBE,\n        };\n      }\n    }\n  }\n  return null;\n}\n\nfunction renderHotelRating(rating) {\n  let ratingStars = [];\n  for (let i = 0; i < rating; i++) {\n    ratingStars.push(\n      `<img class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating" alt="" loading="lazy" src="https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png"/>`\n    );\n  }\n  for (let j = 0; j < 5 - rating; j++) {\n    ratingStars.push(\n      `<img class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating" alt="" loading="lazy" src="https://c.ekstatic.net/ecl/iconography/e72585a018510638901dd029c05d0724_40_38.png"/>`\n    );\n  }\n  return ratingStars.join("");\n}\n\nfunction renderDeepLink(hotelId, deepLink, resourceKeys, className) {\n  const deepLinkParts = deepLink.split("/");\n  return `<a class="${className}" href="https://${deepLinkParts[2]}/${deepLinkParts[3]}/holidays/${deepLinkParts[6]}/${hotelId}?utm_source=emirates.com&utm_medium=referral&utm_campaign=ekh_destination_push&utm_content=bx_ek_ibe_banner_box466_c" target="_blank">${resourceKeys.offerCTALabel}<i class=\'icon icon-external-link bx-391-ekh-bundled-offers__wrapper-column-content-cta-icon\'><span class="bx-391-visually-hidden">${resourceKeys.externalLinkAA}</span></i></a>`;\n}\n\nfunction renderDeepLinkToSearchResults(\n  hotelId,\n  deepLink,\n  resourceKeys,\n  className\n) {\n  const deepLinkParts = deepLink.split("/");\n  return `<a class="${className}" href="https://${deepLinkParts[2]}/${dataLayer[0].originCountry.toLowerCase()}_${dataLayer[0].languageCode.toLowerCase()}/holidays/hotels/${deepLinkParts[6]}?utm_source=emirates.com&utm_medium=referral&utm_campaign=ekh_destination_push&utm_content=bx_ek_ibe_banner_box466_c" target="_blank">${resourceKeys.offerCTALabel}<i class=\'icon icon-external-link bx-391-ekh-bundled-offers__wrapper-column-content-cta-icon\'><span class="bx-391-visually-hidden">${resourceKeys.externalLinkAA}</span></i></a>`;\n}\nfunction getDescription(totalPassengers, nights, offerBoardType, resources) {\n  let peopleDescription = "";\n  switch (totalPassengers) {\n    case 1:\n      peopleDescription =\n        nights == 1\n          ? resources.singlePersonSingleNight\n          : nights == 2\n            ? resources.singlePersonTwoNights\n            : resources.singlePersonMultiNights;\n      break;\n    case 2:\n      peopleDescription =\n        nights == 1\n          ? resources.twoPersonSingleNight\n          : nights == 2\n            ? resources.twoPersonTwoNights\n            : resources.twoPersonMultiNights;\n      break;\n    default:\n      peopleDescription =\n        nights == 1\n          ? resources.multiplePersonSingleNight\n          : nights == 2\n            ? resources.multiplePersonTwoNights\n            : resources.multiplePersonMultiNights;\n      break;\n  }\n  return interpolate(peopleDescription, {\n    totalPassengers,\n    nights,\n    boardType: offerBoardType in BoardTypes ? resources[`boardType_${offerBoardType}`] : "",\n  });\n}\nfunction renderMultiOffers(\n  hotels,\n  offers,\n  resources,\n  deepLink,\n  totalPassengers,\n  nights\n) {\n  let offersHTML = "";\n  const lowestPrice = document.querySelector(".carrier-imposed-curr");\n  hotels.forEach((hotel, index) => {\n    const descriptionHTML = getDescription(\n      totalPassengers,\n      nights,\n      offers[index].BoardType,\n      resources\n    );\n    const bundlePrice =\n      lowestPrice && lowestPrice.innerHTML\n        ? getFormattedPrice(\n          offers[index].MinHolidayPrice - lowestPrice.innerHTML\n        )\n        : 0;\n    const formattedBundledPrice = getFormattedPrice(\n      offers[index].MinHolidayPrice\n    );\n    offersHTML += `      <div class="bx-391-ekh-bundled-offers__wrapper-column">\n                    <div class="bx-391-ekh-bundled-offers__wrapper-column-body">\n                        <img loading="lazy" class="bx-391-ekh-bundled-offers__wrapper-column-img" alt="" src="${EKHCDNURL}/${hotel.Id\n      }/0?width=150&height=200&crop=true" />\n                        <div class="bx-391-ekh-bundled-offers__wrapper-column-content">\n                            <p class="bx-391-ekh-bundled-offers__wrapper-column-content-header">${hotel.Title\n      }</p>\n                            <div class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata">\n                                <div class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating-wrapper">\n        ${renderHotelRating(hotel.StarRating)}\n                                </div>\n                                                            ${bundlePrice &&\n      `<p class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata-price">+ ${bundlePrice}</p>`\n      }\n      \n                            </div>\n          \n                            <p class="bx-391-ekh-bundled-offers__wrapper-column-content-body">${descriptionHTML}</p>\n                                              <div class="bx-391-ekh-bundled-offers__wrapper-footer">\n                        ${renderDeepLinkToSearchResults(\n        hotel.Id,\n        deepLink,\n        resources,\n        "bx-391-ekh-bundled-offers__wrapper-column-content-cta"\n      )}\n                     <span class="bx-391-ekh-bundled-offers__wrapper-total-price">${interpolate(resources.bundledPrice, { price: formattedBundledPrice })}</span>\n                     </div>\n                        </div>\n                    </div>\n                </div>`;\n  });\n  return `\n            <div class="bx-391-ekh-bundled-offers__wrapper">\n            ${offersHTML}\n            </div>`;\n}\n\nfunction getFormattedPrice(price) {\n  return `${dataLayer[0].posCurrencyCode} ${numberWithCommas(\n    Math.round(price)\n  )}`;\n}\n\nfunction renderSingleOffer(\n  hotel,\n  offer,\n  resources,\n  deepLink,\n  totalPassengers,\n  nights\n) {\n  const descriptionHTML = getDescription(\n    totalPassengers,\n    nights,\n    offer.BoardType,\n    resources\n  );\n\n  return `    <div class="bx-391-ekh-bundled-offers__wrapper">\n                <div class="bx-391-ekh-bundled-offers__wrapper-row">\n                    <div class="bx-391-ekh-bundled-offers__wrapper-row-body">\n                        <img loading="lazy" class="bx-391-ekh-bundled-offers__wrapper-row-img" alt="" src="${EKHCDNURL}/${hotel.Id\n    }/0?width=160&height=100&crop=false" />\n                        <div class="bx-391-ekh-bundled-offers__wrapper-row-content">\n                            <p class="bx-391-ekh-bundled-offers__wrapper-row-content-header">${hotel.Title\n    }</p>\n                                                                 <div>\n        ${renderHotelRating(hotel.StarRating)}\n                                </div>\n                            <p class="bx-391-ekh-bundled-offers__wrapper-row-content-body">${descriptionHTML}</p>\n                        </div>\n                    </div>\n                    <div class="bx-391-ekh-bundled-offers__wrapper-row-summary">\n                        <p class="bx-391-ekh-bundled-offers__wrapper-row-summary-head">${resources.priceLabel\n    }</p>\n                        <p class="bx-391-ekh-bundled-offers__wrapper-row-summary-price">${getFormattedPrice(\n      offer\n    )}</p>\n        \n                                        ${renderDeepLink(\n      hotel.Id,\n      deepLink,\n      resources,\n      "bx-391-ekh-bundled-offers__wrapper-row-summary-cta"\n    )}\n        \n                    </div>\n                </div>\n            </div>`;\n}\n\nfunction compareSearchData(eventSearchData, searchData) {\n  const cabinClassMapping = {\n    1: "Y",\n    8: "J",\n    4: "F",\n    2: "W",\n  };\n  const eventDepartureDate = new Date(\n    eventSearchData.departureDate + " 00:00:00"\n  );\n  const eventArrivalDate = new Date(eventSearchData.arrivalDate + " 00:00:00");\n  const searchDepartureDate = new Date(searchData.departureDate + " 00:00:00");\n  const searchArrivalDate = new Date(searchData.returnDate + " 00:00:00");\n\n  if (\n    eventDepartureDate.getTime() === searchDepartureDate.getTime() &&\n    eventArrivalDate.getTime() === searchArrivalDate.getTime() &&\n    parseInt(searchData.adults) == eventSearchData.adults &&\n    parseInt(searchData.infants) +\n    parseInt(searchData.teens) +\n    parseInt(searchData.childs) ===\n    JSON.parse(eventSearchData.childAges).length &&\n    eventSearchData.arrivalAirport == searchData.destinationCode &&\n    eventSearchData.departureAirport == searchData.originCode &&\n    cabinClassMapping[eventSearchData.cabinClass] == searchData.cabinClassCode\n  )\n    return true;\n  return false;\n  \n}\n\nfunction render() {\n  $("#currConverterSelect").bind("change", function () {\n    const currency = document.querySelector(".summary-converted-type");\n    if (currency) {\n      currency.innerHTML = currencyDesc;\n    }\n  });\n  const searchData = getSearchData();\n  const eventSearchData = "{{searchData}}";\n  const holidayOffers = "{{offers}}";\n  if (\n    dataLayer &&\n    dataLayer[0] &&\n    searchData &&\n    eventSearchData &&\n    holidayOffers\n  ) {\n    const parsedEventSearchData = JSON.parse(\n      eventSearchData.replaceAll("&quot;", \'"\')\n    );\n    if (\n      parsedEventSearchData &&\n      compareSearchData(parsedEventSearchData.searchData, searchData)\n    ) {\n      let publication = "";\n      const cultureInput = __PublicationUrl;\n      if (cultureInput) {\n        if (cultureInput !== "/english") {\n          publication = cultureInput;\n        } else {\n          publication = "/global/english";\n        }\n      }\n      if (publication) {\n        let lang = dataLayer[0].languageCode.toLowerCase();\n        const originCountry = dataLayer[0].originCountry.toUpperCase();\n        const cultureCode = `${lang}-${originCountry}`;\n        let promises = [\n          fetch(\n            `${HOST}/service/content/api/v4.0/resources/eol${publication}/Experiences/Emirates-Holidays/Bundled-Offers`\n          )\n            .then((response) => {\n              return response.json();\n            })\n            .then((results) => {\n              let resources = null;\n              if (results) {\n                resources = results.results;\n              }\n              return resources;\n            }),\n        ];\n\n        Promise.all(promises)\n          .then(([resources]) => {\n            if (resources && Object.keys(resources).length) {\n              const holidays = JSON.parse(\n                holidayOffers.replaceAll("&quot;", \'"\')\n              );\n              if (\n                holidays &&\n                holidays.bundledOffers &&\n                holidays.bundledOffers.Estabs &&\n                Object.keys(holidays.bundledOffers.Estabs).length\n              ) {\n                const selectedHolidays = holidays.bundledOffers.Estabs;\n                fetch(\n                  "https://www.travelrepublic.co.uk/api/hotels/static/gethotelsbyid",\n                  {\n                    method: "POST",\n                    headers: {\n                      Accept: "application/json",\n                      "Content-Type": "application/json",\n                    },\n                    body: JSON.stringify({\n                      Ids: Object.keys(selectedHolidays).map(\n                        (key) => selectedHolidays[key].Id\n                      ),\n                      CultureCode: cultureCode,\n                      RefreshRankingScores: true,\n                      FieldFlags: 3,\n                    }),\n                  }\n                )\n                  .then((response) => response.json())\n                  .then((holidaysDetails) => {\n                    if (holidaysDetails && holidaysDetails.length) {\n                      insertHTMLAfter(".ts-lp");\n                      const resourceMap = {\n                        boardType_1: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-1__text`,\n                        boardType_2: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-2__text`,\n                        boardType_3: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-3__text`,\n                        boardType_4: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-4__text`,\n                        boardType_5: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-5__text`,\n                        totalPrice: "Experiences/Emirates-Holidays/Bundled-Offers/min-price-title__text",\n                        bundledPrice: "Experiences/Emirates-Holidays/Bundled-Offers/total-price__text",\n                        ekhLogo: `Experiences/Emirates-Holidays/Bundled-Offers/ekh-logo__image`,\n                        header: `Experiences/Emirates-Holidays/Bundled-Offers/banner-header__text`,\n                        body: `Experiences/Emirates-Holidays/Bundled-Offers/banner-body__text`,\n                        priceLabel: `Experiences/Emirates-Holidays/Bundled-Offers/price-label__text`,\n                        offerCTALabel: `Experiences/Emirates-Holidays/Bundled-Offers/emirates-holiday-cta-label__text`,\n                        externalLinkAA: `Experiences/Emirates-Holidays/Bundled-Offers/external-link-aa__text`,\n                        singlePersonMultiNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-single-person-multiple-nights__text`,\n                        singlePersonTwoNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-single-person-two-nights__text`,\n                        singlePersonSingleNight: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-single-person-single-night__text`,\n                        twoPersonSingleNight: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-two-people-single-nights__text`,\n                        twoPersonTwoNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-two-people-two-nights__text`,\n                        twoPersonMultiNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-two-people-multiple-nights__text`,\n                        multiplePersonMultiNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-multiple-people-multiple-nights__text`,\n                        multiplePersonTwoNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-multiple-people-two-nights__text`,\n                        multiplePersonSingleNight: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-multiple-people-single-nights__text`,\n                      };\n                      const resourceKeys = getResourceKeys(\n                        resources,\n                        resourceMap\n                      );\n                      let body = "";\n                      const totalPassengers =\n                        parseInt(dataLayer[0].nOfAdultsSearchIBE) +\n                        parseInt(dataLayer[0].nOfChildSearchIBE) +\n                        parseInt(dataLayer[0].nOfInfantsSearchIBE) +\n                        parseInt(dataLayer[0].numberOfTeenagersFlight);\n                      const depDate = new Date(\n                        holidays.bundledOffers.CheckInDate\n                      );\n                      const retDate = new Date(\n                        holidays.bundledOffers.CheckOutDate\n                      );\n                      const nights = Math.round(\n                        (retDate.getTime() - depDate.getTime()) /\n                        (1000 * 3600 * 24)\n                      );\n                      body = renderMultiOffers(\n                        holidaysDetails,\n                        selectedHolidays,\n                        resourceKeys,\n                        holidays.bundledOffers.DeepLink,\n                        totalPassengers,\n                        nights\n                      );\n                      const flightPriceContainer =\n                        document.querySelector(".ts-lp__price");\n                      if (flightPriceContainer) {\n                        flightPriceContainer.innerHTML = interpolate(resourceKeys.totalPrice, { price: flightPriceContainer.innerHTML });\n                      }\n                      document.querySelector(\n                        "#bx-391-ekh-bundled-offers-body"\n                      ).innerHTML = body;\n                      const ekhLogo = document.querySelector(\n                        ".bx-391-ekh-bundled-offers__logo-img"\n                      );\n                      if (ekhLogo) {\n                        ekhLogo.src =\n                          (dataLayer[0].originCountry === "US" || dataLayer[0].originCountry === "CA")\n                            ? "https://c.ekstatic.net/ecl/logos/group-companies/ekv.svg"\n                            : "https://c.ekstatic.net/ecl/logos/group-companies/ekh_logo.svg";\n                      }\n                      const hotelsCTAs = document.querySelectorAll(\n                        ".bx-391-ekh-bundled-offers__wrapper-column-content-cta"\n                      );\n                      hotelsCTAs.forEach((cta) => {\n                        cta.addEventListener("click", (e) => {\n                          sendBoxeverEvent("CLICKED_C");\n                          dataLayer.push({\n                            event: "EventTrigger.PageBody_PromotionClicked",\n                            category: "A/B Testing and Personalisation",\n                            action: "Promotion Clicked",\n                            label:\n                              "BX:466:EKH:Control",\n                            value: 0,\n                          });\n                        });\n                      });\n                      sendBoxeverEvent("VIEWED_C");\n\n                      setTimeout(() => dataLayer.push({\n                        event: "EventTrigger.PageBody_PromotionShown",\n                        category: "A/B Testing and Personalisation",\n                        action: "Promotion Shown",\n                        label:\n                          "BX:466:EKH:Control",\n                        value: 0,\n                        formDetails: \'Results returned\'\n                      }), 500);\n\n                    }\n                  })\n\n                  .catch(console.error);\n              } else {\n                sendBoxeverEvent("VIEWED_C");\n                setTimeout(() => dataLayer.push({\n                  event: "EventTrigger.PageBody_PromotionShown",\n                  category: "A/B Testing and Personalisation",\n                  action: "Promotion Shown",\n                  label:\n                    "BX:466:EKH:Control",\n                  value: 0,\n                  formDetails: \'Results not returned\'\n                }), 500);\n\n              }\n            }\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    } else {\n      sendBoxeverEvent("VIEWED_C");\n      setTimeout(() => dataLayer.push({\n        event: "EventTrigger.PageBody_PromotionShown",\n        category: "A/B Testing and Personalisation",\n        action: "Promotion Shown",\n        label:\n          "BX:466:EKH:Control",\n        value: 0,\n        formDetails: \'Results not returned\'\n      }), 500);\n    }\n  } else {\n    sendBoxeverEvent("VIEWED_C");\n    setTimeout(() => dataLayer.push({\n      event: "EventTrigger.PageBody_PromotionShown",\n      category: "A/B Testing and Personalisation",\n      action: "Promotion Shown",\n      label:\n        "BX:466:EKH:Control",\n      value: 0,\n      formDetails: \'Results not returned\'\n    }), 500);\n  }\n}\nconst HOST = `https://www.emirates.com`;\nconst EKHURL = `https://www.emiratesholidays.com`;\nconst EKHCDNURL = `https://hi-cdn.t-rp.co.uk/images/hotels`;\nconst BoardTypes = {\n  1: "Room Only",\n  5: "All-Inclusive",\n  2: "Bed & Breakfast",\n  3: "Half Board",\n  4: "Full Board",\n};\naddQMIntegration();\nrender();\n'}},{ref:"23abb310-36da-431a-8468-e18800c5d7ac",name:"BOX-466 Test",assets:{css:'@import url("https://c.ekstatic.net/shared/fonts/iconography/iconography-20190304.css");\n\n.bx-391-ekh-bundled-offers {\n    background-color: #fff;\n    border-top: 1px solid #d8d8d8;\n    background-color: #ffffff;\n    margin: 25px 18px 10px;\n    display: flex;\n    flex-direction: column;\n}\n\n.bx-391-ekh-bundled-offers__logo {\n    text-align: left !important;\n    position: relative;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__logo {\n    text-align: right !important;\n}\n\n.bx-391-ekh-bundled-offers__logo:after {\n    width: 0;\n    height: 0;\n    content: \'\';\n    border-top: 12px solid transparent;\n    border-left: 10px solid #a9a9a9;\n    top: -22px;\n    display: inline-block;\n    position: relative;\n    right: 4px;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__logo:after {\n       border-left: none;\n       border-right: 10px solid #a9a9a9;\n       left: 4px;\n       right: auto;\n}\n\n.bx-391-ekh-bundled-offers__logo-img {\n    width: 150px !important;\n    height: 35px !important;\n    position: relative !important;\n    top: -14px !important;\n    border-radius: 3px;\n    right: 0 !important;\n    padding: 0px 5px;\n    background: #c4232a;\n}\n\n.bx-391-ekh-bundled-offers__wrapper {\n    display: flex;\n    flex-direction: row;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column {\n    margin: 0 30px 0 0;\n    width: calc(100%/3);\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column {\n    margin: 0 0 0 30px;\n}\n\n.bx-391-ekh-bundled-offers__header {\n    display: flex;\n    justify-content: space-between;\n    margin: 0 125px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-img {\n    min-height: 100% !important;\n    height: 110px !important;\n    width: 110px !important;\n    margin: 0 10px 0 0;\n    border-radius: 3px;\n    position: unset !important;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-img {\n    margin: 0 0 0 30px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content {\n    display: flex;\n    flex-direction: column;\n    min-width: 185px;\n}\n\n.bx-391-ekh-bundled-offers__body {\n    margin: 0 125px;\n}\n\n.bx-391-ekh-bundled-offers__body-title {\n    margin: 0 0 10px 0;\n    font-family: EmiratesSB-Bold, helvetica, arial, sans-serif !important;\n    font-size: 16px;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.25;\n    letter-spacing: normal;\n    color: #333333;\n}\n\n.bx-391-ekh-bundled-offers__body-description {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    color: #333333;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-header {\n    font-family: EmiratesSB-Bold, helvetica, arial, sans-serif !important;\n    font-size: 14px;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.8;\n    letter-spacing: normal;\n    color: #333333;\n    text-align: left !important;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-header {\n     text-align: right !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-body {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.6;\n    letter-spacing: normal;\n    color: #333333;\n    max-width: 230px;\n    text-align: left !important;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-body {\n      text-align: right !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-body {\n    display: flex;\n    flex-direction: row;\n    height: 100%;\n}\n\n.bx-391-visually-hidden {\n    border: 0;\n    clip: rect(0 0 0 0);\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    width: 1px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-metadata {\n    display: flex;\n    flex-direction: row;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating {\n    width: 14px !important;\n    position: unset !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-metadata-price {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 14px;\n    font-weight: 700;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.8;\n    letter-spacing: normal;\n    color: #333333;\n    margin-left: 15px;\n\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-metadata-price {\n        margin-left: 0;\n        margin-right: 15px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-cta {\n    font-size: 12px;\n    line-height: 1.4;\n    color: #c60c30;\n    text-decoration: underline;\n    cursor: pointer;\n    white-space: nowrap;\n    width: fit-content;\n    text-align: left !important;\n\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-cta {\n     text-align: right !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-cta:focus,\n.bx-391-ekh-bundled-offers__wrapper-column-content-cta:hover {\n    text-decoration: none;\n    background: rgba(0, 0, 0, 0.05);\n    transition: box-shadow 0.3s;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-cta-icon {\n    position: relative;\n    display: inline-block;\n    margin-left: 5px;\n    top: 2px;\n}\n\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-column-content-cta-icon {\n    margin-left: 0;\n    margin-right: 5px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating-wrapper {\n    /*margin-top: 2px;*/\n}\n\n/* Single offer css*/\n\n.bx-391-ekh-bundled-offers__wrapper-row {\n    display: flex;\n    flex-direction: row;\n    margin: 0 30px 0 0;\n    justify-content: space-between;\n    width: 100%;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-row {\n    margin: 0 0 0 30px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-img {\n    height: 100px;\n    margin: 0 30px 0 0;\n    border-radius: 3px;\n    width: 160px;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-row-img {\n    margin: 0 0 0 30px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-content {\n    display: flex;\n    flex-direction: column;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-content-header {\n    font-family: EmiratesSB-Bold, helvetica, arial, sans-serif !important;\n    font-size: 16px;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.25;\n    letter-spacing: normal;\n    color: #333333;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-content-body {\n    font-family: Helvetica, Arial, sans-serif;\n    font-size: 12px;\n    font-weight: normal;\n    font-stretch: normal;\n    font-style: normal;\n    line-height: 1.4;\n    letter-spacing: normal;\n    color: #333333;\n    max-width: 570px;\n    margin-top: 10px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary {\n    display: flex;\n    flex-direction: column;\n    font-stretch: normal;\n    font-style: normal;\n    letter-spacing: normal;\n    text-align: right;\n    font-family: Helvetica, Arial, sans-serif;\n    font-weight: normal;\n    color: #333333;\n    justify-content: center;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-row-summary {\n    text-align: left;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-body {\n    display: flex;\n    flex-direction: row;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-head {\n    margin: 0 0 5px 0;\n    font-size: 12px;\n    line-height: 1.4;\n    padding: 0 !important;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-price {\n    margin: 0 0 10px 0;\n    font-size: 20px;\n    font-weight: 500;\n    line-height: 0.7;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-cta {\n    font-size: 12px;\n    line-height: 1.4;\n    color: #c60c30;\n    text-decoration: underline;\n    cursor: pointer;\n    white-space: nowrap;\n    width: fit-content;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-cta:focus,\n.bx-391-ekh-bundled-offers__wrapper-row-summary-cta:hover {\n    text-decoration: none;\n    background: rgba(0, 0, 0, 0.05);\n    transition: box-shadow 0.3s;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-row-summary-cta-icon {\n    position: relative;\n    display: inline-block;\n    margin-left: 5px;\n    top: 2px;\n}\n\nhtml[dir="rtl"] .bx-391-ekh-bundled-offers__wrapper-row-summary-cta-icon {\n    margin-left: 0;\n    margin-right: 5px;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-total-price {\n    font-size: 10px;\n    line-height: 1.4rem;\n    font-weight: bold;\n    color: #424242;\n    width: fit-content;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-footer {\n    display: flex;\n    justify-content: space-between;\n    align-items: baseline;\n    margin-top: auto;\n    flex-wrap: wrap;\n}\n\n.bx-391-ekh-bundled-offers__wrapper-column:last-child {\n    margin-right: 0;\n}',html:'<div class="bx-391-ekh-bundled-offers">\n  <div class="bx-391-ekh-bundled-offers__logo">\n    <img class="bx-391-ekh-bundled-offers__logo-img" loading="lazy" alt="" />\n  </div>\n  <div id="bx-391-ekh-bundled-offers-body"></div>\n</div>\n',js:'function sendBoxeverEvent(eventType) {\n  let eventLabel = `BOX466_${eventType}`;\n  var event = {\n    channel: "WEB",\n    type: eventLabel,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) { }, "json");\n}\n\nfunction addQMIntegration() {\n  document.body.classList.add("em-box466--ekh-offers");\n}\n\nfunction getResourceKeys(resources, resourceMap) {\n  let mappedResources = {};\n  for (var key of Object.keys(resourceMap)) {\n    if (resourceMap[key] in resources) {\n      mappedResources[key] = resources[resourceMap[key]];\n    } else {\n      mappedResources[key] = "";\n    }\n  }\n  return mappedResources;\n}\n\nfunction interpolate(pattern = "", data = {}, soft = false) {\n  return pattern.replace(\n    // /\\{(?:(?:\\{(\\w+)\\})|(\\w+))\\}/gm, // matches word characters in single or double braces only\n    // /\\{+(\\w+)\\}+/gm, // matches word characters enclosed in arbitrary number of braces\n    /{+(\\w+([-\']\\w+)*)}+/gm, // matches word characters with dash enclosed in arbitrary number of braces\n    (_, single, double) => {\n      const key = single || double;\n      const value = data[key];\n      if (!value) {\n        console.error("Interpolation key was not found in data object:", key);\n        if (!soft) return `{${key}?}`;\n        return "";\n      }\n      return value;\n    }\n  );\n}\n\nfunction getSearchData() {\n  if (dataLayer && dataLayer.length) {\n    for (var i = dataLayer.length - 1; i >= 0; i--) {\n      if (\n        (dataLayer[i] &&\n          dataLayer[i].event &&\n          dataLayer[i].event === "DataPush.IBE_flightSearchModifyIBE") ||\n        (dataLayer[0] && i === 0)\n      ) {\n        return {\n          destinationCode: dataLayer[i].destinationAirportFlightRoute,\n          originCode: dataLayer[i].originAirportflightRoute,\n          departureDate: dataLayer[i].flightDepartureDate,\n          returnDate: dataLayer[i].flightReturnDate,\n          adults: dataLayer[i].numberOfAdultsFlight,\n          childs: dataLayer[i].numberOfChildrenFlight,\n          infants: dataLayer[i].numberOfInfantsFlight,\n          teens: dataLayer[i].numberOfTeenagersFlight,\n          cabinClassCode: dataLayer[i].classOutboundCodeIBE,\n        };\n      }\n    }\n  }\n  return null;\n}\n\nfunction renderHotelRating(rating) {\n  let ratingStars = [];\n  for (let i = 0; i < rating; i++) {\n    ratingStars.push(\n      `<img class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating" alt="" loading="lazy" src="https://c.ekstatic.net/ecl/iconography/27b9f781a94a8af00418bf50ea278016_40_38.png"/>`\n    );\n  }\n  for (let j = 0; j < 5 - rating; j++) {\n    ratingStars.push(\n      `<img class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating" alt="" loading="lazy" src="https://c.ekstatic.net/ecl/iconography/e72585a018510638901dd029c05d0724_40_38.png"/>`\n    );\n  }\n  return ratingStars.join("");\n}\n\nfunction renderDeepLink(hotelId, deepLink, resourceKeys, className) {\n  const deepLinkParts = deepLink.split("/");\n  return `<a class="${className}" href="https://${deepLinkParts[2]}/${deepLinkParts[3]}/holidays/${deepLinkParts[6]}/${hotelId}?utm_source=emirates.com&utm_medium=referral&utm_campaign=ekh_destination_push&utm_content=bx_ek_ibe_banner_box466_v" target="_blank">${resourceKeys.offerCTALabel}<i class=\'icon icon-external-link bx-391-ekh-bundled-offers__wrapper-column-content-cta-icon\'><span class="bx-391-visually-hidden">${resourceKeys.externalLinkAA}</span></i></a>`;\n}\n\nfunction renderDeepLinkToSearchResults(\n  hotelId,\n  deepLink,\n  resourceKeys,\n  className\n) {\n  const deepLinkParts = deepLink.split("/");\n  return `<a class="${className}" href="https://${deepLinkParts[2]}/${dataLayer[0].originCountry.toLowerCase()}_${dataLayer[0].languageCode.toLowerCase()}/holidays/hotels/${deepLinkParts[6]}?utm_source=emirates.com&utm_medium=referral&utm_campaign=ekh_destination_push&utm_content=bx_ek_ibe_banner_box466_v" target="_blank">${resourceKeys.offerCTALabel}<i class=\'icon icon-external-link bx-391-ekh-bundled-offers__wrapper-column-content-cta-icon\'><span class="bx-391-visually-hidden">${resourceKeys.externalLinkAA}</span></i></a>`;\n}\nfunction getDescription(totalPassengers, nights, offerBoardType, resources) {\n  let peopleDescription = "";\n  switch (totalPassengers) {\n    case 1:\n      peopleDescription =\n        nights == 1\n          ? resources.singlePersonSingleNight\n          : nights == 2\n            ? resources.singlePersonTwoNights\n            : resources.singlePersonMultiNights;\n      break;\n    case 2:\n      peopleDescription =\n        nights == 1\n          ? resources.twoPersonSingleNight\n          : nights == 2\n            ? resources.twoPersonTwoNights\n            : resources.twoPersonMultiNights;\n      break;\n    default:\n      peopleDescription =\n        nights == 1\n          ? resources.multiplePersonSingleNight\n          : nights == 2\n            ? resources.multiplePersonTwoNights\n            : resources.multiplePersonMultiNights;\n      break;\n  }\n  return interpolate(peopleDescription, {\n    totalPassengers,\n    nights,\n    boardType: offerBoardType in BoardTypes ? resources[`boardType_${offerBoardType}`] : "",\n  });\n}\nfunction renderMultiOffers(\n  hotels,\n  offers,\n  resources,\n  deepLink,\n  totalPassengers,\n  nights\n) {\n  let offersHTML = "";\n  const lowestPrice = document.querySelector(".carrier-imposed-curr");\n  hotels.forEach((hotel, index) => {\n    const descriptionHTML = getDescription(\n      totalPassengers,\n      nights,\n      offers[index].BoardType,\n      resources\n    );\n    const bundlePrice =\n      lowestPrice && lowestPrice.innerHTML\n        ? getFormattedPrice(\n          offers[index].MinHolidayPrice - lowestPrice.innerHTML\n        )\n        : 0;\n    const formattedBundledPrice = getFormattedPrice(\n      offers[index].MinHolidayPrice\n    );\n    offersHTML += `      <div class="bx-391-ekh-bundled-offers__wrapper-column">\n                    <div class="bx-391-ekh-bundled-offers__wrapper-column-body">\n                        <img loading="lazy" class="bx-391-ekh-bundled-offers__wrapper-column-img" alt="" src="${EKHCDNURL}/${hotel.Id\n      }/0?width=150&height=200&crop=true" />\n                        <div class="bx-391-ekh-bundled-offers__wrapper-column-content">\n                            <p class="bx-391-ekh-bundled-offers__wrapper-column-content-header">${hotel.Title\n      }</p>\n                            <div class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata">\n                                <div class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata-rating-wrapper">\n        ${renderHotelRating(hotel.StarRating)}\n                                </div>\n                                                            ${bundlePrice &&\n      `<p class="bx-391-ekh-bundled-offers__wrapper-column-content-metadata-price">+ ${bundlePrice}</p>`\n      }\n      \n                            </div>\n          \n                            <p class="bx-391-ekh-bundled-offers__wrapper-column-content-body">${descriptionHTML}</p>\n                                              <div class="bx-391-ekh-bundled-offers__wrapper-footer">\n                        ${renderDeepLinkToSearchResults(\n        hotel.Id,\n        deepLink,\n        resources,\n        "bx-391-ekh-bundled-offers__wrapper-column-content-cta"\n      )}\n                     <span class="bx-391-ekh-bundled-offers__wrapper-total-price">${interpolate(resources.bundledPrice, { price: formattedBundledPrice })}</span>\n                     </div>\n                        </div>\n                    </div>\n                </div>`;\n  });\n  return `\n            <div class="bx-391-ekh-bundled-offers__wrapper">\n            ${offersHTML}\n            </div>`;\n}\n\nfunction getFormattedPrice(price) {\n  return `${dataLayer[0].posCurrencyCode} ${numberWithCommas(\n    Math.round(price)\n  )}`;\n}\n\nfunction renderSingleOffer(\n  hotel,\n  offer,\n  resources,\n  deepLink,\n  totalPassengers,\n  nights\n) {\n  const descriptionHTML = getDescription(\n    totalPassengers,\n    nights,\n    offer.BoardType,\n    resources\n  );\n\n  return `    <div class="bx-391-ekh-bundled-offers__wrapper">\n                <div class="bx-391-ekh-bundled-offers__wrapper-row">\n                    <div class="bx-391-ekh-bundled-offers__wrapper-row-body">\n                        <img loading="lazy" class="bx-391-ekh-bundled-offers__wrapper-row-img" alt="" src="${EKHCDNURL}/${hotel.Id\n    }/0?width=160&height=100&crop=false" />\n                        <div class="bx-391-ekh-bundled-offers__wrapper-row-content">\n                            <p class="bx-391-ekh-bundled-offers__wrapper-row-content-header">${hotel.Title\n    }</p>\n                                                                 <div>\n        ${renderHotelRating(hotel.StarRating)}\n                                </div>\n                            <p class="bx-391-ekh-bundled-offers__wrapper-row-content-body">${descriptionHTML}</p>\n                        </div>\n                    </div>\n                    <div class="bx-391-ekh-bundled-offers__wrapper-row-summary">\n                        <p class="bx-391-ekh-bundled-offers__wrapper-row-summary-head">${resources.priceLabel\n    }</p>\n                        <p class="bx-391-ekh-bundled-offers__wrapper-row-summary-price">${getFormattedPrice(\n      offer\n    )}</p>\n        \n                                        ${renderDeepLink(\n      hotel.Id,\n      deepLink,\n      resources,\n      "bx-391-ekh-bundled-offers__wrapper-row-summary-cta"\n    )}\n        \n                    </div>\n                </div>\n            </div>`;\n}\n\nfunction compareSearchData(eventSearchData, searchData) {\n  const cabinClassMapping = {\n    1: "Y",\n    8: "J",\n    4: "F",\n    2: "W",\n  };\n  const eventDepartureDate = new Date(\n    eventSearchData.departureDate + " 00:00:00"\n  );\n  const eventArrivalDate = new Date(eventSearchData.arrivalDate + " 00:00:00");\n  const searchDepartureDate = new Date(searchData.departureDate + " 00:00:00");\n  const searchArrivalDate = new Date(searchData.returnDate + " 00:00:00");\n\n  if (\n    eventDepartureDate.getTime() === searchDepartureDate.getTime() &&\n    eventArrivalDate.getTime() === searchArrivalDate.getTime() &&\n    parseInt(searchData.adults) == eventSearchData.adults &&\n    parseInt(searchData.infants) +\n    parseInt(searchData.teens) +\n    parseInt(searchData.childs) ===\n    JSON.parse(eventSearchData.childAges).length &&\n    eventSearchData.arrivalAirport == searchData.destinationCode &&\n    eventSearchData.departureAirport == searchData.originCode &&\n    cabinClassMapping[eventSearchData.cabinClass] == searchData.cabinClassCode\n  )\n    return true;\n  return false;\n}\n\nfunction render() {\n\n  $("#currConverterSelect").bind("change", function () {\n    const currency = document.querySelector(".summary-converted-type");\n    if (currency) {\n      currency.innerHTML = currencyDesc;\n    }\n  });\n  const searchData = getSearchData();\n  const eventSearchData = "{{searchData}}";\n  const holidayOffers = "{{offers}}";\n  if (\n    dataLayer &&\n    dataLayer[0] &&\n    searchData &&\n    eventSearchData &&\n    holidayOffers\n  ) {\n    const parsedEventSearchData = JSON.parse(\n      eventSearchData.replaceAll("&quot;", \'"\')\n    );\n    if (\n      parsedEventSearchData &&\n      compareSearchData(parsedEventSearchData.searchData, searchData)\n    ) {\n      let publication = "";\n      const cultureInput = __PublicationUrl;\n      if (cultureInput) {\n        if (cultureInput !== "/english") {\n          publication = cultureInput;\n        } else {\n          publication = "/global/english";\n        }\n      }\n      if (publication) {\n        let lang = dataLayer[0].languageCode.toLowerCase();\n        const originCountry = dataLayer[0].originCountry.toUpperCase();\n        const cultureCode = `${lang}-${originCountry}`;\n        let promises = [\n          fetch(\n            `${HOST}/service/content/api/v4.0/resources/eol${publication}/Experiences/Emirates-Holidays/Bundled-Offers`\n          )\n            .then((response) => {\n              return response.json();\n            })\n            .then((results) => {\n              let resources = null;\n              if (results) {\n                resources = results.results;\n              }\n              return resources;\n            }),\n        ];\n\n        Promise.all(promises)\n          .then(([resources]) => {\n            if (resources && Object.keys(resources).length) {\n              const holidays = JSON.parse(\n                holidayOffers.replaceAll("&quot;", \'"\')\n              );\n              if (\n                holidays &&\n                holidays.bundledOffers &&\n                holidays.bundledOffers.Estabs &&\n                Object.keys(holidays.bundledOffers.Estabs).length\n              ) {\n                const selectedHolidays = holidays.bundledOffers.Estabs;\n                fetch(\n                  "https://www.travelrepublic.co.uk/api/hotels/static/gethotelsbyid",\n                  {\n                    method: "POST",\n                    headers: {\n                      Accept: "application/json",\n                      "Content-Type": "application/json",\n                    },\n                    body: JSON.stringify({\n                      Ids: Object.keys(selectedHolidays).map(\n                        (key) => selectedHolidays[key].Id\n                      ),\n                      CultureCode: cultureCode,\n                      RefreshRankingScores: true,\n                      FieldFlags: 3,\n                    }),\n                  }\n                )\n                  .then((response) => response.json())\n                  .then((holidaysDetails) => {\n                    if (holidaysDetails && holidaysDetails.length) {\n                      insertHTMLAfter(".ts-lp");\n                      const resourceMap = {\n                        boardType_1: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-1__text`,\n                        boardType_2: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-2__text`,\n                        boardType_3: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-3__text`,\n                        boardType_4: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-4__text`,\n                        boardType_5: `Experiences/Emirates-Holidays/Bundled-Offers/board-type-5__text`,\n                        totalPrice: "Experiences/Emirates-Holidays/Bundled-Offers/min-price-title__text",\n                        bundledPrice: "Experiences/Emirates-Holidays/Bundled-Offers/total-price__text",\n                        ekhLogo: `Experiences/Emirates-Holidays/Bundled-Offers/ekh-logo__image`,\n                        header: `Experiences/Emirates-Holidays/Bundled-Offers/banner-header__text`,\n                        body: `Experiences/Emirates-Holidays/Bundled-Offers/banner-body__text`,\n                        priceLabel: `Experiences/Emirates-Holidays/Bundled-Offers/price-label__text`,\n                        offerCTALabel: `Experiences/Emirates-Holidays/Bundled-Offers/emirates-holiday-cta-label__text`,\n                        externalLinkAA: `Experiences/Emirates-Holidays/Bundled-Offers/external-link-aa__text`,\n                        singlePersonMultiNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-single-person-multiple-nights__text`,\n                        singlePersonTwoNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-single-person-two-nights__text`,\n                        singlePersonSingleNight: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-single-person-single-night__text`,\n                        twoPersonSingleNight: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-two-people-single-nights__text`,\n                        twoPersonTwoNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-two-people-two-nights__text`,\n                        twoPersonMultiNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-two-people-multiple-nights__text`,\n                        multiplePersonMultiNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-multiple-people-multiple-nights__text`,\n                        multiplePersonTwoNights: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-multiple-people-two-nights__text`,\n                        multiplePersonSingleNight: `Experiences/Emirates-Holidays/Bundled-Offers/package-description-multiple-people-single-nights__text`,\n                      };\n                      const resourceKeys = getResourceKeys(\n                        resources,\n                        resourceMap\n                      );\n                      let body = "";\n                      const totalPassengers =\n                        parseInt(dataLayer[0].nOfAdultsSearchIBE) +\n                        parseInt(dataLayer[0].nOfChildSearchIBE) +\n                        parseInt(dataLayer[0].nOfInfantsSearchIBE) +\n                        parseInt(dataLayer[0].numberOfTeenagersFlight);\n                      const depDate = new Date(\n                        holidays.bundledOffers.CheckInDate\n                      );\n                      const retDate = new Date(\n                        holidays.bundledOffers.CheckOutDate\n                      );\n                      const nights = Math.round(\n                        (retDate.getTime() - depDate.getTime()) /\n                        (1000 * 3600 * 24)\n                      );\n                      body = renderMultiOffers(\n                        holidaysDetails,\n                        selectedHolidays,\n                        resourceKeys,\n                        holidays.bundledOffers.DeepLink,\n                        totalPassengers,\n                        nights\n                      );\n                      const flightPriceContainer =\n                        document.querySelector(".ts-lp__price");\n                      if (flightPriceContainer) {\n                        flightPriceContainer.innerHTML = interpolate(resourceKeys.totalPrice, { price: flightPriceContainer.innerHTML });\n                      }\n                      document.querySelector(\n                        "#bx-391-ekh-bundled-offers-body"\n                      ).innerHTML = body;\n                      const ekhLogo = document.querySelector(\n                        ".bx-391-ekh-bundled-offers__logo-img"\n                      );\n                      if (ekhLogo) {\n                        ekhLogo.src =\n                          (dataLayer[0].originCountry === "US" || dataLayer[0].originCountry === "CA")\n                            ? "https://c.ekstatic.net/ecl/logos/group-companies/ekv.svg"\n                            : "https://c.ekstatic.net/ecl/logos/group-companies/ekh_logo.svg";\n                      }\n                      const hotelsCTAs = document.querySelectorAll(\n                        ".bx-391-ekh-bundled-offers__wrapper-column-content-cta"\n                      );\n                      hotelsCTAs.forEach((cta) => {\n                        cta.addEventListener("click", (e) => {\n                          sendBoxeverEvent("CLICKED_V");\n                          dataLayer.push({\n                            event: "EventTrigger.PageBody_PromotionClicked",\n                            category: "A/B Testing and Personalisation",\n                            action: "Promotion Clicked",\n                            label:\n                              "BX:466:EKH:Variant",\n                            value: 0,\n                          });\n                        });\n                      });\n                      sendBoxeverEvent("VIEWED_V");\n                      setTimeout(() => dataLayer.push({\n                        event: "EventTrigger.PageBody_PromotionShown",\n                        category: "A/B Testing and Personalisation",\n                        action: "Promotion Shown",\n                        label:\n                          "BX:466:EKH:Variant",\n                        value: 0,\n                        formDetails: \'Results returned\'\n                      }), 500);\n\n                    }\n                  })\n\n                  .catch(console.error);\n              } else {\n                sendBoxeverEvent("VIEWED_V");\n                setTimeout(() => dataLayer.push({\n                  event: "EventTrigger.PageBody_PromotionShown",\n                  category: "A/B Testing and Personalisation",\n                  action: "Promotion Shown",\n                  label:\n                    "BX:466:EKH:Variant",\n                  value: 0,\n                  formDetails: \'Results not returned\'\n                }), 500);\n\n              }\n            }\n          })\n          .catch((error) => {\n            console.error(error);\n          });\n      }\n    } else {\n      sendBoxeverEvent("VIEWED_V");\n      setTimeout(() => dataLayer.push({\n        event: "EventTrigger.PageBody_PromotionShown",\n        category: "A/B Testing and Personalisation",\n        action: "Promotion Shown",\n        label:\n          "BX:466:EKH:Variant",\n        value: 0,\n        formDetails: \'Results not returned\'\n      }), 500);\n    }\n  } else {\n    sendBoxeverEvent("VIEWED_V");\n    setTimeout(() => dataLayer.push({\n      event: "EventTrigger.PageBody_PromotionShown",\n      category: "A/B Testing and Personalisation",\n      action: "Promotion Shown",\n      label:\n        "BX:466:EKH:Variant",\n      value: 0,\n      formDetails: \'Results not returned\'\n    }), 500);\n  }\n}\nconst HOST = `https://www.emirates.com`;\nconst EKHURL = `https://www.emiratesholidays.com`;\nconst EKHCDNURL = `https://hi-cdn.t-rp.co.uk/images/hotels`;\nconst BoardTypes = {\n  1: "Room Only",\n  5: "All-Inclusive",\n  2: "Bed & Breakfast",\n  3: "Half Board",\n  4: "Full Board",\n};\nconst isItEligibleForTest= "{{eligibleForTest}}";\n\nif (String(isItEligibleForTest).toLowerCase() == "true")\n{\n// go with the flow and push the event variant event. \n    addQMIntegration();\n    render();\n}\nelse \n{\n     sendBoxeverEvent("SUPPRESSED_V");\n    // push supress event. \n      setTimeout(() => dataLayer.push({\n      event: "EventTrigger.PageBody_PromotionSuppressed",\n      category: "A/B Testing and Personalisation",\n      action: "Promotion Suppressed",\n      label:\n        "BX:466:EKH:Variant",\n      value: 0\n    }), 500);\n}\n\n\n'}}],notificationEnabled:!1},{ref:"6bc395d5-e8ef-4cd2-ba33-fadd90e00ed8",name:"BOX-276 Skywards sign up prompt (MWEB)",revision:61,archived:!1,target:{script:'function filter() {\n  if (dataLayer && dataLayer.length > 0) {\n    var datalayerData = dataLayer[0];\n\n    if (\n      (!cookieComplianceEnabled ||\n        (cookieComplianceEnabled &&\n          OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1)) \n        && datalayerData.visitorLoginState === "Logged Out"\n        && datalayerData.PNR\n        && datalayerData.PNR.length > 0\n    ) {\n      targetingPassed();\n    }\n  }\n}\n\nvar cookieComplianceEnabled = true;\nvar cookieComplianceFunctionalGroup = "C0002";\nif (cookieComplianceEnabled) {\n  window.addEventListener("OneTrustGroupsUpdated", function(e) {\n    if (OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1) {\n      filter();\n    } else {\n      //Hide experience wrapper if functional group is disabled\n      const wrapper = document.querySelector(".bx-skywards-signup-container");\n      if(wrapper) {\n         wrapper.style.display = "none";\n      }\n    }\n  });\n}\nfilter();',targetPages:[{operator:"Contains",value:"/CAB/IBE/bookingConfirmation.xhtml"}]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-09-30T18:00:12.443Z",allocationLow:1,allocationHigh:120,splits:[{ref:"e72f8efc-4f97-41de-b89e-d5f6faa63966",lowSplit:1,highSplit:60},{ref:"3601a760-ae7d-4599-8641-0fd2a6b94199",lowSplit:61,highSplit:120}],coupled:!0},variants:[{ref:"e72f8efc-4f97-41de-b89e-d5f6faa63966",name:"Original",assets:{css:"",html:"",js:'(function () {\n    if (dataLayer) {\n        dataLayer.push({\n          event: "EventTrigger.PageBody_PromotionSuppressed",\n          category: "A/B Testing and Personalisation",\n          action: "Promotion Suppressed",\n          label: \'BX:276:Skywards sign up prompt:Control\',\n          value: 0,\n          nonInteraction: true,\n        });\n    }\n})();'}},{ref:"3601a760-ae7d-4599-8641-0fd2a6b94199",name:"Sign up prompt",assets:{css:':root {\n  --font-helvetica: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n  --font-helvetica-light: HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n  --font-ek: Emirates,Helvetica,Arial,Lucida Grande,sans-serif;\n  --text-color: #333333;\n  --white-color: #FFFFFF;\n  --red-color: #c60c30;\n  --gray-color: #d6d6d6;\n}\n\n.bx-skywards-signup-container {\n    background-color: var(--white-color);\n    padding: 20px 25px;\n    display: flex;\n    flex-direction: column;\n    margin: 20px 0 10px 0;\n}\n\n.bx-skywards-signup__img {\n    width: 200px;\n    margin: 0 auto 10px auto;\n}\n\n.bx-skywards-signup__title {\n    font-family: var(--font-ek);\n    text-align: center;\n    font-size: 24px;\n    line-height: 28px;\n    width: 260px;\n    font-weight: 700;\n}\n\n.bx-skywards-signup__header {\n    margin: 0 auto;\n}\n\n.bx-skywards-signup__header:after {\n    content: "";\n    background-color: var(--red-color);\n    height: 2px;\n    width: 60px;\n    margin: 10px auto;\n    display: block;\n}\n\n.bx-skywards-signup__list {\n    margin: 0;\n    color: var(--gray-color);\n    font-size: 20px;\n    padding: 0 15px;\n}\n\n.bx-skywards-signup__list-item {\n   font-weight: 500;\n   font-size: 14px;\n   color: var(--text-color);\n   font-family: var(--font-helvetica);\n}\n\n.bx-skywards-signup__summary {\n    margin: 10px auto 0;\n}\n\n.bx-skywards-signup__summary-title {\n    font-family: var(--font-helvetica);\n    font-size: 14px;\n    font-weight: 700;\n    width: 270px;\n    text-align: center;\n}\n\n.bx-skywards-signup__copy {\n    width: 100%;\n    text-align: center;\n    font-weight: 300;\n    font-family: var(--font-helvetica);\n    font-size: 14px;\n}\n\n.bx-skywards-signup__copy-bold {\n    font-weight: 700;\n}\n\n.bx-skywards-signup__cta {\n    border: 0;\n    height: 40px;\n    border-radius: 3px;\n    line-height: 2.750rem;\n    background-color: var(--red-color);\n    box-shadow: 0 1px 4px 0 rgba(0,0,0,0.1);\n    color: var(--white-color);\n    font-size: 16px;\n    line-height: 18px;\n    font-weight: 700;\n    font-family: var(--font-helvetica);\n    width: 100%;\n    overflow: hidden;\n    white-space: normal;\n    text-align: center;\n    text-decoration: none;\n    text-overflow: ellipsis;\n    vertical-align: middle;\n    margin: 20px auto 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n}\n',html:'<div class="bx-skywards-signup-container">\r\n    <img loading="lazy" alt="" class="bx-skywards-signup__img">\r\n    <div class="bx-skywards-signup__header">\r\n        <h2 class="bx-skywards-signup__title"></h2>\r\n    </div>\r\n    <ul class="bx-skywards-signup__list"></ul>\r\n    <div class="bx-skywards-signup__header bx-skywards-signup__summary">\r\n        <h4 class="bx-skywards-signup__summary-title"></h4>\r\n    </div>\r\n    <p class="bx-skywards-signup__copy"></p>\r\n    <a class="bx-skywards-signup__cta" id="bx-signup-prompt-bx-cta"></a>\r\n</div>',js:'function sendBoxeverEvent(eventType) {\n  var event = {\n    channel: "MOBILE_WEB",\n    type: eventType,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\nlet publication = "";\nconst pagePublication = document.querySelector(\'input[name="pub"]\');\nif (pagePublication) {\n  if (pagePublication.value !== "/english") {\n    publication = pagePublication.value;\n  } else {\n    publication = "/global/english";\n  }\n}\nif (publication) {\n  const RESOURCE_KEYS_ENDPOINT = `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Skywards-Sign-Up/Mobile-Web`;\n  const RESOURCE_MAP = {\n    promoHeader: "Experiences/Skywards-Sign-Up/Mobile-Web/header-title__text",\n    promoBody: "Experiences/Skywards-Sign-Up/Mobile-Web/body-copy__text",\n    ctaLabel: "Experiences/Skywards-Sign-Up/Mobile-Web/sign-up-cta-label__text",\n    ctaLink: "Experiences/Skywards-Sign-Up/Mobile-Web/sign-up-cta__link",\n    promoSummary: "Experiences/Skywards-Sign-Up/Mobile-Web/summary__text",\n    skywardsLogo: "Experiences/Skywards-Sign-Up/Mobile-Web/skywards-logo__image",\n  };\n  const benefitList = {\n    benefit_1: "Experiences/Skywards-Sign-Up/Mobile-Web/benefit-one__text",\n    benefit_2: "Experiences/Skywards-Sign-Up/Mobile-Web/benefit-two__text",\n    benefit_3: "Experiences/Skywards-Sign-Up/Mobile-Web/benefit-three__text",\n    benefit_4: "Experiences/Skywards-Sign-Up/Mobile-Web/benefit-four__text",\n  };\n  fetch(RESOURCE_KEYS_ENDPOINT)\n    .then((response) => {\n      return response.json();\n    })\n    .then((results) => {\n      let resources = null;\n      if (results) {\n        resources = results.results;\n      }\n      if (resources && Object.keys(resources).length > 0) {\n        let mappedResources = {};\n        let resourceMap = RESOURCE_MAP;\n        for (var key of Object.keys(resourceMap)) {\n          if (resourceMap[key] in resources) {\n            mappedResources[key] = resources[resourceMap[key]];\n          } else {\n            mappedResources[key] = "";\n          }\n        }\n        insertHTMLAfter(".pl-32.pr-32.pb-32.bg-creamy.cf");\n        sendBoxeverEvent("BOX276_VIEWED");\n        dataLayer.push({\n          event: "EventTrigger.PageBody_PromotionShown",\n          category: "A/B Testing and Personalisation",\n          action: "Promotion Shown",\n          label: \'BX:276:Skywards sign up prompt:Skywards sign up prompt\',\n          value: 0,\n          nonInteraction: true,\n        });\n        var signUpBtn = document.getElementById("bx-signup-prompt-bx-cta");\n        if (signUpBtn) {\n          signUpBtn.innerHTML = `<span>${mappedResources["ctaLabel"]}</span>`;\n          signUpBtn.href = `https://www.emirates.com${mappedResources["ctaLink"].url}&prscode=AEOB7`;\n          signUpBtn.addEventListener("click", () => {\n            sendBoxeverEvent("BOX276_CLICKED");\n            dataLayer.push({\n              event: "EventTrigger.PageBody_PromotionClicked",\n              category: "A/B Testing and Personalisation",\n              action: "Promotion Clicked",\n              label: \'BX:276:Skywards sign up prompt:Skywards sign up prompt\',\n              value: 0,\n            });\n          });\n        }\n        var promoHeader = document.querySelector(".bx-skywards-signup__title");\n        if (promoHeader) {\n          promoHeader.innerHTML = mappedResources["promoHeader"];\n        }\n        var promoCardBody = document.querySelector(\n          ".bx-skywards-signup__summary-title"\n        );\n        if (promoCardBody) {\n          promoCardBody.innerHTML = mappedResources["promoBody"];\n        }\n        var promoSummary = document.querySelector(".bx-skywards-signup__copy");\n        if (promoSummary) {\n          promoSummary.innerHTML = mappedResources["promoSummary"];\n        }\n        var logo = document.querySelector(".bx-skywards-signup__img");\n        if (logo) {\n          logo.src = mappedResources["skywardsLogo"].url;\n        }\n        var benefitsListElement = document.querySelector(\n          ".bx-skywards-signup-container .bx-skywards-signup__list"\n        );\n        if (benefitsListElement) {\n          for (const benefit in benefitList) {\n            if (benefitList.hasOwnProperty(benefit)) {\n              if (benefitList[benefit] in resources) {\n                benefitsListElement.innerHTML += `<li><span class="bx-skywards-signup__list-item">${\n                  resources[benefitList[benefit]]\n                }</span></li>`;\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch((error) => console.log(error));\n}\n'}}],notificationEnabled:!1},{ref:"edbd9c57-7154-42f5-adaa-5df6f49379c4",name:"BOX-133 Skywards - Login Prompt (Web)",revision:88,archived:!1,target:{script:"function isBxQa() {\n    var queryString = window.location.search;\n    var urlParams = new URLSearchParams(queryString);\n    return urlParams.get('bx-qa') == '1';\n}\n\nfunction filter() {\n    if (dataLayer && dataLayer.length > 0) {\n        var datalayerData = dataLayer[0];\n        \n        if (datalayerData.pageName === \"/ Home\"\n            && datalayerData.languageCode === \"EN\"\n            && datalayerData.visitorLoginState === \"Logged Out\"\n            && !sessionStorage.getItem('bx-skywards-login-prompt-dismissed')) {\n               \n            \n            targetingPassed();\n        }\n    }\n}\n\nfilter();",targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2022-02-24T06:38:26.823Z",allocationLow:1,allocationHigh:40,splits:[{ref:"dd43ea86-db40-4a0d-bdfc-4a3b44bbfd1a",lowSplit:1,highSplit:20},{ref:"2cd0db22-283d-423b-9f4b-3c1d765e4050",lowSplit:21,highSplit:40}],coupled:!0},variants:[{ref:"2cd0db22-283d-423b-9f4b-3c1d765e4050",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"",js:"(function() {\r\n    function sendBoxeverEvent(eventType, cb = function (data) { }) {\r\n        var event = {\r\n            channel: \"WEB\",\r\n            type: \"BOX133_\" + eventType,\r\n            page: dataLayer[0].pageName,\r\n            pos: _boxever_settings.pointOfSale,\r\n            browser_id: Boxever.getID(),\r\n        };\r\n        Boxever.eventCreate(event, cb, \"json\");\r\n    }\r\n    dataLayer.push({\r\n        'event': 'EventTrigger.PageBody_PromotionSuppressed',\r\n        'category': 'A/B Testing and Personalisation',\r\n        'action': 'Promotion Suppressed',\r\n        'label': 'BX:133:Skywards Login Prompt:Control',\r\n        'value': 0\r\n    });\r\n    sendBoxeverEvent('VIEWED');\r\n\r\n})();"}},{ref:"dd43ea86-db40-4a0d-bdfc-4a3b44bbfd1a",name:"Login Prompt",assets:{css:"\n@media screen and (min-width:1024px) {\n.bx-login-prompt {\n    display: flex;\n    background: #FFF;\n    padding: 20px 15px;\n    position: absolute;\n    margin-top: 10px;\n    width: 250px;\n    border-radius: 3px;\n    flex-direction: column;\n    margin-left: -13px;\n}\n\n.bx-login-prompt h2 {\n    font-size: 24px;\n    font-family: Emirates-Bold,Helvetica,Arial,Lucida Grande,sans-serif;\n    line-height: 28px;\n    text-align: center;\n    color: #333;\n    position: relative;\n    padding: 0 10px;\n}\n\n.bx-login-prompt p {\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n    font-size: 14px;\n    margin-top: 25px;\n    text-align: center;\n    line-height: 18px;\n    color: #333;\n}\n\n.bx-login-prompt:after {\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-bottom: 8px solid #fff;\n    top: -8px;\n    content: \"\";\n    position: absolute;\n    border-top: 0;\n    -webkit-transform: translate(-50%);\n    -ms-transform: translate(-50%);\n    transform: translate(-50%);\n    right: 11%;\n}\n.bx-login-prompt h2:after {\n    content: '';\n    height: 2px;\n    width: 60px;\n    background: #c60b30;\n    position: absolute;\n    bottom: -12px;\n    left: 50%;\n    transform: translate(-50%);\n}\n\n.bx-login-prompt-close {\n    right: 10px;\n    top: 8px;\n    width: 20px;\n    height: 20px;\n    background: transparent;\n    position: absolute;\n    cursor: pointer;\n}\n\n.bx-login-prompt-close:before, .bx-login-prompt-close:after {\n    content: '';\n    position: absolute;\n    height: 12px;\n    border-left: 2px solid #333333;\n    right: 9px;\n    top: 5px;\n}\n\n.bx-login-prompt-close:before {\n    transform: rotate(-45deg);\n}\n\n.bx-login-prompt-close:after {\n    transform: rotate(45deg);\n}\n\n}\n\n@media screen and (max-width:1023px) {\n    .bx-login-prompt {\n    display: none;\n}\n}",html:'<div class="bx-login-prompt">\n    <h2>Login to <br>Emirates Skywards</h2>\n    <p>Enjoy reward flights, upgrades, exclusive benefits and more.</p>\n    <div class="bx-login-prompt-close"></div>\n</div>\n',js:"insertHTMLAfter(\".ek-global-navigation__secondarymenu\");\nsendBoxeverEvent(\"BOX133_VIEWED\");\n        dataLayer.push({\n            'event': 'EventTrigger.PageBody_PromotionShown',\n            'category': 'A/B Testing and Personalisation',\n            'action': 'Promotion Shown',\n'label': 'BX:133:Skywards Login Prompt:Login Prompt',\n'value': 0,\n             nonInteraction: true\n        });\nconst bxLoginPrompt = document.querySelector(\".bx-login-prompt\");\nconst bxLoginPromptClose = bxLoginPrompt.querySelector(\n  \".bx-login-prompt-close\"\n);\nconst ekMainNavBar = document.querySelector(\n  \".ek-global-navigation__inner-container\"\n);\n\nfunction dismissPrompt() {\n  bxLoginPrompt.style.display = \"none\";\n\n  window.removeEventListener(\"scroll\", dismissPrompt);\n  ekMainNavBar.removeEventListener(\"click\", dismissPrompt);\n\n  sessionStorage.setItem(\"bx-skywards-login-prompt-dismissed\", \"true\");\n  sendBoxeverEvent(\"BOX133_DISMISSED\");\n                    dataLayer.push({\n                        'event': 'EventTrigger.PageBody_PromotionDismissed',\n                        'category': 'A/B Testing and Personalisation',\n                        'action': 'Promotion Dismissed',\n'label': 'BX:133:Skywards Login Prompt:Login Prompt',\n'value': 0\n                    });\n}\n\nfunction getPos() {\n  var re = new RegExp(\"emirates.com/[a-z]{2}/\");\n  var matches = re.exec(window.location.href);\n  if (matches && matches.length > 0)\n    return matches[0].substring(0, matches[0].length - 1);\n  else return \"emirates.com\";\n}\n\nfunction sendBoxeverEvent(eventType) {\n  var customEvent = {\n    channel: \"WEB\",\n    type: eventType,\n    language: dataLayer[0].languageCode,\n    currency: dataLayer[0].posSiteCurrencyCode,\n    page: dataLayer[0].pageName,\n    pos: getPos(),\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(customEvent, function (data) {}, \"json\");\n}\n\nif (bxLoginPrompt) {\n  // Dismiss for close button\n  bxLoginPromptClose.onclick = function () {\n    dismissPrompt();\n  };\n\n  // Dismiss for scroll\n  window.addEventListener(\"scroll\", dismissPrompt);\n\n  // Dismiss for interaction with menu\n  ekMainNavBar.addEventListener(\"click\", dismissPrompt);\n  \n  const loginCTA = document.querySelector('#login-nav-link');\n  if(loginCTA) {\n      loginCTA.addEventListener(\"click\", e => {\n                         dataLayer.push({\n                        'event': 'EventTrigger.PageBody_PromotionClicked',\n                        'category': 'A/B Testing and Personalisation',\n                        'action': 'Promotion Clicked',\n'label':'BX:133:Skywards Login Prompt:Login Prompt',\n                        'value': 0\n                    });\n      });\n  }\n}\n"}}],notificationEnabled:!1},{ref:"cecc14f8-a1ac-4b80-acba-d143f2133de7",name:"BOX-319 Skywards Sign Up Prompt End of Booking Flow (IBE)",revision:38,archived:!1,target:{script:'function filter() {\n    if (dataLayer && dataLayer.length > 0) {\n        var datalayerData = dataLayer[0];\n        \n        if ( (!cookieComplianceEnabled || typeof OnetrustActiveGroups === \'undefined\' ||\n        (cookieComplianceEnabled &&\n          OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1))\n        && datalayerData.visitorLoginState === "Logged Out"\n        && datalayerData.PNR\n        && datalayerData.PNR.length > 0){\n            targetingPassed();\n        }\n    }\n}\n\nvar cookieComplianceEnabled = true;\nvar cookieComplianceFunctionalGroup = "C0002";\nif (cookieComplianceEnabled) {\n  window.addEventListener("OneTrustGroupsUpdated", function(e) {\n    if (typeof OnetrustActiveGroups === \'undefined\' || OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1) {\n      filter();\n    } else {\n      //Hide experience wrapper if functional group is disabled\n      const wrapper = document.querySelector(".bx-signup-prompt");\n      if(wrapper) {\n        wrapper.style.display = "none";\n      }\n    }\n  });\n}\nfilter();',targetPages:[{operator:"Contains",value:"/CAB/IBESSL/FlightConfirmation.aspx"}]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-09-30T17:59:31.637Z",allocationLow:1,allocationHigh:120,splits:[{ref:"675aca85-7b2f-49ff-987e-34019899e582",lowSplit:1,highSplit:40},{ref:"252eb66f-d018-4c9a-aea6-0b30015dc498",lowSplit:41,highSplit:79},{ref:"d2d6f5c6-8f88-4baa-90a7-f1cb6a6675e6",lowSplit:80,highSplit:120}],coupled:!0},variants:[{ref:"675aca85-7b2f-49ff-987e-34019899e582",name:"Original",assets:{css:"",html:"",js:"(function() {\r\n    function sendBoxeverEvent(eventType, cb = function (data) { }) {\r\n        var event = {\r\n            channel: \"WEB\",\r\n            type: \"BOX319_\" + eventType,\r\n            page: dataLayer[0].pageName,\r\n            pos: _boxever_settings.pointOfSale,\r\n            browser_id: Boxever.getID(),\r\n        };\r\n        Boxever.eventCreate(event, cb, \"json\");\r\n    }\r\n    dataLayer.push({\r\n        'event': 'EventTrigger.PageBody_PromotionSuppressed',\r\n        'category': 'A/B Testing and Personalisation',\r\n        'action': 'Promotion Suppressed',\r\n        'label': 'BX:319:Skywards Sign Up Prompt End of Booking Flow:Control',\r\n        'value': 0\r\n    });\r\n    sendBoxeverEvent('VIEWED');\r\n\r\n})();"}},{ref:"252eb66f-d018-4c9a-aea6-0b30015dc498",name:"Sign Up Prompt With Deep Linking",assets:{css:".bx-signup-prompt {\n    display: flex;\n    flex-direction: column;\n    max-width: 1100px;\n    margin: 40px auto;\n}\n\n.bx-signup-prompt svg {\n    margin: 0 auto 15px;\n}\n\nh2.bx-signup-prompt-title {\n    font-size: 30px;\n    line-height: 34px;\n    color: #333 !important;\n    margin: 15px 0 0;\n    padding: 0 !important;\n    max-width: 762px;\n    text-align: center;\n    font-family: EmiratesSB-Bold,Helvetica,Arial,Lucida Grande,sans-serif !important;\n    text-align: center;\n    margin: auto;\n}\n\n.bx-signup-prompt-content {\n    margin-top: 20px;\n    padding: 0;\n    font-size: 14px;\n    line-height: 18px;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n    text-align: center;\n    max-width: 560px;\n    color: #333;\n    margin: 20px auto 0;\n}\n\ninput.bx-signup-prompt-bx-cta {\n    min-width: 170px;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    cursor: pointer;\n    font-weight: 700;\n    text-decoration: none;\n    appearance: none!important;\n    white-space: normal;\n    max-width: 180px;\n    margin: 30px auto 0;\n    border: 0;\n    background: #c60c30;\n    color: #fff;\n    padding: 12px;\n    border-radius: 3px;\n    font-size: 16px;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n    box-sizing: border-box;\n}\n\ninput.bx-signup-prompt-bx-cta:hover {\n    box-shadow: 0 0 0.6rem 0 rgba(0,0,0,.5);\n}\n\ninput.bx-signup-prompt-bx-cta:focus {\n    border-radius: 2px;\n    box-shadow: 0 0 2px 1.5px #fff, 0 0 3px 3px #000;\n    outline: 0;\n}\n\nh2.bx-signup-prompt-promo-title {\n    text-align: center;\n    margin: 30px 0 30px;\n    font-size: 18px;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n    font-weight: 700;\n    color: #333;\n}\n\n.bx-signup-prompt-promo-tiles {\n    width: 100%;\n    padding: 0 0 20px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n}\n\n.bx-signup-prompt-promo-tiles-card {\n    width: 32.2%;\n    display: flex;\n    flex-direction: column;\n}\n\n.bx-signup-prompt-promo-tiles-card img {\n    width: 100%;\n    border-radius: 3px 3px 0 0;\n}\n\n.bx-signup-prompt-promo-tiles-card--inner {\n    text-align: center;\n    border-radius: 0 0 3px 3px;\n    box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n    background-color: #fff;\n    padding: 30px;\n    box-sizing: border-box;\n    z-index: 1;\n    position: relative;\n    min-height: 96px;\n    flex: 1;\n}\n\n.bx-signup-prompt-promo-tiles-card--inner p {\n    font-size: 14px;\n    line-height: 18px;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n    font-weight: bold;\n    margin: 0;\n    padding: 0;\n    color: #333;\n    white-space: normal;\n    width: auto !important;\n}\n#bx-319-sign-up-prompt__form {\n    z-index: unset;\n}",html:'<div class="bx-signup-prompt">\n   <svg width="42" height="42" xmlns="http://www.w3.org/2000/svg"><path d="M16.694 34c-.799 0-1.46-.257-1.976-.768L3 21.779l3.953-3.84 9.741 9.427L35.047 9 39 12.91 18.6 33.233c-.517.511-1.152.768-1.906.768z" fill="#287214"/></svg>\n   <h2 class="bx-signup-prompt-title"></h2>\n    <p class="bx-signup-prompt-content"></p>\n    <form method="POST" id="bx-319-sign-up-prompt__form" action="" target="_blank">\n        <input type="hidden" name="ddlTitle" value="" />\n        <input type="hidden" name="fname" value="" />\n        <input type="hidden" name="lname" value="" />\n        <input type="hidden" name="ddlDates" value="" />\n        <input type="hidden" name="ddlMonth" value="" />\n        <input type="hidden" name="ddlYear" value="" />\n        <input type="hidden" name="email" value="" />\n        <input type="hidden" name="ddlResidence" value="" />\n        <input type="hidden" name="ddlPreferredLang" value="" />\n        <input type="hidden" name="chksignUpNL" value="on" />\n        <input type="hidden" name="chkAgreemant" value="on" />\n        <input type="submit" class="bx-signup-prompt-bx-cta" id="bx-signup-prompt-bx-cta" />\n    </form>\n    <h2 class="bx-signup-prompt-promo-title"></h2>\n    <div class="bx-signup-prompt-promo-tiles">\n        <div class="bx-signup-prompt-promo-tiles-card">\n            <img loading="lazy" alt="">\n            <div class="bx-signup-prompt-promo-tiles-card--inner">\n                <p></p>\n            </div>\n        </div>\n            <div class="bx-signup-prompt-promo-tiles-card">\n            <img loading="lazy" alt="">\n            <div class="bx-signup-prompt-promo-tiles-card--inner">\n                <p></p>\n            </div>\n        </div>\n            <div class="bx-signup-prompt-promo-tiles-card">\n            <img loading="lazy" alt="">\n            <div class="bx-signup-prompt-promo-tiles-card--inner">\n                <p></p>\n            </div>\n        </div>\n    </div>\n</div>',js:'function sendBoxeverEvent(eventType) {\n  var event = {\n    channel: "WEB",\n    type: eventType,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\nfunction getDataLayerAttribute(key) {\n  if (dataLayer && dataLayer.length > 0 && dataLayer[0]) {\n    return dataLayer[0][key];\n  }\n  return "";\n}\nlet publication = "";\nif (__PublicationUrl) {\n  if (__PublicationUrl !== "/english") {\n    publication = __PublicationUrl;\n  } else {\n    publication = "/global/english";\n  }\n}\nif (publication) {\n  const RESOURCE_KEYS_ENDPOINT = `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE`;\n  const RESOURCE_MAP = {\n    ctaLabel: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/sign-up-cta-label__text",\n    ctaLink: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/sign-up-cta__link",\n    widgetTitle: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/widget-title__text",\n    widgetBody: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/widget-body__text",\n    benefitsListTitle: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/promo-title__text",\n    promoBody_0: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-one__text",\n    promoImage_0: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-one__image",\n    promoBody_1: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-two__text",\n    promoImage_1: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-two__image",\n    promoBody_2: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-three__text",\n    promoImage_2: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-three__image",\n  };\n  fetch(RESOURCE_KEYS_ENDPOINT)\n    .then((response) => {\n      return response.json();\n    })\n    .then((results) => {\n      let resources = null;\n      if (results) {\n        resources = results.results;\n      }\n      if (resources && Object.keys(resources).length > 0) {\n        let mappedResources = {};\n        let resourceMap = RESOURCE_MAP;\n        for (var key of Object.keys(resourceMap)) {\n          if (resourceMap[key] in resources) {\n            mappedResources[key] = resources[resourceMap[key]];\n          } else {\n            mappedResources[key] = "";\n          }\n        }\n        insertHTMLAfter(".ts-panel__container");\n        sendBoxeverEvent("BOX319_VIEWED");\n                dataLayer.push({\n            \'event\': \'EventTrigger.PageBody_PromotionShown\',\n            \'category\': \'A/B Testing and Personalisation\',\n            \'action\': \'Promotion Shown\',\n\'label\': \'BX:319:Skywards Sign Up Prompt End of Booking Flow:With Deep Linking\',\n\'value\': 0,\n             nonInteraction: true\n        });\n        var widgetTitle = document.querySelector(".bx-signup-prompt-title");\n        if (widgetTitle) {\n          widgetTitle.innerHTML = mappedResources["widgetTitle"];\n        }\n        var widgetBody = document.querySelector(".bx-signup-prompt-content");\n        if (widgetBody) {\n          widgetBody.innerHTML = mappedResources["widgetBody"];\n        }\n        var signUpButton = document.getElementById("bx-signup-prompt-bx-cta");\n        if (signUpButton) {\n          signUpButton.value = mappedResources["ctaLabel"];\n          signUpButton.addEventListener("click", () => {\n            sendBoxeverEvent("BOX319_CLICKED");\n                               dataLayer.push({\n                        \'event\': \'EventTrigger.PageBody_PromotionClicked\',\n                        \'category\': \'A/B Testing and Personalisation\',\n                        \'action\': \'Promotion Clicked\',\n\'label\': \'BX:319:Skywards Sign Up Prompt End of Booking Flow:With Deep Linking\',\n\'value\': 0\n                    });\n          });\n        }\n        const signUpForm = document.querySelector(\n          "#bx-319-sign-up-prompt__form"\n        );\n        if (signUpForm) {\n          let signUpURL = `https://www.emirates.com/account${__PublicationUrl}/light-registration/?prscode=AEOB7`;\n          signUpForm.action = signUpURL;\n          let countryCode = getDataLayerAttribute("countryCode");\n          if (countryCode === "GLOBAL") {\n            countryCode = "";\n          }\n          const countryOfResidenceInput = signUpForm.querySelector(\n            \'input[name="ddlResidence"]\'\n          );\n          if (countryOfResidenceInput) {\n            countryOfResidenceInput.value = countryCode;\n          }\n          const languageInput = signUpForm.querySelector(\n            \'input[name="ddlPreferredLang"]\'\n          );\n          if (languageInput) {\n            const currentCultureInput = document.querySelector(\n              "input#hdnCurrentCulture"\n            );\n            if (currentCultureInput) {\n              languageInput.value = currentCultureInput.value;\n            }\n          }\n\n          const emailElement = document.querySelector(\n            "#ctl00_c_MC1_paxContainer_ctl07_txtEmail1"\n          );\n          if (emailElement) {\n            const paxEmail = emailElement.getAttribute("pax-email");\n            if (paxEmail && !paxEmail.includes("*")) {\n              const emailInput = signUpForm.querySelector(\n                \'input[name="email"]\'\n              );\n              if (emailInput) {\n                emailInput.value = paxEmail;\n              }\n            }\n          }\n          const firstName = getDataLayerAttribute(\n            "privatepassengerFirstNameList"\n          );\n          if (firstName) {\n            const fNameInput = signUpForm.querySelector(\'input[name="fname"]\');\n            if (fNameInput) {\n              fNameInput.value = firstName;\n            }\n          }\n          const lastName = getDataLayerAttribute(\n            "privatepassengerLastNameList"\n          );\n          if (lastName) {\n            const lNameInput = signUpForm.querySelector(\'input[name="lname"]\');\n            if (lNameInput) {\n              lNameInput.value = lastName;\n            }\n          }\n          const title = getDataLayerAttribute("privatepassengerTitleList");\n          if (title) {\n            const titleInput = signUpForm.querySelector(\n              \'input[name="ddlTitle"]\'\n            );\n            if (titleInput) {\n              titleInput.value = title;\n            }\n          }\n          const dateOfBirth = getDataLayerAttribute(\n            "privatepassengerDateOfBirthList"\n          );\n          if (\n            dateOfBirth &&\n            new Date().getFullYear() - dateOfBirth.substr(0, 4) >= 18\n          ) {\n            const dayInput = signUpForm.querySelector(\'input[name="ddlDates"]\');\n            if (dayInput) {\n              dayInput.value = dateOfBirth.substr(8, 2);\n            }\n            const monthInput = signUpForm.querySelector(\n              \'input[name="ddlMonth"]\'\n            );\n            if (monthInput) {\n              let monthValue = dateOfBirth.substr(5, 2);\n              if(monthValue.startsWith(\'0\')) {\n                  monthValue = monthValue.substr(1, 1);\n              }\n              monthInput.value = monthValue;\n              \n            }\n            const yearInput = signUpForm.querySelector(\'input[name="ddlYear"]\');\n            if (yearInput) {\n              yearInput.value = dateOfBirth.substr(0, 4);\n            }\n          }\n        }\n        var benefitsListTitle = document.querySelector(\n          ".bx-signup-prompt-promo-title"\n        );\n        if (benefitsListTitle) {\n          benefitsListTitle.innerHTML = mappedResources["benefitsListTitle"];\n        }\n        var promoCards = document.querySelectorAll(\n          ".bx-signup-prompt-promo-tiles-card"\n        );\n        promoCards.forEach((promoCard, index) => {\n          var imageElement = promoCard.querySelector("img");\n          if (imageElement) {\n            imageElement.src = mappedResources[`promoImage_${index}`].url;\n          }\n          var bodyElement = promoCard.querySelector(\n            "div.bx-signup-prompt-promo-tiles-card--inner p"\n          );\n          if (bodyElement) {\n            bodyElement.innerHTML = mappedResources[`promoBody_${index}`];\n          }\n        });\n      }\n    })\n    .catch((error) => console.log(error));\n}\n'}},{ref:"d2d6f5c6-8f88-4baa-90a7-f1cb6a6675e6",name:"Sign Up Prompt Without Deep Linking",assets:{css:".bx-signup-prompt {\n    display: flex;\n    flex-direction: column;\n    max-width: 1100px;\n    margin: 40px auto;\n}\n\n.bx-signup-prompt svg {\n    margin: 0 auto 15px;\n}\n\nh2.bx-signup-prompt-title {\n    font-size: 30px;\n    line-height: 34px;\n    color: #333 !important;\n    margin: 15px 0 0;\n    padding: 0 !important;\n    max-width: 762px;\n    text-align: center;\n    font-family: EmiratesSB-Bold,Helvetica,Arial,Lucida Grande,sans-serif !important;\n    text-align: center;\n    margin: auto;\n}\n\n.bx-signup-prompt-content {\n    margin-top: 20px;\n    padding: 0;\n    font-size: 14px;\n    line-height: 18px;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n    text-align: center;\n    max-width: 560px;\n    color: #333;\n    margin: 20px auto 0;\n}\n\na.bx-signup-prompt-bx-cta {\n    min-width: 170px;\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    cursor: pointer;\n    font-weight: 700;\n    text-decoration: none;\n    appearance: none!important;\n    white-space: normal;\n    max-width: 180px;\n    margin: 30px auto 0;\n    border: 0;\n    background: #c60c30;\n    color: #fff;\n    padding: 12px;\n    border-radius: 3px;\n    font-size: 16px;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n    box-sizing: border-box;\n}\n\na.bx-signup-prompt-bx-cta:hover {\n    box-shadow: 0 0 0.6rem 0 rgba(0,0,0,.5);\n}\n\na.bx-signup-prompt-bx-cta:focus {\n    border-radius: 2px;\n    box-shadow: 0 0 2px 1.5px #fff, 0 0 3px 3px #000;\n    outline: 0;\n}\n\nh2.bx-signup-prompt-promo-title {\n    text-align: center;\n    margin: 30px 0 30px;\n    font-size: 18px;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n    font-weight: 700;\n    color: #333;\n}\n\n.bx-signup-prompt-promo-tiles {\n    width: 100%;\n    padding: 0 0 20px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n}\n\n.bx-signup-prompt-promo-tiles-card {\n    width: 32.2%;\n    display: flex;\n    flex-direction: column;\n}\n\n.bx-signup-prompt-promo-tiles-card img {\n    width: 100%;\n    border-radius: 3px 3px 0 0;\n}\n\n.bx-signup-prompt-promo-tiles-card--inner {\n    text-align: center;\n    border-radius: 0 0 3px 3px;\n    box-shadow: 0 2px 4px 2px rgba(0, 0, 0, 0.1);\n    background-color: #fff;\n    padding: 30px;\n    box-sizing: border-box;\n    z-index: 1;\n    position: relative;\n    min-height: 96px;\n    flex: 1;\n}\n\n.bx-signup-prompt-promo-tiles-card--inner p {\n    font-size: 14px;\n    line-height: 18px;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n    font-weight: bold;\n    margin: 0;\n    padding: 0;\n    color: #333;\n    white-space: normal;\n    width: auto !important;\n}",html:'<div class="bx-signup-prompt">\n   <svg width="42" height="42" xmlns="http://www.w3.org/2000/svg"><path d="M16.694 34c-.799 0-1.46-.257-1.976-.768L3 21.779l3.953-3.84 9.741 9.427L35.047 9 39 12.91 18.6 33.233c-.517.511-1.152.768-1.906.768z" fill="#287214"/></svg>\n   <h2 class="bx-signup-prompt-title"></h2>\n    <p class="bx-signup-prompt-content"></p>\n    <a target="_blank" class="bx-signup-prompt-bx-cta" id="bx-signup-prompt-bx-cta"></a>\n    <h2 class="bx-signup-prompt-promo-title"></h2>\n    <div class="bx-signup-prompt-promo-tiles">\n        <div class="bx-signup-prompt-promo-tiles-card">\n            <img loading="lazy" alt="">\n            <div class="bx-signup-prompt-promo-tiles-card--inner">\n                <p></p>\n            </div>\n        </div>\n            <div class="bx-signup-prompt-promo-tiles-card">\n            <img loading="lazy" alt="">\n            <div class="bx-signup-prompt-promo-tiles-card--inner">\n                <p></p>\n            </div>\n        </div>\n            <div class="bx-signup-prompt-promo-tiles-card">\n            <img loading="lazy" alt="">\n            <div class="bx-signup-prompt-promo-tiles-card--inner">\n                <p></p>\n            </div>\n        </div>\n    </div>\n</div>',js:'function sendBoxeverEvent(eventType) {\n  var event = {\n    channel: "WEB",\n    type: eventType,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\nlet publication = "";\nif (__PublicationUrl) {\n  if (__PublicationUrl !== "/english") {\n    publication = __PublicationUrl;\n  } else {\n    publication = "/global/english";\n  }\n}\nif (publication) {\n  const RESOURCE_KEYS_ENDPOINT = `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE`;\n  const RESOURCE_MAP = {\n    ctaLabel: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/sign-up-cta-label__text",\n    ctaLink: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/sign-up-cta__link",\n    widgetTitle: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/widget-title__text",\n    widgetBody: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/widget-body__text",\n    benefitsListTitle: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/promo-title__text",\n    promoBody_0: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-one__text",\n    promoImage_0: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-one__image",\n    promoBody_1: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-two__text",\n    promoImage_1: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-two__image",\n    promoBody_2: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-three__text",\n    promoImage_2: "Experiences/Skywards-Sign-Up/Booking-Confirmation-IBE/benefit-three__image",\n  };\n  fetch(RESOURCE_KEYS_ENDPOINT)\n    .then((response) => {\n      return response.json();\n    })\n    .then((results) => {\n      let resources = null;\n      if (results) {\n        resources = results.results;\n      }\n      if (resources && Object.keys(resources).length > 0) {\n        let mappedResources = {};\n        let resourceMap = RESOURCE_MAP;\n        for (var key of Object.keys(resourceMap)) {\n          if (resourceMap[key] in resources) {\n            mappedResources[key] = resources[resourceMap[key]];\n          } else {\n            mappedResources[key] = "";\n          }\n        }\n        insertHTMLAfter(".ts-panel__container");\n        sendBoxeverEvent("BOX319_VIEWED");\n                dataLayer.push({\n            \'event\': \'EventTrigger.PageBody_PromotionShown\',\n            \'category\': \'A/B Testing and Personalisation\',\n            \'action\': \'Promotion Shown\',\n\'label\': \'BX:319:Skywards Sign Up Prompt End of Booking Flow:Without Deep Linking\',\n\'value\': 0,\n             nonInteraction: true\n        });\n        var widgetTitle = document.querySelector(".bx-signup-prompt-title");\n        if (widgetTitle) {\n          widgetTitle.innerHTML = mappedResources["widgetTitle"];\n        }\n        var widgetBody = document.querySelector(".bx-signup-prompt-content");\n        if (widgetBody) {\n          widgetBody.innerHTML = mappedResources["widgetBody"];\n        }\n        var loginButton = document.getElementById("bx-signup-prompt-bx-cta");\n        if (loginButton) {\n          loginButton.innerHTML = mappedResources["ctaLabel"];\n          loginButton.href = `https://www.emirates.com${mappedResources["ctaLink"].url}&prscode=AEOB7`;\n          loginButton.addEventListener("click", () => {\n            sendBoxeverEvent("BOX319_CLICKED");\n                               dataLayer.push({\n                        \'event\': \'EventTrigger.PageBody_PromotionClicked\',\n                        \'category\': \'A/B Testing and Personalisation\',\n                        \'action\': \'Promotion Clicked\',\n\'label\': \'BX:319:Skywards Sign Up Prompt End of Booking Flow:Without Deep Linking\',\n\'value\': 0\n                    });\n          });\n        }\n        var benefitsListTitle = document.querySelector(\n          ".bx-signup-prompt-promo-title"\n        );\n        if (benefitsListTitle) {\n          benefitsListTitle.innerHTML = mappedResources["benefitsListTitle"];\n        }\n        var promoCards = document.querySelectorAll(\n          ".bx-signup-prompt-promo-tiles-card"\n        );\n        promoCards.forEach((promoCard, index) => {\n          var imageElement = promoCard.querySelector("img");\n          if (imageElement) {\n            imageElement.src = mappedResources[`promoImage_${index}`].url;\n          }\n          var bodyElement = promoCard.querySelector(\n            "div.bx-signup-prompt-promo-tiles-card--inner p"\n          );\n          if (bodyElement) {\n            bodyElement.innerHTML = mappedResources[`promoBody_${index}`];\n          }\n        });\n      }\n    })\n    .catch((error) => console.log(error));\n}\n'}}],notificationEnabled:!1},{ref:"4b6db8aa-6838-40be-875f-0b935ed29f5b",name:"BOX-420 Visitors Skywards Prompt",revision:15,archived:!1,target:{script:"(function () {\n  if(dataLayer && dataLayer[0] && dataLayer[0].pageName === '/ Home' &&\n  dataLayer[0].visitorLoginState === 'Logged Out'\n  && dataLayer[0].languageCode.startsWith(\"EN\")\n   && !sessionStorage.getItem('bx-skywards-login-prompt-dismissed')\n  ) {\n      targetingPassed();\n  }\n})();",targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2022-10-24T11:21:00.506Z",allocationLow:61,allocationHigh:120,splits:[{ref:"40dd4cf3-99f6-4b5e-ab4c-a352c31c1a5a",lowSplit:61,highSplit:90},{ref:"a5463a4d-3df5-4239-9d6e-e81cb12d62cf",lowSplit:91,highSplit:120}],coupled:!0},variants:[{ref:"40dd4cf3-99f6-4b5e-ab4c-a352c31c1a5a",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"",js:"(function () {\n    function sendBoxeverEvent(eventType, cb = function (data) { }) {\n    var event = {\n      channel: \"WEB\",\n      type: \"BOX420_\" + eventType,\n      page: dataLayer[0].pageName,\n      pos: _boxever_settings.pointOfSale,\n      browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, cb, \"json\");\n  }\n  function sendGAEvent(event, action) {\n    dataLayer.push({\n      'event': event,\n      'category': 'A/B Testing and Personalisation',\n      'action': action,\n      'label': 'BX:420:Skywards Prompt:Control',\n      'value': 0\n    });\n  }\n  sendBoxeverEvent('VIEWED');\n  sendGAEvent('EventTrigger.PageBody_PromotionSuppressed', 'Promotion Suppressed');\n})();\n"}},{ref:"a5463a4d-3df5-4239-9d6e-e81cb12d62cf",name:"Skywards Prompt",assets:{css:"\n@media screen and (min-width:1024px) {\n.bx-login-prompt {\n    display: flex;\n    background: #FFF;\n    padding: 20px;\n    position: absolute;\n    margin-top: 10px;\n    width: 265px;\n    border-radius: 3px;\n    flex-direction: column;\n    margin-left: -13px;\n}\n\n.bx-login-prompt h2 {\n    font-size: 18px;\n    font-family:  HelveticaNeue,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif !important;\n    line-height: 22px;\n    text-align: center;\n    color: #333;\n    position: relative;\n    font-weight: normal;\n    /*padding: 0 10px;*/\n}\n\n.bx-login-prompt p {\n    font-family: HelveticaNeue-light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n    font-size: 14px;\n    margin-top: 10px;\n    text-align: center;\n    line-height: 18px;\n    color: #333;\n    font-weight: 300;\n}\n\n.bx-login-prompt:after {\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-bottom: 8px solid #fff;\n    top: -8px;\n    content: \"\";\n    position: absolute;\n    border-top: 0;\n    -webkit-transform: translate(-50%);\n    -ms-transform: translate(-50%);\n    transform: translate(-50%);\n    right: 11%;\n}\n/*.bx-login-prompt h2:after {*/\n/*    content: '';*/\n/*    height: 2px;*/\n/*    width: 60px;*/\n/*    background: #c60b30;*/\n/*    position: absolute;*/\n/*    bottom: -12px;*/\n/*    left: 50%;*/\n/*    transform: translate(-50%);*/\n/*}*/\n\n.bx-login-prompt-close {\n    right: 10px;\n    top: 8px;\n    width: 20px;\n    height: 20px;\n    background: transparent;\n    position: absolute;\n    cursor: pointer;\n}\n\n.bx-login-prompt-close:before, .bx-login-prompt-close:after {\n    content: '';\n    position: absolute;\n    height: 12px;\n    border-left: 2px solid #333333;\n    right: 9px;\n    top: 5px;\n}\n\n.bx-login-prompt-close:before {\n    transform: rotate(-45deg);\n}\n\n.bx-login-prompt-close:after {\n    transform: rotate(45deg);\n}\n\n}\n\n@media screen and (max-width:1023px) {\n    .bx-login-prompt {\n    display: none;\n}\n}",html:'<div class="bx-login-prompt">\n    <h2>Join Emirates Skywards</h2>\n    <p>Earn Miles to enjoy reward flights, upgrades and exclusive members-only offers</p>\n    <div class="bx-login-prompt-close"></div>\n</div>\n',js:"insertHTMLAfter(\".ek-global-navigation__secondarymenu\");\nsendBoxeverEvent(\"BOX420_VIEWED\");\n        dataLayer.push({\n            'event': 'EventTrigger.PageBody_PromotionShown',\n            'category': 'A/B Testing and Personalisation',\n            'action': 'Promotion Shown',\n'label': 'BX:420:Skywards Prompt:Skywards Prompt',\n'value': 0,\n             nonInteraction: true\n        });\nconst bxLoginPrompt = document.querySelector(\".bx-login-prompt\");\nconst bxLoginPromptClose = bxLoginPrompt.querySelector(\n  \".bx-login-prompt-close\"\n);\nconst ekMainNavBar = document.querySelector(\n  \".ek-global-navigation__inner-container\"\n);\n\nfunction dismissPrompt(doTrackingEventsFire) {\n  bxLoginPrompt.style.display = \"none\";\n\n  window.removeEventListener(\"scroll\", dismissPrompt);\n  ekMainNavBar.removeEventListener(\"click\", dismissPrompt);\n\n  sessionStorage.setItem(\"bx-skywards-login-prompt-dismissed\", \"true\");\n  if(doTrackingEventsFire) {\n      sendBoxeverEvent(\"BOX420_DISMISSED\");\n                        dataLayer.push({\n                            'event': 'EventTrigger.PageBody_PromotionDismissed',\n                            'category': 'A/B Testing and Personalisation',\n                            'action': 'Promotion Dismissed',\n    'label': 'BX:420:Skywards Prompt:Skywards Prompt',\n    'value': 0\n                        });\n  }\n}\n\n\nfunction sendBoxeverEvent(eventType) {\n  var customEvent = {\n    channel: \"WEB\",\n    type: eventType,\n    language: dataLayer[0].languageCode,\n    currency: dataLayer[0].posSiteCurrencyCode,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(customEvent, function (data) {}, \"json\");\n}\n\nif (bxLoginPrompt) {\n  // Dismiss for close button\n  bxLoginPromptClose.onclick = function () {\n    dismissPrompt(true);\n  };\n  \n  bxLoginPrompt.addEventListener('click', (e) => {\n      if(!e.path.includes(bxLoginPromptClose)) {\n          sendBoxeverEvent(\"BOX420_CLICKED\");\n                   dataLayer.push({\n                            'event': 'EventTrigger.PageBody_PromotionClicked',\n                            'category': 'A/B Testing and Personalisation',\n                            'action': 'Promotion Clicked',\n    'label': 'BX:420:Skywards Prompt:Skywards Prompt',\n    'value': 0\n                        });\n      }\n  });\n\n  // Dismiss for scroll\n  window.addEventListener(\"scroll\", () => dismissPrompt(false));\n\n  // Dismiss for interaction with menu\n  ekMainNavBar.addEventListener(\"click\", () => dismissPrompt(false));\n}\n"}}],notificationEnabled:!1},{ref:"70e7b739-55a8-4dd0-8538-783315726204",name:"BOX-424 Tier Review Stretch Gold Offer",revision:20,archived:!1,target:{script:"",targetPages:[{operator:"Contains",value:"/skywards/retain-your-emirates-skywards-status/"}]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-09-30T17:57:55.959Z",allocationLow:1,allocationHigh:120,splits:[{ref:"700d3d94-a5f8-46b4-9742-5fa7e9c52a98",lowSplit:1,highSplit:30},{ref:"b160c46d-1d41-49d8-9d0e-7ff70a8d6900",lowSplit:31,highSplit:120}],coupled:!0},variants:[{ref:"700d3d94-a5f8-46b4-9742-5fa7e9c52a98",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"",js:'function sendBoxeverEvent(eventType) {\n    let eventLabel = `BOX424_${eventType}`;\n    var event = {\n        channel: "WEB",\n        type: eventLabel,\n        page: dataLayer[0].pageName,\n        pos: _boxever_settings.pointOfSale,\n        browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, function (data) { }, "json");\n}\n(function () {\n    sendBoxeverEvent(\'VIEWED\');\n    if (dataLayer) {\n        dataLayer.push({\n            event: "EventTrigger.PageBody_PromotionSuppressed",\n            category: "A/B Testing and Personalisation",\n            action: "Promotion Suppressed",\n            label: `BX:424:Tier Review:Control`,\n            value: 0,\n            nonInteraction: true,\n        });\n    }\n})();\n\n'}},{ref:"b160c46d-1d41-49d8-9d0e-7ff70a8d6900",name:"Stretch Offer",assets:{css:"@media only screen and (min-width: 992px) {\n.promo-wrapper {\n    margin: 0;\n    padding-top: 30px;\n    border-radius: 0;\n}\n}\n\n.promo-wrapper {\n    padding: 25px 20px 0;\n    overflow: hidden;\n    background-color: #fff;\n    border-radius: 3px;\n    box-shadow: 0 2px 4px 2px rgb(0 0 0 / 10%);\n}\n\n@media only screen and (min-width: 992px) {\n.promo-wrapper__button-wrapper {\n    margin: 0 auto 25px;\n}\n}\n\n.promo-wrapper__button-wrapper {\n    position: relative;\n    width: 230px;\n    margin: 0 auto 20px;\n}\n\n.promo-wrapper__multiline-button.call-to-action {\n    height: auto;\n    min-height: 40px;\n    padding: 10px 20px;\n    line-height: 1.8rem;\n    white-space: normal;\n}\n\n.promo-wrapper__multiline-button {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    line-height: 1.4rem;\n    white-space: normal;\n}\n\n@media only screen and (min-width: 992px) {\n.promo-wrapper__image-wrapper {\n    width: 50%;\n}\n}\n\n.promo-wrapper__image-wrapper {\n    width: 80%;\n    margin: 0 auto;\n}\n\n.promo-wrapper__image-container {\n    height: 100px;\n    text-align: center;\n}\n\n.promo-wrapper__image-container img {\n    width: auto;\n    height: 100%;\n}",html:'<div id="skywardsTierRenewal" style="display:none">\n  <div class="e-container--separator">\n    <div class="promo-wrapper" data-auto="content-promo">\n      <div class="enhanced-content-header promo-wrapper__header">\n        <p class="enhanced-content-header__section" aria-hidden="false">\n         [preTitle]\n        </p>\n        <h2\n          class="enhanced-content-header__text enhanced-content-header__text--mixed promo-wrapper__text reset-h"\n        >\n          [title]\n        </h2>\n        <div\n          class="enhanced-rich-text enhanced-content-header__subtext enhanced-content-header__subtext--mixed promo-wrapper__subtext enhanced-content-header__subtext--bottom"\n        >\n          [body]\n        </div>\n      </div>\n      <div class="promo-wrapper__button-wrapper">\n        <a\n          class="link link--default promo-wrapper__multiline-button call-to-action call-to-action__secondary call-to-action--middle"\n          href="[ctaLink]"\n          ><span class="link__text" id="">[ctaTitle]</span></a\n        >\n      </div>\n      <div class="promo-wrapper__image-wrapper">\n        <div class="promo-wrapper__image-container">\n          <img\n            class="promo-wrapper__image"\n            loading="lazy"\n            src="[image]"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n',js:"var script = document.createElement('script');\nfunction sendBoxeverEvent(eventType) {\n    let eventLabel = `BOX424_${eventType}`;\n    var event = {\n        channel: \"WEB\",\n        type: eventLabel,\n        page: dataLayer[0].pageName,\n        pos: _boxever_settings.pointOfSale,\n        browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, function (data) { }, \"json\");\n}\n\nfunction addQMIntegration() {\n    document.body.classList.add(\"em-box424-tier-review-paid-tier\");\n}\n\nfunction getResourceKeys(resources, resourceMap) {\n    let mappedResources = {};\n    for (var key of Object.keys(resourceMap)) {\n        if (resourceMap[key] in resources) {\n            mappedResources[key] = resources[resourceMap[key]];\n        } else {\n            mappedResources[key] = \"\";\n        }\n    }\n    return mappedResources;\n}\n\nfunction interpolate(pattern = \"\", data = {}, soft = false) {\n    return pattern.replace(\n        // /\\{(?:(?:\\{(\\w+)\\})|(\\w+))\\}/gm, // matches word characters in single or double braces only\n        // /\\{+(\\w+)\\}+/gm, // matches word characters enclosed in arbitrary number of braces\n        /{+(\\w+([-']\\w+)*)}+/gm, // matches word characters with dash enclosed in arbitrary number of braces\n        (_, single, double) => {\n            const key = single || double;\n            const value = data[key];\n            if (!value) {\n                console.error(\"Interpolation key was not found in data object:\", key);\n                if (!soft) return `{${key}?}`;\n                return \"\";\n            }\n            return value;\n        }\n    );\n}\n\nfunction excludeCommas(weekDaysOrMonths) {\n    if (weekDaysOrMonths) {\n        const comma = weekDaysOrMonths.includes(',') ? ',' : '';\n\n        return weekDaysOrMonths\n            .split(comma)\n            .map(item => item.trim());\n    }\n}\n\n/**\n * Moment need to be bind with tridion keys, following function accept tridion\n * keys and retrun corresponding moment config.\n * @param {Object} MomentConfig\n */\nfunction getLocaleConfig(resources = {}) {\n    const calendarDaysArray = excludeCommas(resources['Common/Date/calendar-days__text']);\n    const calendarDaysShortArray = excludeCommas(resources['Common/Date/calendar-days-short__text']);\n    const calendarMonthsArray = excludeCommas(resources['Common/Date/calendar-months__text']);\n    const calendarMonthsShortArray = excludeCommas(resources['Common/Date/calendar-months-short__text']);\n    console.log(resources.calendarMonthsText);\n    return {\n        ...(calendarDaysArray && { weekdays: calendarDaysArray }),\n        ...(calendarDaysShortArray && { weekdaysShort: calendarDaysShortArray }),\n        ...(calendarMonthsArray && { months: calendarMonthsArray }),\n        ...(calendarMonthsShortArray && { monthsShort: calendarMonthsShortArray }),\n    };\n}\n\nfunction localizeMoment(lang = 'en') {\n    console.log(__INITIAL_STATE__.resources);\n    if (__INITIAL_STATE__.resources) {\n        moment.locale(lang, getLocaleConfig(__INITIAL_STATE__.resources));\n    } else {\n        moment.locale(lang);\n    }\n\n    moment.updateLocale(lang, {\n        postformat: function (input) { return input; },\n    });\n}\n\n(function () {\n    var script = document.createElement('script');\n    script.onload = function () {\n        localizeMoment(resources, __INITIAL_STATE__.urlparser.results.langCode);\n        const publication = `${__INITIAL_STATE__.urlparser.results.countryCompat\n            ? `/${__INITIAL_STATE__.urlparser.results.countryCompat}`\n            : \"/global\"\n            }/${__INITIAL_STATE__.urlparser.results.language}`;\n        Promise.all([fetch(`https://www.emirates.com/service/content/api/v4.0/resources/eol/${publication}/Experiences/Tier-Review`)\n            .then(response => response.json()),\n        fetch(`https://www.emirates.com/service/itemlist?country=${__INITIAL_STATE__.urlparser.results.countryCompat}&lang=${__INITIAL_STATE__.urlparser.results.language}`)\n            .then(response => response.json())])\n            .then(([response, itemList]) => {\n                if (response && response.results && Object.keys(response.results).length && itemList && itemList.results &&\n                    Object.keys(itemList.results).length && itemList.results['skywards-tier']) {\n                    const skywardsTier = \"{{data.tier}}\";\n                    let tier = '';\n                    if (skywardsTier) {\n                        tier = itemList.results['skywards-tier'].value.find(x => x.key.toLowerCase() === skywardsTier.toLowerCase()).value;\n                    }\n                    replaceHTML('[data-organism=\"image-block-media-focused\"]');\n                    addQMIntegration();\n                    var content = \"{{data.content}}\";\n                    const price = \"{{data.price}}\";\n                    const offerCode = \"{{data.offerCode}}\";\n                    const tierReviewDate = new Date(\"{{data.tierReviewDate}}\");\n                    const formattedTierReviewDate = moment(tierReviewDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                    var renewalDiv = document.getElementById('skywardsTierRenewal').innerHTML;\n\n                    const resources = response.results;\n                    if (content === 'auto_renew') {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', interpolate(resources['Experiences/Tier-Review/auto-renewal-title__text'], {\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[body]', interpolate(resources['Experiences/Tier-Review/auto-renewal-body__text'], {\n                            tier_review_date: formattedTierReviewDate,\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/auto-renewal-pre-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', resources['Experiences/Tier-Review/auto-renewal-cta-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaLink]', resources['Experiences/Tier-Review/renewal-cta__link'].url);\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-auto-renewal__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-auto-renewal__image'].url;\n                                break;\n                            case 'platinum':\n                                tierImage = resources['Experiences/Tier-Review/platinum-auto-renewal__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Promotion Clicked\",\n                                label: `BX:402:Tier Review:Auto Renewal Offer`,\n                                value: 0,\n                            });\n                        });\n                    }\n                    else if (content === \"stretch\") {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', resources['Experiences/Tier-Review/stretched-title__text']);\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/stretched-pre-title__text']);\n                        const endDate = new Date(\"{{data.endDate}}\");\n                        const formattedEndDate = moment(endDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                        renewalDiv = renewalDiv.replace(\"[body]\", interpolate(resources[\"Experiences/Tier-Review/stretched-body__text\"], {\n                            tier,\n                            purchase_end_date: formattedEndDate,\n                            reduction: \"{{data.reductionPercent}}\",\n                            bonusMiles: \"{{data.bonusMiles}}\"\n                        }));\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', resources['Experiences/Tier-Review/stretched-cta-title__text']);\n                        renewalDiv = renewalDiv.replace('[ctaLink]', resources['Experiences/Tier-Review/stretched-cta__link'].url);\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-stretch__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-stretch__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Promotion Clicked\",\n                                label: `BX:424:Tier Review:Stretch Offer`,\n                                value: 0,\n                            });\n                        });\n\n                    } else if (content === \"paid_tier\") {\n                        document.getElementById(\"skywardsTierRenewal\").style.display = \"block\";\n                        renewalDiv = renewalDiv.replace('[title]', interpolate(resources['Experiences/Tier-Review/paid-tier-title__text'], {\n                            tier\n                        }));\n                        renewalDiv = renewalDiv.replace('[preTitle]', resources['Experiences/Tier-Review/paid-tier-pre-title__text']);\n                        const endDate = new Date(\"{{data.endDate}}\");\n                        const formattedEndDate = moment(endDate).format(__INITIAL_STATE__.metadata.siteConfigurations.content.language.metadata.cultureConfigurations.content.longDate.taxonomyKey);\n                        renewalDiv = renewalDiv.replace(\"[body]\", interpolate(resources[\"Experiences/Tier-Review/paid-tier-body__text\"], {\n                            tier,\n                            purchase_end_date: formattedEndDate,\n                            price\n                        }));\n                        renewalDiv = renewalDiv.replace('[ctaTitle]', interpolate(resources['Experiences/Tier-Review/paid-tier-cta-title__text'], {\n                            tier\n                        }));\n                        if (tier.toLowerCase() === 'gold') {\n                            renewalDiv = renewalDiv.replace('[ctaLink]', `/account/${__INITIAL_STATE__.urlparser.results.countryCompat}/${__INITIAL_STATE__.urlparser.results.language}/tier-renew/gold/index.aspx?offerCode=${offerCode}`);\n                        } else if (tier.toLowerCase() === 'silver') {\n                            renewalDiv = renewalDiv.replace('[ctaLink]', `/account/${__INITIAL_STATE__.urlparser.results.countryCompat}/${__INITIAL_STATE__.urlparser.results.language}/tier-renew/silver/index.aspx?offerCode=${offerCode}`);\n                        }\n                        let tierImage = '';\n                        switch (skywardsTier.toLowerCase()) {\n                            case 'gold':\n                                tierImage = resources['Experiences/Tier-Review/gold-paid-tier__image'].url;\n                                break;\n                            case 'silver':\n                                tierImage = resources['Experiences/Tier-Review/silver-paid-tier__image'].url;\n                                break;\n\n                        }\n                        renewalDiv = renewalDiv.replace('[image]', tierImage);\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').innerHTML = renewalDiv;\n                        document.getElementById('skywardsTierRenewal').querySelector('.promo-wrapper__button-wrapper a').addEventListener('click', e => {\n                            sendBoxeverEvent('CLICKED');\n                            dataLayer.push({\n                                event: \"EventTrigger.PageBody_PromotionClicked\",\n                                category: \"A/B Testing and Personalisation\",\n                                action: \"Promotion Clicked\",\n                                label: `BX:419:Tier Review:Paid Tier Offer`,\n                                value: 0,\n                            });\n                        });\n                    }\n                    sendBoxeverEvent('VIEWED');\n                    dataLayer.push({\n                        event: \"EventTrigger.PageBody_PromotionShown\",\n                        category: \"A/B Testing and Personalisation\",\n                        action: \"Promotion Shown\",\n                        label: `BX:424:Tier Review:Stretch Offer`,\n                        value: 0,\n                        nonInteraction: true,\n                    });\n                }\n            }).catch(e => console.error(e));\n    }\n    script.src = 'https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js';\n\n    document.head.appendChild(script);\n})();\n\n"}}],notificationEnabled:!1},{ref:"313cc294-ede7-40ae-8491-bf0deb515cd5",name:"BOX-378 Session Handler New Design Rerun",revision:38,archived:!1,target:{script:'(function () {\n     if (/Sessionhandler/gi.test(dataLayer[0].pageName) || /destinations/gi.test(dataLayer[0].pageName) || document.querySelector(\'html#pageHTML\')) {\n    showOriginalLoader();\n  }\n//   function initStorage() {\n//     if (dataLayer && dataLayer.length && dataLayer[0].pageName === "/ Home") {\n//       const searchCTA = document.querySelector(\n//         ".js-search-flight .js-widget-submit"\n//       );\n//       if (searchCTA) {\n//         searchCTA.addEventListener("click", (e) => {\n//           sessionStorage.setItem("bx_378_clicked", true);\n//         });\n//       }\n//     }\n//   }\n//   initStorage();\n  function showOriginalLoader() {\n    const backgroundElement = document.querySelector(\n      ".fareFamiliesLoaderBodyBG"\n    );\n    if (backgroundElement) {\n      backgroundElement.style.background =\n        "url(/system/css/Images/manage_account/fare_families/ff-loader-red.gif) center 160px no-repeat #fff";\n    }\n    const contentElement = document.querySelector(".fareFamiliesLoaderContent");\n    if (contentElement) {\n      contentElement.style.display = "block";\n    }\n    setTimeout(() => {\n      const loaderElement = document.querySelector(\n        ".fareFamiliesLoader.activeLoader"\n      );\n      if (loaderElement) {\n        loaderElement.style.display = "block";\n      }\n    }, 300);\n\n    const body = document.querySelector(".fareFamiliesLoaderBody");\n    if (body) {\n      body.style.display = "block";\n    }\n  }\n//   if (\n//     dataLayer &&\n//     dataLayer.length &&\n//     dataLayer[0].languageCode &&\n//     dataLayer[0].languageCode.startsWith("EN") &&\n//     dataLayer[0].countryCode &&\n//     dataLayer[0].countryCode.toLowerCase() !== "us" &&\n//     Date.parse(dataLayer[0].selddate1) <= Date.parse("2022-03-28") &&\n//     (dataLayer[0].seldcity1 === "DXB" || dataLayer[0].selacity1 === "DXB") &&\n//     dataLayer[0].platformType === "Desktop" &&\n//     dataLayer[0].pageurl === "/IBE.aspx" &&\n//     /Sessionhandler/gi.test(dataLayer[0].pageName) &&\n//     dataLayer[0].visitorLoginState === "Logged Out" &&\n//     sessionStorage.getItem("bx_378_clicked") === "true"\n//   ) {\n//     sessionStorage.removeItem("bx_378_clicked");\n//     targetingPassed();\n//   } else if (/Sessionhandler/gi.test(dataLayer[0].pageName) || /destinations/gi.test(dataLayer[0].pageName) || document.querySelector(\'html#pageHTML\')) {\n//     showOriginalLoader();\n//   }\n})();',targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-09-30T17:57:41.531Z",allocationLow:1,allocationHigh:120,splits:[{ref:"70188228-5d1a-409d-b4ca-70d56bca54d1",lowSplit:1,highSplit:40},{ref:"f10bfb45-9bd8-4567-a262-efaec25a2846",lowSplit:41,highSplit:79},{ref:"81f294ad-1e49-4c16-a288-e0dc82e6d331",lowSplit:80,highSplit:120}],coupled:!0},variants:[{ref:"f10bfb45-9bd8-4567-a262-efaec25a2846",name:"EXPO loader",assets:{css:'@import url("https://c.ekstatic.net/shared/fonts/iconography/iconography.css");\n:root {\n\t--emirates-bold-font: EmiratesSB-Bold, Helvetica, Arial, Lucida Grande, sans-serif;\n\t--helvatica-light-font: HelveticaNeue-Light, Helvetica, Arial, Lucida Grande, sans-serif;\n\t--helvatica-font: HelveticaNeue, Helvetica, Arial, Lucida Grande, sans-serif;\n}\n\n@font-face {\n\tfont-family: Heroic-Medium;\n\tfont-style: normal;\n\tfont-weight: 400;\n\tfont-display: swap;\n\tsrc: url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.eot);\n\tsrc: url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.eot#iefix) format("embedded-opentype"), url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.woff2) format("woff2"), url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.woff) format("woff"), url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.ttf) format("truetype")\n}\n\n\n/** style your Experience with CSS */\n\n.fareFamiliesLoader .activeLoader,\n.fareFamiliesLoaderContent {\n\tdisplay: none;\n}\n\n.fareFamiliesLoaderBodyBG {\n\tbackground: none;\n}\n\n.fareFamiliesLoaderBody {\n\tdisplay: none;\n}\n\n\n/** Experiemnt CSS*/\n\n.bx-loader__container {\n\tmargin: 50px;\n\tdisplay: flex;\n\theight: calc( 100vh - 100px);\n}\n\nbody {\n\tmin-width: auto;\n}\n\n.bx-loader__logo {\n    position: absolute;\n    bottom: 0.5rem;\n    left: 0;\n    display: inline-block;\n    max-width: 100%;\n}\n.bx-loader__logo-container {\n    margin-left: 80px;\n    position: absolute;\n    top: 0;\n    width: 90px;\n    height: 120px;\n    background-color: #d71921;\n}\nhtml[dir="rtl"] .bx-loader__logo-container {\n    margin-right: 80px;\n    margin-left: 0;\n}\n\n.bx-loader__container-img {\n\tmax-width: 630px;\n\twidth: 50%;\n\tmax-height: calc( 100vh - 100px);\n\tdisplay: flex;\n\talign-items: flex-end;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\theight: calc( 100vh - 100px);\n\tborder-radius: 8px;\n}\n\n.bx-loader__container-img-element {\n\twidth: 100%;\n\theight: 100%;\n\tmax-width: 100%;\n\tmax-height: 100%;\n\tborder-radius: 8px;\n}\n\n.bx-loader-container__content-column {\n\tflex: 1;\n}\n\n.bx-loader-container__content-column-airport {\n\tmax-width: 80px;\n\tfont-size: 20px;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tcolor: #666;\n\tfont-family: var(--helvatica-light-font);\n}\n\n.bx-loader-container__content {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: auto 18%;\n\tpadding: 1rem;\n}\n\n.bx-loader-container__content-ond {\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.bx-loader-container__content-column-airport-code {\n\tfont-family: var(--emirates-bold-font);\n\tcolor: #000;\n\tfont-size: 40px;\n\tline-height: normal;\n\tletter-spacing: normal;\n}\n\n.bx-loader-container__airplane {\n\tflex: 1;\n\ttext-align: center;\n\tmargin: 40px 80px auto;\n\tanimation: move-airplane 2.5s cubic-bezier(0.15, 0.54, 0.71, 0.29) infinite;\n\topacity: 0.5;\n\ttransform: rotate(90deg);\n}\n\nhtml[dir="rtl"] .bx-loader-container__airplane {\n    animation-direction: reverse;\n\ttransform: rotate(-90deg);\n}\n\n.bx-loader-container__airplane i {\n\tfont-size: 30px;\n}\n\n.bx-loader-container__content-info {\n\tfont-family: var(--helvatica-light-font);\n\tfont-size: 20px;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tmargin: 45px 0 0;\n}\n\n.bx-loader-container__content-info-economy {\n\tcolor: #1f5a2d !important;\n}\n\n.bx-loader-container__content-info-business {\n\tcolor: #305291 !important;\n}\n\n.bx-loader-container__content-info-first {\n\tcolor: #b14242 !important;\n}\n\n.bx-loader-container__content-dates {\n\tfont-family: var(--helvatica-light-font);\n\tfont-size: 16px;\n\tfont-weight: 300;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tcolor: #333;\n\tmargin: 20px 0 0;\n}\n\n.bx-loader-container__content-flights-loader {\n\tfont-family: var(--helvatica-light-font);\n\tfont-size: 20px;\n\tfont-weight: 300;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tcolor: #666;\n\tmargin-top: 55px;\n}\n\n.bx-loader-container__content-flights-loader:after {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\tvertical-align: bottom;\n\tanimation: ellipsis steps(4, end) 1250ms infinite;\n\tcontent: "\\2026";\n\twidth: 0;\n\tmargin-right: 20px;\n}\n\nhtml[dir="rtl"] .bx-loader-container__content-flights-loader:after {\n\tmargin-left: 20px;\n\tmargin-right: 0;\n}\n@keyframes ellipsis {\n\tto {\n\t\twidth: 1.25em;\n\t\tmargin-right: 5px;\n\t}\n}\n\n@keyframes move-airplane {\n\t50% {\n\t\topacity: 0.5;\n\t}\n\t0% {\n\t\ttransform: translateX(-300%) rotate(90deg);\n\t\topacity: 0.5;\n\t}\n\t100% {\n\t\ttransform: translateX(200%) rotate(90deg);\n\t\topacity: 0;\n\t}\n}\n\n@keyframes move-airplane-tablet {\n\t50% {\n\t\topacity: 0.5;\n\t}\n\t0% {\n\t\ttransform: translateX(-100%) rotate(90deg);\n\t\topacity: 0.5;\n\t}\n\t100% {\n\t\ttransform: translateX(100%) rotate(90deg);\n\t\topacity: 0;\n\t}\n}\n\n@keyframes move-airplane-mobile {\n\t50% {\n\t\topacity: 0.5;\n\t}\n\t0% {\n\t\ttransform: translateX(-100%) rotate(90deg);\n\t\topacity: 0.5;\n\t}\n\t100% {\n\t\ttransform: translateX(100%) rotate(90deg);\n\t\topacity: 0;\n\t}\n}\n\n.bx-loader__container-img-text {\n\tpadding: 50px 30px 50px 30px;\n\tcolor: #fff;\n\tbackground: linear-gradient( 0deg, rgba(0, 0, 0, .9), transparent);\n\tborder-radius: 8px;\n}\n\n.bx-loader__container-img-text-title {\n\tfont-family: Heroic-Medium;\n\tfont-size: 60px;\n\tline-height: 64px;\n\tfont-weight: 500;\n\tfont-stretch: condensed;\n\tfont-style: oblique;\n\ttext-transform: uppercase;\n}\n\n.bx-loader__container-img-text-description {\n\tfont-family: var(--helvatica-font);\n\tfont-size: 20px;\n\tline-height: 30px;\n\tfont-weight: 500;\n}\n\n@media screen and (max-width: 768px) {\n    .bx-loader__container-img-text {\n        padding: 30px 15px 30px 15px;\n}\n\t.bx-loader__container {\n\t\tflex-direction: column;\n\t\tmargin: 20px;\n\t\theight: calc( 100vh - 40px);\n\t}\n\t.bx-loader__container-img {\n\t\tmax-width: 100%;\n\t\twidth: 100%;\n\t\tmin-height: 430px;\n\t}\n\t.bx-loader-container__content {\n\t\tmargin: 40px 20px 20px;\n\t\ttext-align: center;\n\t}\n\t.bx-loader-container__airplane {\n\t\tmargin: auto 40px;\n\t}\n\t.bx-loader-container__content-flights-loader:after {\n\t\tanimation: ellipsis steps(4, end) 1250ms infinite;\n\t}\n    .bx-loader__logo-container {\n        margin-left: 40px;\n    }\n    html[dir="rtl"] .bx-loader__logo-container {\n        margin-right: 40px;\n        margin-left: 0;\n    }\n\t.bx-loader-container__content-column {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\t.bx-loader-container__content-dates {\n\t\tmargin: 15px 0 0;\n\t\tfont-size: 12px;\n\t}\n\t.bx-loader-container__content-flights-loader {\n\t\tmargin-top: 35px;\n\t\tfont-size: 14px;\n\t}\n\t.bx-loader-container__content-column-airport-code {\n\t\tfont-size: 30px;\n\t}\n\t.bx-loader-container__content-column-airport {\n\t\tfont-size: 15px;\n\t}\n\t.bx-loader-container__content-info {\n\t\tfont-size: 14px;\n\t}\n}\n\n@media screen and (max-width: 480px) {\n\t.bx-loader-container__airplane {\n\t\tanimation: move-airplane-mobile 2.5s cubic-bezier(0.15, 0.54, 0.71, 0.29) infinite;\n\t}\n\t.bx-loader__logo {\n\t\twidth: 50px;\n\t\theight: 70px;\n\t\tmargin-left: 40px;\n\t}\n\thtml[dir="rtl"]\t.bx-loader__logo {\n\t\tmargin-right: 40px;\n\t\tmargin-left: 0;\n\t}\n\t.bx-loader__container-img-text-title {\n\t\tfont-size: 30px;\n\t\tline-height: 35px;\n\t}\n\t.bx-loader__container-img-text-description {\n\t\tfont-size: 10px;\n\t\tline-height: 14px;\n\t}\n}\n@media screen and (max-width: 767px) and (min-width: 481px) {\n\t.bx-loader-container__airplane {\n\t\tanimation: move-airplane-mobile 2.5s cubic-bezier(0.15, 0.54, 0.71, 0.29) infinite;\n\t}\n}\n@media screen and (max-width: 1023px) and (min-width: 768px) {\n\t.bx-loader-container__airplane {\n\t\tanimation: move-airplane-tablet 2.5s cubic-bezier(0.15, 0.54, 0.71, 0.29) infinite;\n\t}\n\t.bx-loader-container__content {\n\t\tpadding: 0 1rem;\n\t}\n\t.bx-loader-container__content-flights-loader {\n\t\tmargin-top: 35px;\n\t}\n}\n@media screen and (max-width: 1023px) and (min-width: 769px) {\n        .bx-loader__container-img-text {\n        padding: 30px 15px 30px 15px;\n}\n\t.bx-loader__container-img-text-title {\n\t\tfont-size: 30px;\n\t\tline-height: 35px;\n\t}\n\t.bx-loader__container-img-text-description {\n\t\tfont-size: 10px;\n\t\tline-height: 14px;\n\t}\n}',html:'<a href="/" class="bx-loader__logo-container">\n<img\n  class="bx-loader__logo"\n/>\n</a>\n<div class="bx-loader__container">\n  <div class="bx-loader__container-img">\n    <div class="bx-loader__container-img-text">\n      <p class="bx-loader__container-img-text-title"></p>\n      <p class="bx-loader__container-img-text-description"></p>\n    </div>\n  </div>\n  <div class="bx-loader-container__content">\n    <div class="bx-loader-container__content-ond">\n      <div class="bx-loader-container__content-column">\n        <p class="bx-loader-container__content-column-airport-code"></p>\n        <p class="bx-loader-container__content-column-airport"></p>\n      </div>\n      <div class="bx-loader-container__airplane">\n          <i class="icon icon-airplane"></i>\n      </div>\n      <div class="bx-loader-container__content-column">\n        <p class="bx-loader-container__content-column-airport-code"></p>\n        <p class="bx-loader-container__content-column-airport"></p>\n      </div>\n    </div>\n    <p class="bx-loader-container__content-info"></p>\n    <p class="bx-loader-container__content-dates"></p>\n    <p class="bx-loader-container__content-flights-loader"></p>\n  </div>\n</div>\n',js:'(function () {\n  const HOST = "https://www.emirates.com";\n\n  function sendBoxeverEvent(eventType) {\n    let eventLabel = `EM224_${eventType}`;\n    var event = {\n      channel: "WEB",\n      type: eventLabel,\n      page: dataLayer[0].pageName,\n      pos: _boxever_settings.pointOfSale,\n      browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, function (data) {}, "json");\n  }\n\n  function addQMIntegration() {\n    document.body.classList.add("em-box378--session-handler-new-design");\n  }\n\n  function getResourceKeys(resources, resourceMap) {\n    let mappedResources = {};\n    for (var key of Object.keys(resourceMap)) {\n      if (resourceMap[key] in resources) {\n        mappedResources[key] = resources[resourceMap[key]];\n      } else {\n        mappedResources[key] = "";\n      }\n    }\n    return mappedResources;\n  }\n\n  function interpolate(pattern = "", data = {}, soft = false) {\n    return pattern.replace(\n      // /\\{(?:(?:\\{(\\w+)\\})|(\\w+))\\}/gm, // matches word characters in single or double braces only\n      // /\\{+(\\w+)\\}+/gm, // matches word characters enclosed in arbitrary number of braces\n      /{+(\\w+([-\']\\w+)*)}+/gm, // matches word characters with dash enclosed in arbitrary number of braces\n      (_, single, double) => {\n        const key = single || double;\n        const value = data[key];\n        if (!value) {\n          console.error("Interpolation key was not found in data object:", key);\n          if (!soft) return `{${key}?}`;\n          return "";\n        }\n        return value;\n      }\n    );\n  }\n  function showOriginalLoader() {\n    document.querySelector(".fareFamiliesLoaderBodyBG").style.background =\n      "url(/system/css/Images/manage_account/fare_families/ff-loader-red.gif) center 160px no-repeat #fff";\n    document.querySelector(".fareFamiliesLoaderContent").style.display =\n      "block";\n    setTimeout(() => document.querySelector(".fareFamiliesLoader.activeLoader").style.display =\n      "block", 300);\n\n    document.querySelector(".fareFamiliesLoaderBody").style.display = "block";\n  }\n  function getPublications() {\n    return fetch(`${HOST}/service/publications`)\n      .then((results) => results.json())\n      .then((results) => results.results);\n  }\n  function getStations(locale) {\n    return fetch(\n      `${HOST}/service/stations/content?siteLocale=${locale}&ekOperated=true`\n    )\n      .then((results) => results.json())\n      .then((results) => results.stations);\n  }\n\n  function getContent(publication) {\n    return fetch(\n      `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Session-Handler/New-Design`\n    )\n      .then((results) => results.json())\n      .then((results) => results.results);\n  }\n\n  function formatDate(date) {\n    const dateObj = new Date(date);\n    const lang = dataLayer[0].languageCode.toLowerCase();\n    return (\n      (dateObj.getDate() + "").padStart(2, "0") +\n      " " +\n      dateObj.toLocaleDateString(lang, { month: "short" }) +\n      " " +\n      dateObj.getFullYear()\n    );\n  }\n\n  function getFlightDetails(cabinClass, pax, resourceKeys) {\n    switch (cabinClass) {\n      case "0":\n        return pax === 1\n          ? interpolate(resourceKeys.economySignle, {\n              paxCount: 1,\n            })\n          : pax === 2\n          ? interpolate(resourceKeys.economyCouple, {\n              paxCount: 2,\n            })\n          : interpolate(resourceKeys.economyMultiple, {\n              paxCount: pax,\n            });\n      case "1":\n        return pax === 1\n          ? interpolate(resourceKeys.businessSingle, {\n              paxCount: 1,\n            })\n          : pax === 2\n          ? interpolate(resourceKeys.businessCouple, {\n              paxCount: 2,\n            })\n          : interpolate(resourceKeys.businessMultiple, {\n              paxCount: pax,\n            });\n      case "2":\n        return pax === 1\n          ? interpolate(resourceKeys.firstSingle, {\n              paxCount: 1,\n            })\n          : pax === 2\n          ? interpolate(resourceKeys.firstCouple, {\n              paxCount: 2,\n            })\n          : interpolate(resourceKeys.firstMultiple, {\n              paxCount: pax,\n            });\n    }\n    return "";\n  }\n  (function render() {\n    addQMIntegration();\n    getPublications()\n      .then((publications) => {\n        if (publications && publications.length) {\n          let cultureKey = "";\n          if (dataLayer[0].pub === "/english") {\n            cultureKey = "en-GB";\n          } else {\n            publications.every((x) => {\n              cultureKey = x.languages.find(\n                (lang) => lang.href === dataLayer[0].pub\n              );\n              if (cultureKey) {\n                cultureKey = cultureKey.cultureKey\n                  .split("-")\n                  .map((item, index) => {\n                    if (index === 1) {\n                      return item.toUpperCase();\n                    }\n                    return item;\n                  })\n                  .join("-");\n              }\n              return !cultureKey;\n            });\n          }\n          if (cultureKey) {\n            Promise.all([\n              getStations(cultureKey),\n              getContent(\n                dataLayer[0].pub === "/english"\n                  ? "/global/english"\n                  : dataLayer[0].pub\n              ),\n            ])\n              .then(([stations, content]) => {\n                if (\n                  stations &&\n                  stations.length &&\n                  content &&\n                  Object.keys(content).length\n                ) {\n                  const resourceKeys = getResourceKeys(content, {\n                    logoTitle:\n                      "Experiences/Session-Handler/New-Design/emirates-logo-title__text",\n                    logo: "Experiences/Session-Handler/New-Design/emirates-logo__image",\n                    expoTitle:\n                      "Experiences/Session-Handler/New-Design/expo-offer-title__text",\n                    expoDescription:\n                      "Experiences/Session-Handler/New-Design/expo-offer-description__text",\n                    ifeTitle:\n                      "Experiences/Session-Handler/New-Design/ife-offer-title__text",\n                    ifeDescription:\n                      "Experiences/Session-Handler/New-Design/ife-offer-description__text",\n                    economySignle:\n                      "Experiences/Session-Handler/New-Design/economy-single-pax__text",\n                    economyCouple:\n                      "Experiences/Session-Handler/New-Design/economy-couple-pax__text",\n                    economyMultiple:\n                      "Experiences/Session-Handler/New-Design/economy-multiple-pax__text",\n                    businessSingle:\n                      "Experiences/Session-Handler/New-Design/business-single-pax__text",\n                    businessCouple:\n                      "Experiences/Session-Handler/New-Design/business-couple-pax__text",\n                    businessMultiple:\n                      "Experiences/Session-Handler/New-Design/business-multiple-pax__text",\n                    firstSingle:\n                      "Experiences/Session-Handler/New-Design/first-single-pax__text",\n                    firstCouple:\n                      "Experiences/Session-Handler/New-Design/first-couple-pax__text",\n                    firstMultiple:\n                      "Experiences/Session-Handler/New-Design/first-multiple-pax__text",\n                    loadingMessage:\n                      "Experiences/Session-Handler/New-Design/loading-message__text",\n                    ifeImage:\n                      "Experiences/Session-Handler/New-Design/ife-offer-image__image",\n                    expoImage:\n                      "Experiences/Session-Handler/New-Design/expo-offer-image__image",\n                  });\n                  const cabinClassMapping = {\n                    Y: 0,\n                    J: 1,\n                    F: 2,\n                  };\n                  const origin = dataLayer[0].seldcity1;\n                  const destination = dataLayer[0].selacity1;\n                  const departureDate = formatDate(dataLayer[0].selddate1);\n                  const arrivalDate = formatDate(dataLayer[0].seladate1);\n                  const cabinClass = dataLayer[0].selcabinclass;\n                  const journey = dataLayer[0].TID;\n                  const pax =\n                    parseInt(dataLayer[0].seladults) +\n                    parseInt(dataLayer[0].selchildren) +\n                    parseInt(dataLayer[0].selinfants) +\n                    parseInt(dataLayer[0].selofw) +\n                    parseInt(dataLayer[0].selteenager);\n                  insertHTMLAfter("body");\n                  sendBoxeverEvent("VIEWED");\n                  dataLayer.push({\n                    event: "EventTrigger.PageBody_PromotionShown",\n                    category: "A/B Testing and Personalisation",\n                    action: "Promotion Shown",\n                    label: `EM:224:Expo loader`,\n                    value: 0,\n                    nonInteraction: true,\n                  });\n                  const offerImage = document.querySelector(\'.bx-loader__container-img\');\n                  offerImage.style[\'background-image\'] = "url("+resourceKeys.expoImage.url+")";\n                  const logoElement =\n                    document.querySelector(".bx-loader__logo");\n                  logoElement.title = resourceKeys.logoTitle;\n                  logoElement.alt = resourceKeys.logo.altText;\n                  logoElement.src = resourceKeys.logo.url;\n                  const offerTitle = document.querySelector(\n                    ".bx-loader__container-img-text-title"\n                  );\n                  offerTitle.innerHTML = resourceKeys.expoTitle;\n                  const offerDescription = document.querySelector(\n                    ".bx-loader__container-img-text-description"\n                  );\n                  offerDescription.innerHTML = resourceKeys.expoDescription;\n\n                  const loaderElement = document.querySelector(\n                    ".bx-loader-container__content-flights-loader"\n                  );\n                  loaderElement.innerHTML = resourceKeys.loadingMessage;\n                  const ond = document.querySelectorAll(\n                    ".bx-loader-container__content-column-airport-code"\n                  );\n                  ond[0].innerHTML = origin;\n                  ond[1].innerHTML = destination;\n                  const ondNames = document.querySelectorAll(\n                    ".bx-loader-container__content-column-airport"\n                  );\n                  ondNames[0].innerHTML = stations.find(\n                    (x) => x.stationCode === origin\n                  ).station;\n                  ondNames[1].innerHTML = stations.find(\n                    (x) => x.stationCode === destination\n                  ).station;\n                  document.querySelector(\n                    ".bx-loader-container__content-dates"\n                  ).innerHTML =\n                    journey !== "SB"\n                      ? `${departureDate}`\n                      : `${departureDate} - ${arrivalDate}`;\n                  const infoElement = document.querySelector(\n                    ".bx-loader-container__content-info"\n                  );\n                  infoElement.innerHTML = getFlightDetails(\n                    cabinClass,\n                    pax? pax: 1,\n                    resourceKeys\n                  );\n                  infoElement.classList.add(\n                    cabinClass == 0\n                      ? "bx-loader-container__content-info-economy"\n                      : cabinClass == "1"\n                      ? "bx-loader-container__content-info-business"\n                      : "bx-loader-container__content-info-first"\n                  );\n                }\n              })\n              .catch((e) => {\n                console.error(e);\n                showOriginalLoader();\n              });\n          }\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        showOriginalLoader();\n      });\n  })();\n})();\n'}},{ref:"81f294ad-1e49-4c16-a288-e0dc82e6d331",name:"IFE Loader",assets:{css:'@import url("https://c.ekstatic.net/shared/fonts/iconography/iconography.css");\n:root {\n\t--emirates-bold-font: EmiratesSB-Bold, Helvetica, Arial, Lucida Grande, sans-serif;\n\t--helvatica-light-font: HelveticaNeue-Light, Helvetica, Arial, Lucida Grande, sans-serif;\n\t--helvatica-font: HelveticaNeue, Helvetica, Arial, Lucida Grande, sans-serif;\n}\n\n@font-face {\n\tfont-family: Heroic-Medium;\n\tfont-style: normal;\n\tfont-weight: 400;\n\tfont-display: swap;\n\tsrc: url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.eot);\n\tsrc: url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.eot#iefix) format("embedded-opentype"), url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.woff2) format("woff2"), url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.woff) format("woff"), url(https://c.ekstatic.net/shared/fonts/heroic/heroiccondensed-medium.ttf) format("truetype")\n}\n\n\n/** style your Experience with CSS */\n\n.fareFamiliesLoader .activeLoader,\n.fareFamiliesLoaderContent {\n\tdisplay: none;\n}\n\n.fareFamiliesLoaderBodyBG {\n\tbackground: none;\n}\n\n.fareFamiliesLoaderBody {\n\tdisplay: none;\n}\n\n\n/** Experiemnt CSS*/\n\n.bx-loader__container {\n\tmargin: 50px;\n\tdisplay: flex;\n\theight: calc( 100vh - 100px);\n}\n\nbody {\n\tmin-width: auto;\n}\n\n.bx-loader__logo {\n    position: absolute;\n    bottom: 0.5rem;\n    left: 0;\n    display: inline-block;\n    max-width: 100%;\n}\n.bx-loader__logo-container {\n    margin-left: 80px;\n    position: absolute;\n    top: 0;\n    width: 90px;\n    height: 120px;\n    background-color: #d71921;\n}\nhtml[dir="rtl"] .bx-loader__logo-container {\n    margin-right: 80px;\n    margin-left: 0;\n}\n\n.bx-loader__container-img {\n\tmax-width: 630px;\n\twidth: 50%;\n\tmax-height: calc( 100vh - 100px);\n\tdisplay: flex;\n\talign-items: flex-end;\n\tbackground-repeat: no-repeat;\n\tbackground-size: cover;\n\theight: calc( 100vh - 100px);\n\tborder-radius: 8px;\n}\n\n.bx-loader__container-img-element {\n\twidth: 100%;\n\theight: 100%;\n\tmax-width: 100%;\n\tmax-height: 100%;\n\tborder-radius: 8px;\n}\n\n.bx-loader-container__content-column {\n\tflex: 1;\n}\n\n.bx-loader-container__content-column-airport {\n\tmax-width: 80px;\n\tfont-size: 20px;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tcolor: #666;\n\tfont-family: var(--helvatica-light-font);\n}\n\n.bx-loader-container__content {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: auto;\n\tpadding: 1rem;\n}\n\n.bx-loader-container__content-ond {\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.bx-loader-container__content-column-airport-code {\n\tfont-family: var(--emirates-bold-font);\n\tcolor: #000;\n\tfont-size: 40px;\n\tline-height: normal;\n\tletter-spacing: normal;\n}\n\n.bx-loader-container__airplane {\n\tflex: 1;\n\ttext-align: center;\n\tmargin: 40px 80px auto;\n\tanimation: move-airplane 2.5s cubic-bezier(0.15, 0.54, 0.71, 0.29) infinite;\n\topacity: 0.5;\n\ttransform: rotate(90deg);\n}\n\nhtml[dir="rtl"] .bx-loader-container__airplane {\n    animation-direction: reverse;\n\ttransform: rotate(-90deg);\n}\n\n.bx-loader-container__airplane i {\n\tfont-size: 30px;\n}\n\n.bx-loader-container__content-info {\n\tfont-family: var(--helvatica-light-font);\n\tfont-size: 20px;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tmargin: 45px 0 0;\n}\n\n.bx-loader-container__content-info-economy {\n\tcolor: #1f5a2d !important;\n}\n\n.bx-loader-container__content-info-business {\n\tcolor: #305291 !important;\n}\n\n.bx-loader-container__content-info-first {\n\tcolor: #b14242 !important;\n}\n\n.bx-loader-container__content-dates {\n\tfont-family: var(--helvatica-light-font);\n\tfont-size: 16px;\n\tfont-weight: 300;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tcolor: #333;\n\tmargin: 20px 0 0;\n}\n\n.bx-loader-container__content-flights-loader {\n\tfont-family: var(--helvatica-light-font);\n\tfont-size: 20px;\n\tfont-weight: 300;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tline-height: normal;\n\tletter-spacing: normal;\n\tcolor: #666;\n\tmargin-top: 55px;\n}\n\n.bx-loader-container__content-flights-loader:after {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\tvertical-align: bottom;\n\tanimation: ellipsis steps(4, end) 1250ms infinite;\n\tcontent: "\\2026";\n\twidth: 0;\n\tmargin-right: 20px;\n}\n\nhtml[dir="rtl"] .bx-loader-container__content-flights-loader:after {\n\tmargin-left: 20px;\n\tmargin-right: 0;\n}\n@keyframes ellipsis {\n\tto {\n\t\twidth: 1.25em;\n\t\tmargin-right: 5px;\n\t}\n}\n\n@keyframes move-airplane {\n\t50% {\n\t\topacity: 0.5;\n\t}\n\t0% {\n\t\ttransform: translateX(-300%) rotate(90deg);\n\t\topacity: 0.5;\n\t}\n\t100% {\n\t\ttransform: translateX(200%) rotate(90deg);\n\t\topacity: 0;\n\t}\n}\n\n@keyframes move-airplane-tablet {\n\t50% {\n\t\topacity: 0.5;\n\t}\n\t0% {\n\t\ttransform: translateX(-100%) rotate(90deg);\n\t\topacity: 0.5;\n\t}\n\t100% {\n\t\ttransform: translateX(100%) rotate(90deg);\n\t\topacity: 0;\n\t}\n}\n\n@keyframes move-airplane-mobile {\n\t50% {\n\t\topacity: 0.5;\n\t}\n\t0% {\n\t\ttransform: translateX(-100%) rotate(90deg);\n\t\topacity: 0.5;\n\t}\n\t100% {\n\t\ttransform: translateX(100%) rotate(90deg);\n\t\topacity: 0;\n\t}\n}\n\n.bx-loader__container-img-text {\n\tpadding: 50px 30px 50px 30px;\n\tcolor: #fff;\n\tbackground: linear-gradient( 0deg, rgba(0, 0, 0, .9), transparent);\n\tborder-radius: 8px;\n}\n\n.bx-loader__container-img-text-title {\n\tfont-family: Heroic-Medium;\n\tfont-size: 60px;\n\tline-height: 64px;\n\tfont-weight: 500;\n\tfont-stretch: condensed;\n\tfont-style: oblique;\n\ttext-transform: uppercase;\n}\n\n.bx-loader__container-img-text-description {\n\tfont-family: var(--helvatica-font);\n\tfont-size: 20px;\n\tline-height: 30px;\n\tfont-weight: 500;\n}\n\n@media screen and (max-width: 768px) {\n    .bx-loader__container-img-text {\n        padding: 30px 15px 30px 15px;\n}\n\t.bx-loader__container {\n\t\tflex-direction: column;\n\t\tmargin: 20px;\n\t\theight: calc( 100vh - 40px);\n\t}\n\t.bx-loader__container-img {\n\t\tmax-width: 100%;\n\t\twidth: 100%;\n\t\tmin-height: 430px;\n\t}\n\t.bx-loader-container__content {\n\t\tmargin: 40px 20px 20px;\n\t\ttext-align: center;\n\t}\n\t.bx-loader-container__airplane {\n\t\tmargin: auto 40px;\n\t}\n\t.bx-loader-container__content-flights-loader:after {\n\t\tanimation: ellipsis steps(4, end) 1250ms infinite;\n\t}\n    .bx-loader__logo-container {\n        margin-left: 40px;\n    }\n    html[dir="rtl"] .bx-loader__logo-container {\n        margin-right: 40px;\n        margin-left: 0;\n    }\n\t.bx-loader-container__content-column {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\t.bx-loader-container__content-dates {\n\t\tmargin: 15px 0 0;\n\t\tfont-size: 12px;\n\t}\n\t.bx-loader-container__content-flights-loader {\n\t\tmargin-top: 35px;\n\t\tfont-size: 14px;\n\t}\n\t.bx-loader-container__content-column-airport-code {\n\t\tfont-size: 30px;\n\t}\n\t.bx-loader-container__content-column-airport {\n\t\tfont-size: 15px;\n\t}\n\t.bx-loader-container__content-info {\n\t\tfont-size: 14px;\n\t}\n}\n\n@media screen and (max-width: 480px) {\n\t.bx-loader-container__airplane {\n\t\tanimation: move-airplane-mobile 2.5s cubic-bezier(0.15, 0.54, 0.71, 0.29) infinite;\n\t}\n\t.bx-loader__logo {\n\t\twidth: 50px;\n\t\theight: 70px;\n\t\tmargin-left: 40px;\n\t}\n\thtml[dir="rtl"]\t.bx-loader__logo {\n\t\tmargin-right: 40px;\n\t\tmargin-left: 0;\n\t}\n\t.bx-loader__container-img-text-title {\n\t\tfont-size: 30px;\n\t\tline-height: 35px;\n\t}\n\t.bx-loader__container-img-text-description {\n\t\tfont-size: 10px;\n\t\tline-height: 14px;\n\t}\n}\n@media screen and (max-width: 767px) and (min-width: 481px) {\n\t.bx-loader-container__airplane {\n\t\tanimation: move-airplane-mobile 2.5s cubic-bezier(0.15, 0.54, 0.71, 0.29) infinite;\n\t}\n}\n@media screen and (max-width: 1023px) and (min-width: 768px) {\n\t.bx-loader-container__airplane {\n\t\tanimation: move-airplane-tablet 2.5s cubic-bezier(0.15, 0.54, 0.71, 0.29) infinite;\n\t}\n\t.bx-loader-container__content {\n\t\tpadding: 0 1rem;\n\t}\n\t.bx-loader-container__content-flights-loader {\n\t\tmargin-top: 35px;\n\t}\n}\n@media screen and (max-width: 1023px) and (min-width: 769px) {\n        .bx-loader__container-img-text {\n        padding: 30px 15px 30px 15px;\n}\n\t.bx-loader__container-img-text-title {\n\t\tfont-size: 30px;\n\t\tline-height: 35px;\n\t}\n\t.bx-loader__container-img-text-description {\n\t\tfont-size: 10px;\n\t\tline-height: 14px;\n\t}\n}',html:'<a href="/" class="bx-loader__logo-container">\n<img\n  class="bx-loader__logo"\n/>\n</a>\n<div class="bx-loader__container">\n  <div class="bx-loader__container-img">\n    <div class="bx-loader__container-img-text">\n      <p class="bx-loader__container-img-text-title"></p>\n      <p class="bx-loader__container-img-text-description"></p>\n    </div>\n  </div>\n  <div class="bx-loader-container__content">\n    <div class="bx-loader-container__content-ond">\n      <div class="bx-loader-container__content-column">\n        <p class="bx-loader-container__content-column-airport-code"></p>\n        <p class="bx-loader-container__content-column-airport"></p>\n      </div>\n      <div class="bx-loader-container__airplane">\n          <i class="icon icon-airplane"></i>\n      </div>\n      <div class="bx-loader-container__content-column">\n        <p class="bx-loader-container__content-column-airport-code"></p>\n        <p class="bx-loader-container__content-column-airport"></p>\n      </div>\n    </div>\n    <p class="bx-loader-container__content-info"></p>\n    <p class="bx-loader-container__content-dates"></p>\n    <p class="bx-loader-container__content-flights-loader"></p>\n  </div>\n</div>\n',js:'(function () {\n  const HOST = "https://www.emirates.com";\n\n  function sendBoxeverEvent(eventType) {\n    let eventLabel = `EM224_${eventType}`;\n    var event = {\n      channel: "WEB",\n      type: eventLabel,\n      page: dataLayer[0].pageName,\n      pos: _boxever_settings.pointOfSale,\n      browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, function (data) {}, "json");\n  }\n\n  function addQMIntegration() {\n    document.body.classList.add("em-224--session-handler-new-design");\n  }\n\n  function getResourceKeys(resources, resourceMap) {\n    let mappedResources = {};\n    for (var key of Object.keys(resourceMap)) {\n      if (resourceMap[key] in resources) {\n        mappedResources[key] = resources[resourceMap[key]];\n      } else {\n        mappedResources[key] = "";\n      }\n    }\n    return mappedResources;\n  }\n\n  function interpolate(pattern = "", data = {}, soft = false) {\n    return pattern.replace(\n      // /\\{(?:(?:\\{(\\w+)\\})|(\\w+))\\}/gm, // matches word characters in single or double braces only\n      // /\\{+(\\w+)\\}+/gm, // matches word characters enclosed in arbitrary number of braces\n      /{+(\\w+([-\']\\w+)*)}+/gm, // matches word characters with dash enclosed in arbitrary number of braces\n      (_, single, double) => {\n        const key = single || double;\n        const value = data[key];\n        if (!value) {\n          console.error("Interpolation key was not found in data object:", key);\n          if (!soft) return `{${key}?}`;\n          return "";\n        }\n        return value;\n      }\n    );\n  }\n  function showOriginalLoader() {\n    document.querySelector(".fareFamiliesLoaderBodyBG").style.background =\n      "url(/system/css/Images/manage_account/fare_families/ff-loader-red.gif) center 160px no-repeat #fff";\n    document.querySelector(".fareFamiliesLoaderContent").style.display =\n      "block";\n    setTimeout(() => document.querySelector(".fareFamiliesLoader.activeLoader").style.display =\n      "block", 300);\n\n    document.querySelector(".fareFamiliesLoaderBody").style.display = "block";\n  }\n  function getPublications() {\n    return fetch(`${HOST}/service/publications`)\n      .then((results) => results.json())\n      .then((results) => results.results);\n  }\n  function getStations(locale) {\n    return fetch(\n      `${HOST}/service/stations/content?siteLocale=${locale}&ekOperated=true`\n    )\n      .then((results) => results.json())\n      .then((results) => results.stations);\n  }\n\n  function getContent(publication) {\n    return fetch(\n      `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Session-Handler/New-Design`\n    )\n      .then((results) => results.json())\n      .then((results) => results.results);\n  }\n\n  function formatDate(date) {\n    const dateObj = new Date(date);\n    const lang = dataLayer[0].languageCode.toLowerCase();\n    return (\n      (dateObj.getDate() + "").padStart(2, "0") +\n      " " +\n      dateObj.toLocaleDateString(lang, { month: "short" }) +\n      " " +\n      dateObj.getFullYear()\n    );\n  }\n\n  function getFlightDetails(cabinClass, pax, resourceKeys) {\n    switch (cabinClass) {\n      case "0":\n        return pax === 1\n          ? interpolate(resourceKeys.economySignle, {\n              paxCount: 1,\n            })\n          : pax === 2\n          ? interpolate(resourceKeys.economyCouple, {\n              paxCount: 2,\n            })\n          : interpolate(resourceKeys.economyMultiple, {\n              paxCount: pax,\n            });\n      case "1":\n        return pax === 1\n          ? interpolate(resourceKeys.businessSingle, {\n              paxCount: 1,\n            })\n          : pax === 2\n          ? interpolate(resourceKeys.businessCouple, {\n              paxCount: 2,\n            })\n          : interpolate(resourceKeys.businessMultiple, {\n              paxCount: pax,\n            });\n      case "2":\n        return pax === 1\n          ? interpolate(resourceKeys.firstSingle, {\n              paxCount: 1,\n            })\n          : pax === 2\n          ? interpolate(resourceKeys.firstCouple, {\n              paxCount: 2,\n            })\n          : interpolate(resourceKeys.firstMultiple, {\n              paxCount: pax,\n            });\n    }\n    return "";\n  }\n  (function render() {\n    addQMIntegration();\n    getPublications()\n      .then((publications) => {\n        if (publications && publications.length) {\n          let cultureKey = "";\n          if (dataLayer[0].pub === "/english") {\n            cultureKey = "en-GB";\n          } else {\n            publications.every((x) => {\n              cultureKey = x.languages.find(\n                (lang) => lang.href === dataLayer[0].pub\n              );\n              if (cultureKey) {\n                cultureKey = cultureKey.cultureKey\n                  .split("-")\n                  .map((item, index) => {\n                    if (index === 1) {\n                      return item.toUpperCase();\n                    }\n                    return item;\n                  })\n                  .join("-");\n              }\n              return !cultureKey;\n            });\n          }\n          if (cultureKey) {\n            Promise.all([\n              getStations(cultureKey),\n              getContent(\n                dataLayer[0].pub === "/english"\n                  ? "/global/english"\n                  : dataLayer[0].pub\n              ),\n            ])\n              .then(([stations, content]) => {\n                if (\n                  stations &&\n                  stations.length &&\n                  content &&\n                  Object.keys(content).length\n                ) {\n                  const resourceKeys = getResourceKeys(content, {\n                    logoTitle:\n                      "Experiences/Session-Handler/New-Design/emirates-logo-title__text",\n                    logo: "Experiences/Session-Handler/New-Design/emirates-logo__image",\n                    expoTitle:\n                      "Experiences/Session-Handler/New-Design/expo-offer-title__text",\n                    expoDescription:\n                      "Experiences/Session-Handler/New-Design/expo-offer-description__text",\n                    ifeTitle:\n                      "Experiences/Session-Handler/New-Design/ife-offer-title__text",\n                    ifeDescription:\n                      "Experiences/Session-Handler/New-Design/ife-offer-description__text",\n                    economySignle:\n                      "Experiences/Session-Handler/New-Design/economy-single-pax__text",\n                    economyCouple:\n                      "Experiences/Session-Handler/New-Design/economy-couple-pax__text",\n                    economyMultiple:\n                      "Experiences/Session-Handler/New-Design/economy-multiple-pax__text",\n                    businessSingle:\n                      "Experiences/Session-Handler/New-Design/business-single-pax__text",\n                    businessCouple:\n                      "Experiences/Session-Handler/New-Design/business-couple-pax__text",\n                    businessMultiple:\n                      "Experiences/Session-Handler/New-Design/business-multiple-pax__text",\n                    firstSingle:\n                      "Experiences/Session-Handler/New-Design/first-single-pax__text",\n                    firstCouple:\n                      "Experiences/Session-Handler/New-Design/first-couple-pax__text",\n                    firstMultiple:\n                      "Experiences/Session-Handler/New-Design/first-multiple-pax__text",\n                    loadingMessage:\n                      "Experiences/Session-Handler/New-Design/loading-message__text",\n                    ifeImage:\n                      "Experiences/Session-Handler/New-Design/ife-offer-image__image",\n                    expoImage:\n                      "Experiences/Session-Handler/New-Design/expo-offer-image__image",\n                  });\n                  const cabinClassMapping = {\n                    Y: 0,\n                    J: 1,\n                    F: 2,\n                  };\n                  const origin = dataLayer[0].seldcity1;\n                  const destination = dataLayer[0].selacity1;\n                  const departureDate = formatDate(dataLayer[0].selddate1);\n                  const arrivalDate = formatDate(dataLayer[0].seladate1);\n                  const cabinClass = dataLayer[0].selcabinclass;\n                  const journey = dataLayer[0].TID;\n                  const pax =\n                    parseInt(dataLayer[0].seladults) +\n                    parseInt(dataLayer[0].selchildren) +\n                    parseInt(dataLayer[0].selinfants) +\n                    parseInt(dataLayer[0].selofw) +\n                    parseInt(dataLayer[0].selteenager);\n                  insertHTMLAfter("body");\n                  sendBoxeverEvent("VIEWED");\n                  dataLayer.push({\n                    event: "EventTrigger.PageBody_PromotionShown",\n                    category: "A/B Testing and Personalisation",\n                    action: "Promotion Shown",\n                    label: `EM:224:IFE loader`,\n                    value: 0,\n                    nonInteraction: true,\n                  });\n                  const logoElement =\n                    document.querySelector(".bx-loader__logo");\n                  logoElement.title = resourceKeys.logoTitle;\n                  logoElement.alt = resourceKeys.logo.altText;\n                  logoElement.src = resourceKeys.logo.url;\n                  const offerTitle = document.querySelector(\n                    ".bx-loader__container-img-text-title"\n                  );\n                  offerTitle.innerHTML = resourceKeys.ifeTitle;\n                  const offerImage = document.querySelector(\'.bx-loader__container-img\');\n                  offerImage.style[\'background-image\'] = "url("+resourceKeys.ifeImage.url+")";\n                  const offerDescription = document.querySelector(\n                    ".bx-loader__container-img-text-description"\n                  );\n                  offerDescription.innerHTML = resourceKeys.ifeDescription;\n\n                  const loaderElement = document.querySelector(\n                    ".bx-loader-container__content-flights-loader"\n                  );\n                  loaderElement.innerHTML = resourceKeys.loadingMessage;\n                  const ond = document.querySelectorAll(\n                    ".bx-loader-container__content-column-airport-code"\n                  );\n                  ond[0].innerHTML = origin;\n                  ond[1].innerHTML = destination;\n                  const ondNames = document.querySelectorAll(\n                    ".bx-loader-container__content-column-airport"\n                  );\n                  ondNames[0].innerHTML = stations.find(\n                    (x) => x.stationCode === origin\n                  ).station;\n                  ondNames[1].innerHTML = stations.find(\n                    (x) => x.stationCode === destination\n                  ).station;\n                  document.querySelector(\n                    ".bx-loader-container__content-dates"\n                  ).innerHTML =\n                    journey !== "SB"\n                      ? `${departureDate}`\n                      : `${departureDate} - ${arrivalDate}`;\n                  const infoElement = document.querySelector(\n                    ".bx-loader-container__content-info"\n                  );\n                  infoElement.innerHTML = getFlightDetails(\n                    cabinClass,\n                    pax? pax: 1,\n                    resourceKeys\n                  );\n                  infoElement.classList.add(\n                    cabinClass == 0\n                      ? "bx-loader-container__content-info-economy"\n                      : cabinClass == "1"\n                      ? "bx-loader-container__content-info-business"\n                      : "bx-loader-container__content-info-first"\n                  );\n                }\n              })\n              .catch((e) => {\n                console.error(e);\n                showOriginalLoader();\n              });\n          }\n        }\n      })\n      .catch((e) => {\n        console.error(e);\n        showOriginalLoader();\n      });\n  })();\n})();\n'}},{ref:"70188228-5d1a-409d-b4ca-70d56bca54d1",name:"Original",assets:{css:".fareFamiliesLoader .activeLoader, .fareFamiliesLoaderContent {\n    display: block;\n}\n.fareFamiliesLoaderBodyBG {\n    background: url(/system/css/Images/manage_account/fare_families/ff-loader-red.gif) center 160px no-repeat #fff;\n}\n.fareFamiliesLoaderBody {\n    display: block;\n}",html:"",js:'(function () {\n  insertHTMLAfter("body");\n  function sendBoxeverEvent(eventType) {\n    let eventLabel = `EM224_${eventType}`;\n    var event = {\n      channel: "WEB",\n      type: eventLabel,\n      page: dataLayer[0].pageName,\n      pos: _boxever_settings.pointOfSale,\n      browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, function (data) {}, "json");\n  }\n  dataLayer.push({\n    event: "EventTrigger.PageBody_PromotionSuppressed",\n    category: "A/B Testing and Personalisation",\n    action: "Promotion Suppressed",\n    label: `EM:224`,\n    value: 0,\n    nonInteraction: true,\n  });\n  sendBoxeverEvent("VIEWED");\n})();\n'}}],notificationEnabled:!1},{ref:"69331a7d-2c09-4a36-ab45-7a2ddac7b1a1",name:"BOX-354 Customers Skywards Prompt",revision:16,archived:!1,target:{script:"(function () {\n  if(dataLayer && dataLayer[0] && dataLayer[0].pageName === '/ Home' &&\n  dataLayer[0].visitorLoginState === 'Logged Out'\n  && dataLayer[0].languageCode.startsWith(\"EN\")\n   && !sessionStorage.getItem('bx-skywards-login-prompt-dismissed')\n  ) {\n      targetingPassed();\n  }\n})();",targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2023-03-14T11:05:16.627Z",allocationLow:1,allocationHigh:60,splits:[{ref:"20c2a42a-0e82-47ea-be42-02b7876e4da7",lowSplit:1,highSplit:30},{ref:"c399ebc0-25af-4404-bc21-cce035a25f1e",lowSplit:31,highSplit:60}],coupled:!0},variants:[{ref:"20c2a42a-0e82-47ea-be42-02b7876e4da7",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"",js:"(function () {\n    function sendBoxeverEvent(eventType, cb = function (data) { }) {\n    var event = {\n      channel: \"WEB\",\n      type: \"BOX354_\" + eventType,\n      page: dataLayer[0].pageName,\n      pos: _boxever_settings.pointOfSale,\n      browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(event, cb, \"json\");\n  }\n  function sendGAEvent(event, action) {\n    dataLayer.push({\n      'event': event,\n      'category': 'A/B Testing and Personalisation',\n      'action': action,\n      'label': 'BX:354:Skywards Prompt:Control',\n      'value': 0\n    });\n  }\n  sendBoxeverEvent('VIEWED');\n  sendGAEvent('EventTrigger.PageBody_PromotionSuppressed', 'Promotion Suppressed');\n})();\n"}},{ref:"c399ebc0-25af-4404-bc21-cce035a25f1e",name:"Skywards Prompt",assets:{css:"\n@media screen and (min-width:1024px) {\n.bx-login-prompt {\n    display: flex;\n    background: #FFF;\n    padding: 20px;\n    position: absolute;\n    margin-top: 10px;\n    width: 265px;\n    border-radius: 3px;\n    flex-direction: column;\n    margin-left: -13px;\n}\n\n.bx-login-prompt h2 {\n    font-size: 18px;\n    font-family:  HelveticaNeue,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif !important;\n    line-height: 22px;\n    text-align: center;\n    color: #333;\n    position: relative;\n    font-weight: normal;\n    /*padding: 0 10px;*/\n}\n\n.bx-login-prompt p {\n    font-family: HelveticaNeue-light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n    font-size: 14px;\n    margin-top: 10px;\n    text-align: center;\n    line-height: 18px;\n    color: #333;\n    font-weight: 300;\n}\n\n.bx-login-prompt:after {\n    width: 0;\n    height: 0;\n    border-left: 8px solid transparent;\n    border-right: 8px solid transparent;\n    border-bottom: 8px solid #fff;\n    top: -8px;\n    content: \"\";\n    position: absolute;\n    border-top: 0;\n    -webkit-transform: translate(-50%);\n    -ms-transform: translate(-50%);\n    transform: translate(-50%);\n    right: 11%;\n}\n\n.bx-login-prompt-close {\n    right: 10px;\n    top: 8px;\n    width: 20px;\n    height: 20px;\n    background: transparent;\n    position: absolute;\n    cursor: pointer;\n}\n\n.bx-login-prompt-close:before, .bx-login-prompt-close:after {\n    content: '';\n    position: absolute;\n    height: 12px;\n    border-left: 2px solid #333333;\n    right: 9px;\n    top: 5px;\n}\n\n.bx-login-prompt-close:before {\n    transform: rotate(-45deg);\n}\n\n.bx-login-prompt-close:after {\n    transform: rotate(45deg);\n}\n\n}\n\n@media screen and (max-width:1023px) {\n    .bx-login-prompt {\n    display: none;\n}\n}",html:'<div class="bx-login-prompt">\n    <h2>Log in to Emirates Skywards</h2>\n    <p>Unlock exclusive members-only offers on flights</p>\n    <div class="bx-login-prompt-close"></div>\n</div>\n',js:"insertHTMLAfter(\".ek-global-navigation__secondarymenu\");\nsendBoxeverEvent(\"BOX354_VIEWED\");\ndataLayer.push({\n    'event': 'EventTrigger.PageBody_PromotionShown',\n    'category': 'A/B Testing and Personalisation',\n    'action': 'Promotion Shown',\n    'label': 'BX:354:Skywards Prompt:Skywards Prompt',\n    'value': 0,\n    nonInteraction: true\n});\nconst bxLoginPrompt = document.querySelector(\".bx-login-prompt\");\nconst bxLoginPromptClose = bxLoginPrompt.querySelector(\n    \".bx-login-prompt-close\"\n);\nconst ekMainNavBar = document.querySelector(\n    \".ek-global-navigation__inner-container\"\n);\n\nfunction dismissPrompt(doTrackingEventsFire) {\n    bxLoginPrompt.style.display = \"none\";\n\n    window.removeEventListener(\"scroll\", dismissPrompt);\n    ekMainNavBar.removeEventListener(\"click\", dismissPrompt);\n\n    sessionStorage.setItem(\"bx-skywards-login-prompt-dismissed\", \"true\");\n    if (doTrackingEventsFire) {\n        sendBoxeverEvent(\"BOX354_DISMISSED\");\n        dataLayer.push({\n            'event': 'EventTrigger.PageBody_PromotionDismissed',\n            'category': 'A/B Testing and Personalisation',\n            'action': 'Promotion Dismissed',\n            'label': 'BX:354:Skywards Prompt:Skywards Prompt',\n            'value': 0\n        });\n    }\n}\n\nfunction sendBoxeverEvent(eventType) {\n    var customEvent = {\n        channel: \"WEB\",\n        type: eventType,\n        language: dataLayer[0].languageCode,\n        currency: dataLayer[0].posSiteCurrencyCode,\n        page: dataLayer[0].pageName,\n        pos: _boxever_settings.pointOfSale,\n        browser_id: Boxever.getID(),\n    };\n    Boxever.eventCreate(customEvent, function (data) { }, \"json\");\n}\n\nif (bxLoginPrompt) {\n    // Dismiss for close button\n    bxLoginPromptClose.onclick = function () {\n        dismissPrompt(true);\n    };\n\n    bxLoginPrompt.addEventListener('click', (e) => {\n        console.log(e);\n        if (!e.path.includes(bxLoginPromptClose)) {\n            sendBoxeverEvent(\"BOX354_CLICKED\");\n            dataLayer.push({\n                'event': 'EventTrigger.PageBody_PromotionClicked',\n                'category': 'A/B Testing and Personalisation',\n                'action': 'Promotion Clicked',\n                'label': 'BX:354:Skywards Prompt:Skywards Prompt',\n                'value': 0\n            });\n        }\n    });\n\n    // Dismiss for scroll\n    window.addEventListener(\"scroll\", () => dismissPrompt(false));\n\n    // Dismiss for interaction with menu\n    ekMainNavBar.addEventListener(\"click\", () => dismissPrompt(false));\n}\n"}}],notificationEnabled:!1},{ref:"6013ac08-7cff-436c-af6b-a40d3fc6ffa6",name:"Box-286 Skywards login prompt home page (EK.com)",revision:177,archived:!1,target:{script:'function filter() {\n  if (dataLayer && dataLayer.length > 0) {\n    var datalayerData = dataLayer[0];\n\n    if (\n      (!cookieComplianceEnabled ||\n        (cookieComplianceEnabled &&\n          OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1\n        )\n      ) &&\n      datalayerData.visitorLoginState === "Logged Out" &&\n      datalayerData.pageCategory === "Home")\n    {\n      targetingPassed();\n    }\n  }\n}\n\nvar cookieComplianceEnabled = true;\nvar cookieComplianceFunctionalGroup = "C0002";\nif (cookieComplianceEnabled) {\n  window.addEventListener("OneTrustGroupsUpdated", function (e) {\n    if (OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1) {\n      filter();\n    } else {\n      //Hide experience wrapper if functional group is disabled\n      const wrapper =  document.querySelectorAll(".bx-skywards-login-container");\n      if(wrapper) {\n          wrapper.forEach(e => { e.style.display = "none"; });\n      }\n    }\n  });\n}\nfilter();',targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-09-30T17:57:15.797Z",allocationLow:1,allocationHigh:120,splits:[{ref:"e5b4fabd-3df3-4e74-8444-48102271218c",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"d75df517-7abe-46b3-b40d-f9052a4bf324",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"",js:'// You can choose how you want to add your HTML by using insertHTMLBefore, insertHTMLAfter, or replaceHTML methods\n// e.g insertHTMLAfter(\'#.someClassName\'); or insertHTMLAfter(\'body\'); or replaceHTML(\'#myPageId\')\n\n(function () {\n  if ("{{guest.tier}}") {\n    dataLayer.push({\n      event: "EventTrigger.PageBody_PromotionSuppressed",\n      category: "Page Body Interaction",\n      action: "Promotion Suppressed",\n      label: "BX:286:Login",\n      value: 0,\n      nonInteraction: true,\n    });\n  } else {\n    dataLayer.push({\n      event: "EventTrigger.PageBody_PromotionSuppressed",\n      category: "Page Body Interaction",\n      action: "Promotion Suppressed",\n      label: "BX:286:Sign up",\n      value: 0,\n      nonInteraction: true,\n    });\n  }\n})();\n'}},{ref:"e5b4fabd-3df3-4e74-8444-48102271218c",name:"Skywards prompt after products block",assets:{css:':root {\n  --font-helvetica: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n  --font-helvetica-light: HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n  --font-ek-bold: EmiratesSB-Bold, helvetica, arial, sans-serif;\n  --text-color: #333333;\n  --white-color: #FFFFFF;\n  --red-color: #c60c30;\n  --gray-color: #666666;\n}\n\n .bx-skywards-login-container {\n     display: flex;\n     flex-direction: column;\n     align-items: center;\n     position: relative;\n }\n \n .bx-skywards-login-tier-wrapper {\n     height: 100%;\n }\n \n.bx-skywards-login-tier-logo {\n    width: 75px;\n    height: 75px;\n    border: 5px solid var(--white-color);\n    border-radius: 50%;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\n    z-index: 1;\n    position: relative;\n}\n\n.bx-skywards-signup-tier-logo {\n    border: none;\n    border-radius: 0;\n    box-shadow: none;\n    width: 260px;\n    height: 100%;\n}\n\n.bx-skywards-login-body-container {\n    display: flex;\n    flex-direction: column;\n}\n\n.bx-skywards-login-title {\n    font-weight: 700;\n    margin: 0 0 15px 0;\n}\n\n.bx-skywards-body {\n    font-family: var(--font-helvetica);\n    font-size: 20px;\n    line-height: 24px;\n    color: var(--white-color);\n}\n\nhtml.ar .bx-skywards-body {\n    font-family: Emirates-Light, Helvetica, Arial, Lucida Grande, sans-serif;\n}\n\n.bx-skywards-signup-body {\n    font-size: 14px;\n    line-height: 18px;\n}\n\n.bx-skywards-signup-title {\n    font-size: 16px;\n    line-height: 20px;\n}\n\n.bx-skywards-login-body {\n    font-family: var(--font-helvetica);\n    font-size: 20px;\n    line-height: 24px;\n    color: var(--white-color);\n    text-align: center;\n    width: 100%;\n    position: relative;\n    overflow: hidden;\n    background: #000;\n    z-index: 0;\n    border-radius: 5px;\n}\n\nhtml.ar .bx-skywards-login-body {\n    font-family: Emirates-Light, Helvetica, Arial, Lucida Grande, sans-serif;\n}\n\n.bx-skywards-signup-body-wrapper {\n    background: #000;\n}\n.bx-skywards-login__cta {\n    text-align: center;\n    font-weight: 700;\n    cursor: pointer;\n    min-width: 150px;\n    padding: 5px 20px;\n    font-size: 1.4rem;\n    line-height: 1.8rem;\n    box-shadow: 0 2px 1px 0 rgba(0,0,0,.1);\n    border: .1rem solid var(--text-color);\n    background: var(--white-color);\n    color: var(--text-color);\n    text-decoration: none;\n    appearance: none!important;\n    white-space: normal;\n    font-style: normal;\n    border-radius: .3rem;\n    font-family: var(--font-helvetica);\n    z-index: 1;\n}\n\nhtml.ar .bx-skywards-login__cta {\n    font-family: Emirates-Light, Helvetica, Arial, Lucida Grande, sans-serif;\n}\n\n.bx-skywards-background-mobile {\n    display: none;\n}\n\n.bx-skywards-login__cta:hover {\n    box-shadow: 0 0 0.6rem 0 rgba(0,0,0,.5);\n}\n\n@media only screen and (min-width: 769px) {\n    .widget.js-widget {\n        margin-bottom: 25px;\n    }\n    .product-block-wrapper {\n        margin: 25px auto;\n    }\n    .bx-skywards-login-container {\n        max-width: 1100px;\n        margin: 25px auto;\n        flex-direction: row;\n        justify-content: space-between;\n    }\n    .bx-skywards-login-body {\n        display: flex;\n        align-items: center;\n        padding: 10px 20px 10px 130px;\n        margin-left: -90px;\n        min-height: 65px;\n        min-width: 100%;\n        justify-content: space-between;\n        text-align: left;\n    }\n    \n    .bx-skywards-signup-body-wrapper {\n        margin-left: -260px;\n        padding: 5px 20px 5px 290px;\n    }\n    .bx-skywards-login-title {\n        margin: 0;\n    }\n    \n    .bx-skywards-login-body-container {\n        display: block;\n    }\n    \n    .bx-skywards-signup-body-container {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    .bx-skywards-login__cta {\n        margin-left: 20px;\n    }\n    \n    html[dir="rtl"] .bx-skywards-login-body {\n        text-align: right;\n        margin-right: -90px;\n        margin-left: 0;\n        padding: 10px 130px 10px 20px;\n    }\n    html[dir="rtl"] .bx-skywards-signup-body-wrapper {\n        margin-right: -260px;\n        padding: 5px 290px 5px 20px;\n    }\n    .bx-skywards-login-tier-logo {\n        left: 20px;\n        border: 5px solid var(--white-color);\n        position: relative;\n        z-index: 1;\n        min-width: 90px;\n        min-height: 90px;\n    }\n    \n    .bx-skywards-signup-tier-logo {\n        left: 20px;\n        border: none;\n        min-width: inherit;\n        min-height: inherit;\n    }\n    html[dir="rtl"] .bx-skywards-login__cta {\n        margin-right: 20px;\n        margin-left: 0;\n    }\n    html[dir="rtl"] .bx-skywards-login-tier-logo {\n        right: 20px;\n    }\n    .bx-skywards-background {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        right: 0;\n        opacity: .3;\n    }\n    }\n}\n\n@media only screen and (max-width: 768px) { \n   .bx-skywards-login-wrapper {\n    background: #666;\n    margin: 20px 10px;\n}\n\n.bx-skywards-login-body{\n    margin: 20px 10px 0 10px;\n\n}\n.bx-skywards-login-body-container {\n    margin-bottom: 20px;\n}\n.bx-skywards-body {\n    font-size: 14px;\n    line-height: 18px;\n}\n.bx-skywards-login-title{\n    font-size: 16px;\n    line-height: 20px;\n}\n.bx-skywards-login__cta {\n    display: block;\n}\n}\n\n\n@media only screen and (max-width: 1023px) and (min-width: 769px) {\n    .bx-skywards-login-container{\n        padding: 0 30px;\n    }\n    .bx-skywards-background {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        right: 0;\n        opacity: .3;\n        height: 100%;\n    }\n}\n@media only screen and (width: 1024px) {\n    .bx-skywards-login-container{\n        padding: 0 50px;   \n    }\n}\n@media only screen and (max-width: 768px) {\n    .bx-skywards-login-container {\n        background-color: #000;\n        padding: 15px 10px;\n        margin: 20px 10px;\n        border-radius: 5px;\n    }\n    .bx-skywards-signup-container {\n        background-color: #000;\n    }\n    .bx-skywards-background-mobile {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        right: 0;\n        bottom: 0;\n        opacity: .2;\n        left: 0;\n        height: 100%;\n        object-fit: cover;\n        display: block;\n    }\n    .bx-skywards-login-body-container {\n        margin-bottom: 20px;\n        margin-top: 10px;\n        align-items: center;\n    }\n    .bx-skywards-login__cta {\n        display: inline-block;\n    }\n    .bx-skywards-background {\n        display: none;\n    }\n    .bx-skywards-login-body {\n        background: transparent;\n    }\n    .bx-skywards-signup-body-wrapper {\n        background: transparent;\n    }\n    .bx-skywards-body{\n        width: calc(100% - 50px);\n\n    }\n}',html:'<div class="bx-skywards-login-container {{#unless guest.tier}}bx-skywards-signup-container{{/unless}}">\r\n    <img class="bx-skywards-background-mobile bx-skywards-tier-background" alt="">\r\n    <img loading="lazy" alt="" class="bx-skywards-login-tier-logo {{#unless guest.tier}}bx-skywards-signup-tier-logo{{/unless}}">\r\n    <div class="bx-skywards-login-body {{#unless guest.tier}}bx-skywards-signup-body-wrapper{{/unless}}">\r\n        <img class="bx-skywards-background bx-skywards-tier-background" alt="">\r\n        <div class="bx-skywards-login-body-container bx-skywards-signup-body-container">\r\n            <span id="bx-skywards-title" class="bx-skywards-login-title bx-skywards-signup-title"></span>\r\n            <span id="bx-skywards-body" class="bx-skywards-body bx-skywards-signup-body"></span>\r\n        </div>\r\n        <a id="bx-login-prompt-cta" class="bx-skywards-login__cta"></a>\r\n    </div>\r\n</div>',js:'function sendBoxeverEvent(eventType) {\n  var event = {\n    channel: "WEB",\n    type: eventType,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\n  let wrapper = "";\n  if (dataLayer && dataLayer[0] && dataLayer[0].pageName === "/ Home") {\n    wrapper = document.querySelector(".product-block-wrapper");\n  } else {\n    wrapper = document.getElementById("maincontent").firstChild;\n  }\n  if (wrapper) {\n    let publication = "";\n    if (dataLayer && dataLayer[0] && dataLayer[0].pageName === "/ Home") {\n      publication = `${__EK__.urlparser.country}/${__EK__.urlparser.language}`;\n    } else {\n      publication = `${__INITIAL_STATE__.urlparser.results.countryCompat}/${__INITIAL_STATE__.urlparser.results.language}`;\n    }\n    const RESOURCE_KEYS_ENDPOINT = `https://www.emirates.com/service/content/api/v4.0/resources/eol/${publication}/Experiences/Skywards-Sign-Up/EK`;\n\n    const tiersLogos = {\n      blue: "Experiences/Skywards-Sign-Up/EK/skywards-coin-blue-image",\n      silver: "Experiences/Skywards-Sign-Up/EK/skywards-coin-silver-image",\n      gold: "Experiences/Skywards-Sign-Up/EK/skywards-coin-gold-image",\n      platinum: "Experiences/Skywards-Sign-Up/EK/skywards-coin-platinum-image",\n      all: "Experiences/Skywards-Sign-Up/EK/signup-tier-image",\n    };\n\n    const tiersColors = {\n      blue: "#000",\n      silver: "#000",\n      gold: "#000",\n      platinum: "#000",\n      default: "#000",\n    };\n\n    const LOGIN_RESOURCE_MAP = {\n      ctaLabel: "Experiences/Skywards-Sign-Up/EK/login-cta-label__text",\n      title: "Experiences/Skywards-Sign-Up/EK/login-header-title__text",\n      body: "Experiences/Skywards-Sign-Up/EK/login-body__text",\n      ctaLink: "Experiences/Skywards-Sign-Up/EK/login__url",\n    };\n\n    const SIGNUP_RESOURCE_MAP = {\n      ctaLabel: "Experiences/Skywards-Sign-Up/EK/signup-cta-label__text",\n      ctaLink: "Experiences/Skywards-Sign-Up/EK/sign-up-cta__link",\n      title: "Experiences/Skywards-Sign-Up/EK/signup-header-title__text",\n      body: "Experiences/Skywards-Sign-Up/EK/signup-body__text",\n    };\n    fetch(RESOURCE_KEYS_ENDPOINT)\n      .then((response) => {\n        return response.json();\n      })\n      .then((results) => {\n        let resources = null;\n        if (results) {\n          resources = results.results;\n        }\n        if (resources) {\n          let mappedResources = {};\n          let resourceMap = SIGNUP_RESOURCE_MAP;\n          if ("{{guest.tier}}") {\n            resourceMap = LOGIN_RESOURCE_MAP;\n            sendBoxeverEvent("BOX286_LOGIN_VIEWED");\n            dataLayer.push({\n                \'event\': \'EventTrigger.PageBody_PromotionShown\' , \n                \'category\': \'A/B Testing and Personalisation\' , \n                \'action\' : \'Permanent Experience Shown\' , \n                \'label\' : \'BX:286:Skywards Prompt Home Page:Login After Products Block\' , \n                \'value\': 0 , \n                nonInteraction: true\n            });\n          } else {\n            sendBoxeverEvent("BOX286_SIGNUP_VIEWED");\n                        dataLayer.push({\n                \'event\': \'EventTrigger.PageBody_PromotionShown\' , \n                \'category\': \'A/B Testing and Personalisation\' ,\n                \'action\' : \'Permanent Experience Shown\' , \n                \'label\' : \'BX:286:Skywards Prompt Home Page:Signup After Products Block\' , \n                \'value\': 0 , \n                nonInteraction: true\n            });\n          }\n          for (var key of Object.keys(resourceMap)) {\n            if (resourceMap[key] in resources) {\n              mappedResources[key] = resources[resourceMap[key]];\n            } else {\n              mappedResources[key] = "";\n            }\n          }\n          wrapper.insertAdjacentHTML(\n            "afterend",\n            \'<div class="bx-skywards-login-wrapper"></div>\'\n          );\n          insertHTMLAfter(".bx-skywards-login-wrapper");\n          let cta = document.getElementById("bx-login-prompt-cta");\n          if (cta) {\n            cta.innerHTML = mappedResources["ctaLabel"];\n            cta.href = "{{guest.tier}}"\n              ? mappedResources["ctaLink"].url\n              : `${mappedResources["ctaLink"].url}?prscode=AHPW7`;\n            cta.addEventListener("click", () => {\n              if ("{{guest.tier}}") {\n                sendBoxeverEvent("BOX286_LOGIN_CLICKED");\n                dataLayer.push({ \'event\': \'EventTrigger.PageBody_PromotionClicked\' , \'category\': \'A/B Testing and Personalisation\' , \n                \'action\' : \'Permanent Experience Clicked\' , \n                \'label\' : \'BX:286:Skywards Prompt Home Page:Login After Products Block\' , \n                \'value\': 0 } );\n              } else {\n                sendBoxeverEvent("BOX286_SIGNUP_CLICKED");\n                        dataLayer.push({ \'event\': \'EventTrigger.PageBody_PromotionClicked\' , \'category\': \'A/B Testing and Personalisation\' , \n                \'action\' : \'Permanent Experience Clicked\' , \n                \'label\' : \'BX:286:Skywards Prompt Home Page:Signup After Products Block\' , \n                \'value\': 0 } );\n              }\n            });\n          }\n          let titleElement = document.getElementById("bx-skywards-title");\n          if (titleElement) {\n            titleElement.innerHTML = mappedResources["title"];\n          }\n          let bodyElement = document.getElementById("bx-skywards-body");\n          if (bodyElement) {\n            bodyElement.innerHTML = mappedResources["body"];\n          }\n          let tierLogoElement = document.querySelector(\n            ".bx-skywards-login-tier-logo"\n          );\n          if (tierLogoElement) {\n            if (\n              "{{guest.tier}}" &&\n              "{{guest.tier}}".toLowerCase() in tiersLogos\n            ) {\n              tierLogoElement.src =\n                resources[tiersLogos["{{guest.tier}}".toLowerCase()]].url;\n            } else {\n              tierLogoElement.src = resources[tiersLogos["all"]].url;\n            }\n          }\n          let backgroundImage = document.querySelectorAll(\n            ".bx-skywards-tier-background"\n          );\n          if (backgroundImage && backgroundImage.length) {\n            backgroundImage.forEach(\n              (image) =>\n                (image.src = resources["Experiences/Skywards-Sign-Up/EK/background-tier-image"].url)\n            );\n          }\n        }\n      })\n      .catch((error) => {\n        console.log(error, "Error fetching resource keys list");\n      });\n  }\n\n'}},{ref:"abb49c5b-e933-436a-8b18-0b38e0dee1a6",name:"Skywards prompt before products block",assets:{css:':root {\n  --font-helvetica: HelveticaNeue,Helvetica Neue,Helvetica,Lucida Grande,sans-serif;\n  --font-helvetica-light: HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n  --font-ek-bold: EmiratesSB-Bold, helvetica, arial, sans-serif;\n  --text-color: #333333;\n  --white-color: #FFFFFF;\n  --red-color: #c60c30;\n  --gray-color: #666666;\n}\n\n .bx-skywards-login-container {\n     display: flex;\n     flex-direction: column;\n     align-items: center;\n     position: relative;\n }\n \n .bx-skywards-login-tier-wrapper {\n     height: 100%;\n }\n \n.bx-skywards-login-tier-logo {\n    width: 75px;\n    height: 75px;\n    border: 5px solid var(--white-color);\n    border-radius: 50%;\n    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.5);\n    z-index: 1;\n    position: relative;\n}\n\n.bx-skywards-signup-tier-logo {\n    border: none;\n    border-radius: 0;\n    box-shadow: none;\n    width: 260px;\n    height: 100%;\n}\n\n.bx-skywards-login-body-container {\n    display: flex;\n    flex-direction: column;\n}\n\n.bx-skywards-login-title {\n    font-weight: 700;\n    margin: 0 0 15px 0;\n}\n\n.bx-skywards-body {\n    font-family: var(--font-helvetica);\n    font-size: 20px;\n    line-height: 24px;\n    color: var(--white-color);\n}\n\nhtml.ar .bx-skywards-body {\n    font-family: Emirates-Light, Helvetica, Arial, Lucida Grande, sans-serif\n}\n\n.bx-skywards-signup-body {\n    font-size: 14px;\n    line-height: 18px;\n}\n\n.bx-skywards-signup-title {\n    font-size: 16px;\n    line-height: 20px;\n}\n\n.bx-skywards-login-body {\n    font-family: var(--font-helvetica);\n    font-size: 20px;\n    line-height: 24px;\n    color: var(--white-color);\n    text-align: center;\n    width: 100%;\n    position: relative;\n    overflow: hidden;\n    background: #000;\n    z-index: 0;\n    border-radius: 5px;\n}\n\nhtml.ar .bx-skywards-login-body {\n    font-family: Emirates-Light, Helvetica, Arial, Lucida Grande, sans-serif\n}\n\n.bx-skywards-signup-body-wrapper {\n    background: #000;\n}\n.bx-skywards-login__cta {\n    text-align: center;\n    font-weight: 700;\n    cursor: pointer;\n    min-width: 150px;\n    padding: 5px 20px;\n    font-size: 1.4rem;\n    line-height: 1.8rem;\n    box-shadow: 0 2px 1px 0 rgba(0,0,0,.1);\n    border: .1rem solid var(--text-color);\n    background: var(--white-color);\n    color: var(--text-color);\n    text-decoration: none;\n    appearance: none!important;\n    white-space: normal;\n    font-style: normal;\n    border-radius: .3rem;\n    font-family: var(--font-helvetica);\n    z-index: 1;\n}\n\nhtml.ar .bx-skywards-login__cta {\n    font-family: Emirates-Light, Helvetica, Arial, Lucida Grande, sans-serif;\n}\n.bx-skywards-background-mobile {\n    display: none;\n}\n\n.bx-skywards-login__cta:hover {\n    box-shadow: 0 0 0.6rem 0 rgba(0,0,0,.5);\n}\n\n@media only screen and (min-width: 769px) {\n    .widget.js-widget {\n        margin-bottom: 25px;\n    }\n    .product-block-wrapper {\n        margin: 25px auto;\n    }\n    .bx-skywards-login-container {\n        max-width: 1100px;\n        margin: 25px auto;\n        flex-direction: row;\n        justify-content: space-between;\n    }\n    .bx-skywards-login-body {\n        display: flex;\n        align-items: center;\n        padding: 10px 20px 10px 130px;\n        margin-left: -90px;\n        min-height: 65px;\n        min-width: 100%;\n        justify-content: space-between;\n        text-align: left;\n    }\n    \n    .bx-skywards-signup-body-wrapper {\n        margin-left: -260px;\n        padding: 5px 20px 5px 290px;\n    }\n    .bx-skywards-login-title {\n        margin: 0;\n    }\n    \n    .bx-skywards-login-body-container {\n        display: block;\n    }\n    \n    .bx-skywards-signup-body-container {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    .bx-skywards-login__cta {\n        margin-left: 20px;\n    }\n    \n    html[dir="rtl"] .bx-skywards-login-body {\n        text-align: right;\n        margin-right: -90px;\n        margin-left: 0;\n        padding: 10px 130px 10px 20px;\n    }\n    html[dir="rtl"] .bx-skywards-signup-body-wrapper {\n        margin-right: -260px;\n        padding: 5px 290px 5px 20px;\n    }\n    .bx-skywards-login-tier-logo {\n        left: 20px;\n        border: 5px solid var(--white-color);\n        position: relative;\n        z-index: 1;\n        min-width: 90px;\n        min-height: 90px;\n    }\n    \n    .bx-skywards-signup-tier-logo {\n        left: 20px;\n        border: none;\n        min-width: inherit;\n        min-height: inherit;\n    }\n    html[dir="rtl"] .bx-skywards-login__cta {\n        margin-right: 20px;\n        margin-left: 0;\n    }\n    html[dir="rtl"] .bx-skywards-login-tier-logo {\n        right: 20px;\n    }\n    .bx-skywards-background {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        right: 0;\n        opacity: .3;\n    }\n    }\n}\n\n@media only screen and (max-width: 768px) { \n   .bx-skywards-login-wrapper {\n    background: #666;\n    margin: 20px 10px;\n}\n\n.bx-skywards-login-body{\n    margin: 20px 10px 0 10px;\n\n}\n.bx-skywards-login-body-container {\n    margin-bottom: 20px;\n}\n.bx-skywards-body {\n    font-size: 14px;\n    line-height: 18px;\n}\n.bx-skywards-login-title{\n    font-size: 16px;\n    line-height: 20px;\n}\n.bx-skywards-login__cta {\n    display: block;\n}\n}\n\n\n@media only screen and (max-width: 1023px) and (min-width: 769px) {\n    .bx-skywards-login-container{\n        padding: 0 30px;\n    }\n    .bx-skywards-background {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        right: 0;\n        opacity: .3;\n        height: 100%;\n    }\n}\n@media only screen and (width: 1024px) {\n    .bx-skywards-login-container{\n        padding: 0 50px;   \n    }\n}\n@media only screen and (max-width: 768px) {\n    .bx-skywards-login-container{\n        background-color: #000;\n        padding: 15px 10px;\n        margin: 20px 10px;\n        border-radius: 5px;\n    }\n    .bx-skywards-signup-container {\n        background-color: #000;\n    }\n    .bx-skywards-background-mobile {\n        position: absolute;\n        top: 0;\n        width: 100%;\n        right: 0;\n        bottom: 0;\n        opacity: .2;\n        left: 0;\n        height: 100%;\n        object-fit: cover;\n        display: block;\n    }\n    .bx-skywards-login-body-container {\n        margin-bottom: 20px;\n        margin-top: 10px;\n        align-items: center;\n    }\n    .bx-skywards-login__cta {\n        display: inline-block;\n    }\n    .bx-skywards-background {\n        display: none;\n    }\n    .bx-skywards-login-body {\n        background: transparent;\n    }\n    .bx-skywards-signup-body-wrapper {\n        background: transparent;\n    }\n    .bx-skywards-body{\n        width: calc(100% - 50px);\n\n    }\n}',html:'<div class="bx-skywards-login-container {{#unless guest.tier}}bx-skywards-signup-container{{/unless}}">\r\n    <img class="bx-skywards-background-mobile bx-skywards-tier-background">\r\n    <img loading="lazy" alt="" class="bx-skywards-login-tier-logo {{#unless guest.tier}}bx-skywards-signup-tier-logo{{/unless}}">\r\n    <div class="bx-skywards-login-body {{#unless guest.tier}}bx-skywards-signup-body-wrapper{{/unless}}">\r\n        <img class="bx-skywards-background bx-skywards-tier-background">\r\n        <div class="bx-skywards-login-body-container bx-skywards-signup-body-container">\r\n            <span id="bx-skywards-title" class="bx-skywards-login-title bx-skywards-signup-title"></span>\r\n            <span id="bx-skywards-body" class="bx-skywards-body bx-skywards-signup-body"></span>\r\n        </div>\r\n        <a id="bx-login-prompt-cta" class="bx-skywards-login__cta"></a>\r\n    </div>\r\n</div>',js:'function sendBoxeverEvent(eventType) {\n  var event = {\n    channel: "WEB",\n    type: eventType,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\n\n  let wrapper = "";\n  if (dataLayer && dataLayer[0] && dataLayer[0].pageName === "/ Home") {\n    wrapper = document.querySelector(".product-block-wrapper");\n  } else {\n    wrapper = document.getElementById("maincontent").firstChild;\n  }\n  if (wrapper) {\n    let publication = "";\n    if (dataLayer && dataLayer[0] && dataLayer[0].pageName === "/ Home") {\n      publication = `${__EK__.urlparser.country}/${__EK__.urlparser.language}`;\n    } else {\n      publication = `${__INITIAL_STATE__.urlparser.results.countryCompat}/${__INITIAL_STATE__.urlparser.results.language}`;\n    }\n    const RESOURCE_KEYS_ENDPOINT = `https://www.emirates.com/service/content/api/v4.0/resources/eol/${publication}/Experiences/Skywards-Sign-Up/EK`;\n\n    const tiersLogos = {\n      blue: "Experiences/Skywards-Sign-Up/EK/skywards-coin-blue-image",\n      silver: "Experiences/Skywards-Sign-Up/EK/skywards-coin-silver-image",\n      gold: "Experiences/Skywards-Sign-Up/EK/skywards-coin-gold-image",\n      platinum: "Experiences/Skywards-Sign-Up/EK/skywards-coin-platinum-image",\n      all: "Experiences/Skywards-Sign-Up/EK/signup-tier-image",\n    };\n\n    const tiersColors = {\n      blue: "#000",\n      silver: "#000",\n      gold: "#000",\n      platinum: "#000",\n      default: "#000",\n    };\n\n    const LOGIN_RESOURCE_MAP = {\n      ctaLabel: "Experiences/Skywards-Sign-Up/EK/login-cta-label__text",\n      title: "Experiences/Skywards-Sign-Up/EK/login-header-title__text",\n      body: "Experiences/Skywards-Sign-Up/EK/login-body__text",\n      ctaLink: "Experiences/Skywards-Sign-Up/EK/login__url",\n    };\n\n    const SIGNUP_RESOURCE_MAP = {\n      ctaLabel: "Experiences/Skywards-Sign-Up/EK/signup-cta-label__text",\n      ctaLink: "Experiences/Skywards-Sign-Up/EK/sign-up-cta__link",\n      title: "Experiences/Skywards-Sign-Up/EK/signup-header-title__text",\n      body: "Experiences/Skywards-Sign-Up/EK/signup-body__text",\n    };\n    fetch(RESOURCE_KEYS_ENDPOINT)\n      .then((response) => {\n        return response.json();\n      })\n      .then((results) => {\n        let resources = null;\n        if (results) {\n          resources = results.results;\n        }\n        if (resources) {\n          let mappedResources = {};\n          let resourceMap = SIGNUP_RESOURCE_MAP;\n          if ("{{guest.tier}}") {\n            resourceMap = LOGIN_RESOURCE_MAP;\n            sendBoxeverEvent("BOX286_LOGIN_VIEWED");\n            dataLayer.push({ \'event\': \'EventTrigger.PageBody_PromotionShown\' , \'category\': \'Page Body Interaction\' , \'action\' : \'Promotion Shown\' , \'label\' : \'BX:286:Login:Before Products Block\' , \'value\': 0 , nonInteraction: true});\n          } else {\n            sendBoxeverEvent("BOX286_SIGNUP_VIEWED");\n            dataLayer.push({ \'event\': \'EventTrigger.PageBody_PromotionShown\' , \'category\': \'Page Body Interaction\' , \'action\' : \'Promotion Shown\' , \'label\' : \'BX:286:Sign up:Before Products Block\' , \'value\': 0 , nonInteraction: true});\n          }\n          for (var key of Object.keys(resourceMap)) {\n            if (resourceMap[key] in resources) {\n              mappedResources[key] = resources[resourceMap[key]];\n            } else {\n              mappedResources[key] = "";\n            }\n          }\n          wrapper.insertAdjacentHTML(\n            "beforebegin",\n            \'<div class="bx-skywards-login-wrapper"></div>\'\n          );\n          insertHTMLBefore(".bx-skywards-login-wrapper");\n          let cta = document.getElementById("bx-login-prompt-cta");\n          if (cta) {\n            cta.innerHTML = mappedResources["ctaLabel"];\n            cta.href = "{{guest.tier}}"\n              ? mappedResources["ctaLink"].url\n              : `${mappedResources["ctaLink"].url}&prscode=AHPW7`;\n            cta.addEventListener("click", () => {\n              if ("{{guest.tier}}") {\n                sendBoxeverEvent("BOX286_LOGIN_CLICKED");\n                dataLayer.push({ \'event\': \'EventTrigger.PageBody_PromotionClicked\' , \'category\': \'Page Body Interaction\' , \'action\' : \'Promotion Clicked\' , \'label\' : \'BX:286:Login:Before Products Block\' , \'value\': 0 , nonInteraction: true});\n              } else {\n                sendBoxeverEvent("BOX286_SIGNUP_CLICKED");\n                dataLayer.push({ \'event\': \'EventTrigger.PageBody_PromotionClicked\' , \'category\': \'Page Body Interaction\' , \'action\' : \'Promotion Clicked\' , \'label\' : \'BX:286:Sign up:Before Products Block\' , \'value\': 0 , nonInteraction: true});\n              }\n            });\n          }\n          let titleElement = document.getElementById("bx-skywards-title");\n          if (titleElement) {\n            titleElement.innerHTML = mappedResources["title"];\n          }\n          let bodyElement = document.getElementById("bx-skywards-body");\n          if (bodyElement) {\n            bodyElement.innerHTML = mappedResources["body"];\n          }\n          let tierLogoElement = document.querySelector(\n            ".bx-skywards-login-tier-logo"\n          );\n          if (tierLogoElement) {\n            if (\n              "{{guest.tier}}" &&\n              "{{guest.tier}}".toLowerCase() in tiersLogos\n            ) {\n              tierLogoElement.src =\n                resources[tiersLogos["{{guest.tier}}".toLowerCase()]].url;\n            } else {\n              tierLogoElement.src = resources[tiersLogos["all"]].url;\n            }\n          }\n          let backgroundImage = document.querySelectorAll(\n            ".bx-skywards-tier-background"\n          );\n          if (backgroundImage && backgroundImage.length) {\n            backgroundImage.forEach(\n              (image) =>\n                (image.src = resources["Experiences/Skywards-Sign-Up/EK/background-tier-image"].url)\n            );\n          }\n        }\n      })\n      .catch((error) => {\n        console.log(error, "Error fetching resource keys list");\n      });\n  }\n\n'}}],notificationEnabled:!1},{ref:"8ecaebc6-99df-4a79-bde0-c261f9a63018",name:"BOX 001 Churn Prevention Popup A/A Test",revision:90,archived:!1,target:{script:'(function () {\n  function checkDataLayerData() {\n    var permittedFareFamilies = ["FLEX", "FLEXPLUS", "SPECIAL", "SAVER"];\n    \n    const excludedFareBrands = ["SPECIAL", "SAVER"];\n    \n    const excludedFlightNumbers = ["99999"];\n    const departureDate = Date.parse(dataLayer[0].flightDepartureDate) ;\n    const returnDate = Date.parse(dataLayer[0].flightReturnDate) ;\n    var isFareFamilyPermitted = false;\n    var isFlightEmirates = false;\n    var isFlightDepartingGreaterThan2Days = departureDate > Date.now() + 1000 * 60 * 60 * 24 * 2;\n    var isRedemptionSearch = dataLayer[0].pageName !== \'/ IBE / Choose Extras\'?\n      dataLayer[0].flightSearchPaymentTypeIBE !== "Revenue" : false;\n    var isLoggedIn = dataLayer[0].visitorLoginState !== "Logged Out";\n    var isPromotionalSearch =\n      typeof __CugoCode !== "undefined" && __CugoCode !== "";\n    const isMulticityTrip = dataLayer[0].flightTripType === "Multicity";\n    var isExcluded = false;\n    if (dataLayer[0].pageName !== "/ IBE / Search Results / Select a Price") {\n      var flightFareFamilies = dataLayer[0].brandTypePerSegmentflightRouteList.split(\n        "|"\n      );\n      var flightNumbers = dataLayer[0].flightNumberPerSegmentFlightRouteList.split(\n        "|"\n      );\n      flightFareFamilies.forEach(function (fareFamily) {\n        if (permittedFareFamilies.indexOf(fareFamily) > -1) {\n          isFareFamilyPermitted = true;\n        }\n      });\n\n      flightNumbers.forEach(function (flightNumber) {\n        if (\n          flightNumber.substring(0, 2) === "EK" &&\n          flightNumber.length === 5\n        ) {\n          isFlightEmirates = true;\n        }\n      });\n      \n      if(\n            (Date.parse("2023-12-09") <= departureDate && departureDate <= Date.parse("2024-12-24")) ||\n            (Date.parse("2023-12-09") <= returnDate && returnDate <= Date.parse("2024-12-24"))\n        ) {\n        isExcluded = flightNumbers.some((x,index) => excludedFlightNumbers.includes(x.substring(2)) && excludedFareBrands.includes(flightFareFamilies[index]));\n      }\n\n    } else {\n      isFareFamilyPermitted = true;\n      let departureFlights = dataLayer[0].InBoundFaresDisplayed;\n      let returnFlights = dataLayer[0].OutBoundFaresDisplayed;\n      if (departureFlights) {\n        let departureFlightsOptions = departureFlights.split("+");\n        isFlightEmirates = isEKFlight(departureFlightsOptions);\n      }\n      if (returnFlights) {\n        let returnFlightsOptions = returnFlights.split("+");\n        isFlightEmirates = departureFlights ? isFlightEmirates && isEKFlight(returnFlightsOptions) : isEKFlight(returnFlightsOptions);\n      }\n    }\n    return (\n      isFareFamilyPermitted && isFlightEmirates && isFlightDepartingGreaterThan2Days && !isRedemptionSearch && !isPromotionalSearch && !isMulticityTrip && isLoggedIn \n    );\n  }\n\n  function isEKFlight(flightsOptions) {\n    let result = true;\n    flightsOptions.forEach(function (flightData, index) {\n      let flightSegments = flightData.split("#");\n      if (flightSegments && flightSegments.length) {\n        let flightDetails = flightSegments[1];\n        if (flightSegments.length > 2) {\n          flightDetails = flightSegments[2];\n        }\n\n        let removeFromIndex = -1;\n        if (flightDetails) {\n          removeFromIndex = flightDetails.lastIndexOf("-");\n        }\n        if (removeFromIndex !== -1) {\n          const legs = flightDetails.substr(0, removeFromIndex - 1);\n          if (legs) {\n            const flightLegs = legs.replace(" ", "").split("-");\n            flightLegs.forEach(function (leg) {\n              if (!(leg.substring(0, 2) === "EK" && leg.length === 5)) {\n                result = false;\n              }\n            });\n          }\n        }\n      }\n    });\n    return result;\n  }\n  \n    function checkExcludedPages()\n    {\n         var targetPass =false;\n         var pagePath = window.location.pathname;   \n         if (!pagePath.includes(\'SessionTimeout.aspx\') && !pagePath.includes(\'InvalidProcess.aspx\'))\n         {\n             targetPass= true;\n         }\n        return targetPass;\n    }\n  function checkDataLayerAvailable() {\n    if (dataLayer && dataLayer.length > 0) {\n      if (checkDataLayerData() && checkExcludedPages()) {\n          targetingPassed();\n      }\n    } else setTimeout(checkDataLayerAvailable, 300);\n  }\n\n  checkDataLayerAvailable();\n})();',targetPages:[{operator:"Contains",value:"/CAB/IBESSL/PassengerDetails.aspx"},{operator:"Contains",value:"/CAB/IBE/SelectPrice.aspx"},{operator:"Contains",value:"/CAB/IBESSL/ChooseExtras.aspx"}]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"c675dd22-c0b4-4105-9219-1118871b573a",lowSplit:1,highSplit:60},{ref:"4ffa7662-7c55-4b6d-b5a1-dc1c3a06bb6c",lowSplit:61,highSplit:120}],coupled:!1},variants:[{ref:"c675dd22-c0b4-4105-9219-1118871b573a",name:"Original",assets:{css:"",html:"",js:'function sendBoxeverEvent(eventType, cb = function (data) {}) {\n  var event = {\n    channel: "WEB",\n    type: "BOX003_" + eventType + "-control",\n    page: window.location.pathname,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, cb, "json");\n}\n(function () {\n   sendBoxeverEvent(`VIEWED`);\n          if (dataLayer)\n            dataLayer.push({\n              event: "EventTrigger.PageBody_PromotionShown",\n              category: "A/B Testing and Personalisation - Test",\n              action: "Permanent Experience Shown",\n              label: `BX:003:Churn Prevention:control`,\n              value: 0,\n              nonInteraction: true,\n            });     \n})();\n\n'}},{ref:"4ffa7662-7c55-4b6d-b5a1-dc1c3a06bb6c",name:"Variant 1",assets:{css:"",html:"",js:'function sendBoxeverEvent(eventType, cb = function (data) {}) {\n  var event = {\n    channel: "WEB",\n    type: "BOX003_" + eventType + "-variant",\n    page: window.location.pathname,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, cb, "json");\n}\n(function () {\n   sendBoxeverEvent(`VIEWED`);\n          if (dataLayer)\n            dataLayer.push({\n              event: "EventTrigger.PageBody_PromotionShown",\n              category: "A/B Testing and Personalisation - Test",\n              action: "Permanent Experience Shown",\n              label: `BX:003:Churn Prevention:variant`,\n              value: 0,\n              nonInteraction: true,\n            });     \n})();\n\n'}}],notificationEnabled:!1},{ref:"ef6d342b-3c2d-4025-b99d-05c0afaa896a",name:"Box-000-AA Simple Test",revision:165,archived:!1,target:{script:"// Use client-side JavaScript to more specifically target users\r\n// NOTE: When your targeting conditions are met you must call targetingPassed() \r\n(function () {\r\nfunction checkExcludedPages()\r\n{\r\n     var targetPass =false;\r\n     var pagePath = window.location.pathname;   \r\n     if (!pagePath.includes('SessionTimeout.aspx') && !pagePath.includes('InvalidProcess.aspx'))\r\n     {\r\n         targetPass= true;\r\n     }\r\n    return targetPass;\r\n}\r\nif (checkExcludedPages())\r\n{\r\n    targetingPassed();\r\n}\r\n})();",targetPages:[{operator:"Contains",value:"/CAB/IBE/SelectPrice.aspx"},{operator:"Contains",value:"/CAB/IBESSL/FlightConfirmation.aspx"}]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"a08a3119-0f72-44aa-b5b0-b8953e33372f",lowSplit:1,highSplit:60},{ref:"bb3f2402-d386-4e67-b4e2-0f052f4addc9",lowSplit:61,highSplit:120}],coupled:!1},variants:[{ref:"a08a3119-0f72-44aa-b5b0-b8953e33372f",name:"Original",assets:{css:"",html:"",js:'function sendBoxeverEvent(eventType, cb = function (data) {}) {\n  var event = {\n    channel: "WEB",\n    type: "BOX004_" + eventType + "-control",\n    page: window.location.pathname,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, cb, "json");\n}\n\n(function () {\n  // Add statements here\n          sendBoxeverEvent(`VIEWED`);\n          if (dataLayer)\n            //console.log(\'there is datalayer\');\n            dataLayer.push({\n              event: "EventTrigger.PageBody_PromotionShown",\n              category: "A/B Testing and Personalisation - Test",\n              action: "Permanent Experience Shown",\n              label: `BOX004_Simple AA Test - Control`,\n              value: 0,\n              nonInteraction: true,\n            });\n})();\n'}},{ref:"bb3f2402-d386-4e67-b4e2-0f052f4addc9",name:"Variant 1",assets:{css:"",html:"",js:'function sendBoxeverEvent(eventType, cb = function (data) {}) {\n  var event = {\n    channel: "WEB",\n    type: "BOX004_" + eventType +"-variant",\n    page: window.location.pathname,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, cb, "json");\n}\n\n(function () {\n  // Add statements here\n          sendBoxeverEvent(`VIEWED`);\n          if (dataLayer)\n            dataLayer.push({\n              event: "EventTrigger.PageBody_PromotionShown",\n              category: "A/B Testing and Personalisation - Test",\n              action: "Permanent Experience Shown",\n              label: `BOX004_Simple AA Test - Variant`,\n              value: 0,\n              nonInteraction: true,\n            });\n})();\n'}}],notificationEnabled:!1},{ref:"7a0631ac-899a-4f7f-b30e-7d99bb1b45a6",name:"BOX-282 IBE Error Pages Recent Search Listing",revision:127,archived:!1,target:{targetPages:[{operator:"Contains",value:"/CAB/SessionTimeout.aspx"},{operator:"Contains",value:"/CAB/InvalidProcess.aspx"}]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-07-12T15:29:54.902Z",allocationLow:1,allocationHigh:120,splits:[{ref:"7a106ccc-1751-417b-83fa-03b53b15493a",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"7a106ccc-1751-417b-83fa-03b53b15493a",name:"Recent Search Listing",assets:{css:'@import url("https://c.ekstatic.net/shared/fonts/iconography/iconography-20190304.css");\n\ndiv#mainContainer {\n    width: 100%;\n    max-width: 1100px;\n}\n \ndiv#column2Container {\n    width: 754px;\n}\n \ndiv#column2 {\n    padding: 0 0 100px 0;\n}\n\ndiv##column1 {\n    padding: 0;\n}\n\n@media screen and (min-width: 1024px) {\n.ek.ek-wrapper.new-ek-footer.navigation-skinny {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    right: 0;\n}\n}\n\n#column2 .ts-session-expire .ts-session-expire--link {\n    border-radius: 3px;\n}\n \n#column2 .ts-session-expire .ts-session-expire--link:hover {\n    -webkit-box-shadow: 0 0 5px rgba(0,0,0,.5);\n    box-shadow: 0 0 5px rgba(0,0,0,.5);\n}\n \n#column2 .ts-session-expire.active p {\n    font-size: 14px;\n    color: #333;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n}\n \n.skip-to.hidden-xs.hidden-sm.navigation-skinny {\n    margin-top: -2px;\n}\n \n \n.bx-search-results-row {\n    display: flex;\n    border: 1px solid #d8d8d8;\n    padding: 20px;\n    border-top: 0;\n    font-family: HelveticaNeue,Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n    /*align-items: baseline;*/\n}\n \n.bx-search-results-col {\n    font-size: 14px;\n    color: #333;\n}\n \n.bx-search-results {\n    margin: 20px 0;\n}\n \n.bx-search-results-col:nth-child(2) {\n    width: 30%;\n}\n \n.bx-search-results-col:first-child {\n    width: 60%;\n    display: flex;\n}\n \n.bx-search-results-col:nth-child(3) {\n    width: 10%;\n}\nhtml[dir="rtl"] .bx-search-results-col:last-child {\n    text-align: left;\n}\n.bx-search-results-col:last-child {\n    text-align: right;\n    width: 30%;\n}\n\nhtml[dir="rtl"] .bx-search-results-col:first-child >div:first-child {\n    margin-left: 10px;\n    margin-right: 0;\n}\n \n.bx-search-results-col:first-child >div:first-child {\n    margin-right: 10px;\n}\n \nhtml[dir="rtl"] .bx-search-results-col:first-child span {\n    margin-right: 2px;\n    margin-left: 0;\n}\n.bx-search-results-col:first-child span {\n    font-weight: 700;\n    margin-left: 2px;\n}\n \n.bx-search-results-col:first-child span:last-child {\n    font-weight: normal;\n}\n\nhtml[dir="rtl"] .bx-search-results-col:first-child >div:last-child {\n    margin-right: 10px;\n    margin-left: 0;\n}\n.bx-search-results-col:first-child >div:last-child {\n    margin-left: 10px;\n}\n \n.bx-search-results-row:first-child {\n    border-top: 1px solid #d8d8d8;\n}\n \n.bx-search-results-col > a {\n    font-weight: normal;\n    color: #333;\n    text-decoration: underline;\n    color: #c60c30;\n}\n \n.bx-search-results-col > a:hover {\n    text-decoration: none;\n}\n \n.bx-search-results-col:nth-child(3) span {\n    display: flex;\n    align-items: center;\n}\nhtml[dir="rtl"] .bx-search-results-col:nth-child(3) span svg {\n    margin-right: 0;\n    margin-left: 5px;\n}\n.bx-search-results-col:nth-child(3) span svg{\n    margin-right: 5px;\n}\n \n \n/* responsive layout fix*/\n.ek.ek-wrapper.new-ek-footer .footer-navigation .footer-nav-container .container {\n    width: auto;\n    max-width: 1200px;\n}\n \nbody.extended-body {\n    width: 100%;\n    min-width: auto;\n}\n \n.ek.ek-wrapper.new-ek-footer {\n    width: 100% !important;\n}\n \n.ek.ek-wrapper.new-global-nav .navigation-skinny {\n    width: 100%;\n    max-width: 1200px;\n}\n \n#column2 .ts-session-expire {\n        padding: 0 10px;\n}\n   \n@media screen and (max-width: 1023px) {\n    #column2 .ts-session-expire {\n        padding: 0 20px;\n    }\n}\n \n \n@media screen and (max-width: 767px) {\n    .bx-search-results-row {\n        flex-direction: column;\n    }\n    .bx-search-results-col.bx-search-results-col.bx-search-results-col:first-child {\n        margin-top: 0;\n    }\n    .bx-search-results-col.bx-search-results-col.bx-search-results-col {\n        width: 100%;\n        margin-top: 15px;\n    }\n}\n \n.bx-flight-type-icon {\n    font-size: 20px;\n}\n\nhtml[dir="rtl"] .bx-search-results-flight-type {\n    transform: rotate(180deg);\n    bottom: 4px;\n    position: relative;\n}\n \n/* Arabic fixes */\nhtml[lang="ar-AE"] #column2{\n    width: 100%\n}',html:'<div class="bx-search-results"/>',js:'function sendBoxeverEvent(eventType, page) {\n  let eventLabel = `BOX282_${page}_${eventType}`;\n  var event = {\n    channel: "WEB",\n    type: eventLabel,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\n\nfunction getPage() {\n  if (window.location.href.indexOf("/CAB/SessionTimeout.aspx") > -1)\n    return "ST";\n  if (window.location.href.indexOf("/CAB/InvalidProcess.aspx") > -1)\n    return "IP";\n  return "";\n}\n\nfunction hideEmptyResultsMessage() {\n  document.querySelector(".your-search-holder").style.display = "block";\n}\n\nfunction getResourceKeys(resources, resourceMap) {\n  let mappedResources = {};\n  for (var key of Object.keys(resourceMap)) {\n    if (resourceMap[key] in resources) {\n      mappedResources[key] = resources[resourceMap[key]];\n    } else {\n      mappedResources[key] = "";\n    }\n  }\n  return mappedResources;\n}\nfunction render() {\n  let publication = "";\n  if (__PublicationUrl) {\n    if (__PublicationUrl !== "/english") {\n      publication = __PublicationUrl;\n    } else {\n      publication = "/global/english";\n    }\n  }\n  if (publication) {\n    if (dataLayer && dataLayer[0]) {\n      let lang = dataLayer[0].languageCode.toLowerCase();\n      let airportsFetchURL = `https://www.emirates.com/service/airports?lang=${lang}`;\n      let browserID = Boxever.getID();\n\n      let bxRecentSearchFetchURL = `https://api.boxever.com/v2/callFlows?message={"context":{"clientKey":"ek2Zx82tZTOPkQhPaE41UTJEwbPdudQu","channel":"WEB","language":"en","currencyCode":"USD","uri":"/home","pointOfSale":"${Boxever.pointOfSale}","browserId":"${browserID}","friendlyId":"recent_searches"}}`;\n      let promises = [\n        fetch(\n          `https://www.emirates.com/service/content/api/v4.0/resources/eol${publication}/Experiences/Recent-Searches`\n        )\n          .then((response) => {\n            return response.json();\n          })\n          .then((results) => {\n            let resources = null;\n            if (results) {\n              resources = results.results;\n            }\n            return resources;\n          }),\n        fetch(airportsFetchURL).then((response) => {\n          return response.json();\n        }),\n        fetch(bxRecentSearchFetchURL).then((response) => {\n          return response.json();\n        }),\n      ];\n\n      Promise.all(promises)\n        .then(([resources, airports, recentSearches]) => {\n          if (\n            recentSearches &&\n            recentSearches.recent_searches &&\n            recentSearches.recent_searches.length &&\n            airports &&\n            airports.results &&\n            resources\n          ) {\n            insertHTMLAfter(".ts-session-expire.active p");\n            let page = getPage();\n            sendBoxeverEvent("VIEWED", page);\n            dataLayer.push({ \'event\': \'EventTrigger.PageBody_PromotionShown\' ,\n            \'category\': \'A/B Testing and Personalisation\' , \n            \'action\' : \'Permanent Experience Shown\' , \n            \'label\' : \'BX:282:IBE Error Pages Recent Search Listing:Recent Search Listing\' , \'value\': 0 , nonInteraction: true});\n            let boxEverSearchResultEl =\n              document.querySelector(".bx-search-results");\n            document.querySelector(".your-search-holder").style.display =\n              "none";\n            boxEverSearchResultEl.innerHTML = "";\n            const resourceMap = {\n              searchCTALabel: `Experiences/Recent-Searches/continue-search-cta-label__text`,\n            };\n            const resourceKeys = getResourceKeys(resources, resourceMap);\n            const cabinClassMapping = {\n              Y: 0,\n              J: 1,\n              F: 2,\n            };\n            recentSearches.recent_searches.map(function (row) {\n              let departDate = new Date(`${row.depart_date}`);\n              let returnDate = new Date(`${row.return_date}`);\n              let IBECabinClass = 0;\n              if (row.booking_class in cabinClassMapping) {\n                IBECabinClass = cabinClassMapping[row.booking_class];\n              }\n              let departLocaleString =\n                departDate.getDate() +\n                " " +\n                departDate.toLocaleDateString(lang, { month: "short" }) +\n                " " +\n                departDate.getFullYear().toString().substring(2);\n              let returnLocaleString =\n                returnDate.getDate() +\n                " " +\n                returnDate.toLocaleDateString(lang, { month: "short" }) +\n                " " +\n                returnDate.getFullYear().toString().substring(2);\n              boxEverSearchResultEl.innerHTML += `<div class="bx-search-results-row">\n    <div class="bx-search-results-col">\n    <div><span>${\n      airports.results[`${row.origin_iata}`].city.shortName\n    }</span><span> (${\n                row.origin_iata\n              })</span></div><div class="bx-search-results-flight-type"><i class="bx-flight-type-icon icon ${\n                row.flight_type === "OW"\n                  ? "icon-one-way-flight"\n                  : "icon-return-flight"\n              }"></i></div><div><span>${\n                airports.results[`${row.destination_iata}`].city.shortName\n              }</span><span> (${row.destination_iata})</span></div>\n    </div>\n    \n    <div class="bx-search-results-col">${\n      row.flight_type === "OW"\n        ? departLocaleString\n        : departLocaleString + " - " + returnLocaleString\n    }</div>\n    <div class="bx-search-results-col">\n       <span>\n        <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M15.9 15.7V13c0-2-1.6-3.5-3.6-3.5H5.7c-2 0-3.6 1.5-3.6 3.5v2.8H16zM9 8.5A3.2 3.2 0 109 2a3.2 3.2 0 000 6.5z" fill="#666" fill-rule="nonzero"/></svg>\n        ${row.adults + row.children + row.youths + row.infants}\n        </span>\n    </div>\n    <div class="bx-search-results-col">\n        <a class=\'bx-search-results-cta\' href=\'http://www.emirates.com/SessionHandler.aspx?pub=${__PublicationUrl}&pageurl=/IBE.aspx&section=IBE&showpage=true&TID=${\n                row.flight_type === "OW" ? "OW" : "SB"\n              }&seldcity1=${row.origin_iata}&selacity1=${\n                row.destination_iata\n              }&selddate1=${row.depart_date}&seladate1=${\n                row.return_date\n              }&seladults=${row.adults}&selchildren=${\n                row.children\n              }&selinfants=${\n                row.infants\n              }&selcabinclass=${IBECabinClass}&selcabinclass1=${IBECabinClass}&resultby=0\'>${\n                resourceKeys.searchCTALabel\n              }</a>\n    </div>\n    </div>`;\n              const links = document.querySelectorAll(".bx-search-results-cta");\n              links.forEach((el) =>\n                el.addEventListener("click", (event) => {\n                  sendBoxeverEvent("CLICKED", page);\n                  dataLayer.push({ \'event\': \'EventTrigger.PageBody_PromotionClicked\' ,\n                  \'category\': \'A/B Testing and Personalisation\' , \'action\' : \'Permanent Experience Clicked\' , \n                  \'label\' : \'BX:282:IBE Error Pages Recent Search Listing:Recent Search Listing\' , \'value\': 0 } );\n                })\n              );\n            });\n          } else {\n            hideEmptyResultsMessage();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n          hideEmptyResultsMessage();\n        });\n    }\n  }\n}\n//Cookie consent check\nlet cookieComplianceEnabled =\n  "Yes" ===\n  "Yes";\nconst cookieComplianceFunctionalGroup =\n  "C0002";\n//Listen for disabling/enabling functional cookies group for new browser\nif (cookieComplianceEnabled) {\n  window.addEventListener("OneTrustGroupsUpdated", function (e) {\n    if (OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1) {\n      //Show experience wrapper here\n      document.querySelector(".bx-search-results").style.display = "block";\n      render();\n    } else {\n      document.querySelector(".bx-search-results").style.display = "none";\n      hideEmptyResultsMessage();\n    }\n  });\n}\nif (\n  !cookieComplianceEnabled ||\n  (cookieComplianceEnabled &&\n    OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1)\n) {\n  render();\n}\n'}},{ref:"420a1419-3237-444a-abec-ec76b6217fd6",name:"Original",assets:{css:"/** style your Experience with CSS */",html:"",js:""}}],notificationEnabled:!1},{ref:"e06d389c-f139-42c7-b9ae-8bad8da86e1d",name:"BOX-365 Homepage Booking Widget Skywards Sign Up / Log In (EK.com) Rerun",revision:17,archived:!1,target:{script:'(function () {\n function filter() {\n  if (dataLayer && dataLayer.length > 0) {\n    var datalayerData = dataLayer[0];\n\n    if (\n      (!cookieComplianceEnabled ||\n        (cookieComplianceEnabled &&\n          OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1\n        )\n      ) &&\n      datalayerData.visitorLoginState === "Logged Out" &&\n      datalayerData.pageCategory === "Home")\n    {\n      targetingPassed();\n    }\n  }\n}\n\nvar cookieComplianceEnabled = true;\nvar cookieComplianceFunctionalGroup = "C0002";\nif (cookieComplianceEnabled) {\n  window.addEventListener("OneTrustGroupsUpdated", function (e) {\n    if (OnetrustActiveGroups.indexOf(cookieComplianceFunctionalGroup) > -1) {\n      filter();\n    } else {\n      //Hide experience wrapper if functional group is disabled\n      const wrapper =  document.querySelectorAll(".bx-365-skywards-login-container");\n      if(wrapper) {\n          wrapper.forEach(e => { e.style.display = "none"; });\n      }\n    }\n  });\n}\nfilter();\n})();',targetPages:[]},traffic:{type:"advancedTraffic",weightingAlgorithm:"USER_DEFINED",modifiedAt:"2024-09-09T05:53:54.028Z",allocationLow:1,allocationHigh:120,splits:[{ref:"eb24f8db-310d-4aec-8403-da93e2ccae96",lowSplit:1,highSplit:60},{ref:"d4926480-6503-4689-897c-84563410f222",lowSplit:61,highSplit:120}],coupled:!0},variants:[{ref:"eb24f8db-310d-4aec-8403-da93e2ccae96",name:"Original",assets:{css:"/** style your Experience with CSS */\n.search-flight__log-in-wrapper > div:first-child a.search-flight__inline-link--log-in {\n    display: inline-block;\n}",html:"",js:'function sendBoxeverEvent(eventType) {\n  var event = {\n    channel: "WEB",\n    type: `BOX_365_${eventType}`,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\n(function () {\n  let isSkywardsMember = "{{guest.isSkywardsMember}}";\n  if (isSkywardsMember) {\n    dataLayer.push({\n      event: "EventTrigger.PageBody_PromotionSuppressed",\n      category: "Page Body Interaction",\n      action: "Promotion Suppressed",\n      label: "BX:365:Login",\n      value: 0,\n      nonInteraction: true,\n    });\n  } else {\n    dataLayer.push({\n      event: "EventTrigger.PageBody_PromotionSuppressed",\n      category: "Page Body Interaction",\n      action: "Promotion Suppressed",\n      label: "BX:365:Signup",\n      value: 0,\n      nonInteraction: true,\n    });\n  }\n  const loginLink = document.querySelector(\'.search-flight__log-in-wrapper .search-flight__inline-link--log-in\');\n  if(loginLink) {\n     sendBoxeverEvent("LOGIN_VIEWED");\n     loginLink.addEventListener(\'click\', (e) => {\n         sendBoxeverEvent(\'LOGIN_CLICKED\');\n     });\n  }\n})();\n'}},{ref:"d4926480-6503-4689-897c-84563410f222",name:"Skywards Sign up / login",assets:{css:"/** style your Experience with CSS */\n.search-flight__log-in-wrapper > div:first-child a.search-flight__inline-link--log-in {\n    display: none;\n}",html:'<a class="bx-365-link search-flight__inline-link search-flight__inline-link--log-in"></a>\r\n',js:'function sendBoxeverEvent(eventType) {\n  var event = {\n    channel: "WEB",\n    type: `BOX_365_${eventType}`,\n    page: dataLayer[0].pageName,\n    pos: _boxever_settings.pointOfSale,\n    browser_id: Boxever.getID(),\n  };\n  Boxever.eventCreate(event, function (data) {}, "json");\n}\n\nfunction getResourceKeys(resources, resourceMap) {\n  let mappedResources = {};\n  for (var key of Object.keys(resourceMap)) {\n    if (resourceMap[key] in resources) {\n      mappedResources[key] = resources[resourceMap[key]];\n    } else {\n      mappedResources[key] = "";\n    }\n  }\n  return mappedResources;\n}\n\nfunction addQMIntegration() {\n  document.body.classList.add("em-box365--homepage-booking-widget-skywards-login-signup");\n}\n\n(function () {\n  const wrapper = document.querySelector(".search-flight__log-in-wrapper div");\n  const HOST = "https://www.emirates.com";\n  if (wrapper) {\n    let publication = `${__EK__.urlparser.country}/${__EK__.urlparser.language}`;\n    const resourceKeysEndpoint = `${HOST}/service/content/api/v4.0/resources/eol/${publication}/Experiences/Skywards-Sign-Up/Booking-Widget`;\n    fetch(resourceKeysEndpoint)\n      .then((response) => response.json())\n      .then((response) => {\n        if (response && response.results && Object.keys(response).length) {\n          const resourceKeysMap = {\n            signUpCTALabel: "Experiences/Skywards-Sign-Up/Booking-Widget/signup-cta-label__text",\n            loginCTALabel: "Experiences/Skywards-Sign-Up/Booking-Widget/login-cta-label__text",\n            signUpCTAURL: "Experiences/Skywards-Sign-Up/Booking-Widget/signup-cta__link",\n          };\n          const resourceKeys = getResourceKeys(\n            response.results,\n            resourceKeysMap\n          );\n          wrapper.insertAdjacentHTML(\n            "afterend",\n            \'<div class="bx-365-skywards-login-wrapper"></div>\'\n          );\n          insertHTMLAfter(".bx-365-skywards-login-wrapper");\n          addQMIntegration();\n\n          const link = document.querySelector(".bx-365-link");\n          let isSkywardsMember = "{{guest.isSkywardsMember}}";\n          if (isSkywardsMember) {\n            link.href = document.querySelector(\'#login-nav-link\').href;\n            link.innerHTML = resourceKeys.loginCTALabel;\n            sendBoxeverEvent("LOGIN_VIEWED");\n            dataLayer.push({\n              event: "EventTrigger.PageBody_PromotionShown",\n              category: "Page Body Interaction",\n              action: "Promotion Shown",\n              label: "BX:365:Login",\n              value: 0,\n              nonInteraction: true,\n            });\n          } else {\n            link.href = `${resourceKeys.signUpCTAURL.url}&prscode=AHPW7`;\n            link.innerHTML = resourceKeys.signUpCTALabel;\n            sendBoxeverEvent("SIGNUP_VIEWED");\n            dataLayer.push({\n              event: "EventTrigger.PageBody_PromotionShown",\n              category: "Page Body Interaction",\n              action: "Promotion Shown",\n              label: "BX:365:Signup",\n              value: 0,\n              nonInteraction: true,\n            });\n          }\n          link.addEventListener("click", (e) => {\n            if (isSkywardsMember) {\n              sendBoxeverEvent("LOGIN_CLICKED");\n                            dataLayer.push({\n                event: "EventTrigger.PageBody_Clicked",\n                category: "Page Body Interaction",\n                action: "Promotion Clicked",\n                label: "BX:365:Login",\n                value: 0,\n                nonInteraction: true,\n              });\n            } else {\n              sendBoxeverEvent("SIGNUP_CLICKED");\n              dataLayer.push({\n                event: "EventTrigger.PageBody_Clicked",\n                category: "Page Body Interaction",\n                action: "Promotion Clicked",\n                label: "BX:365:Signup",\n                value: 0,\n                nonInteraction: true,\n              });\n            }\n          });\n        }\n      })\n      .catch(console.error);\n  }\n})();\n'}}],notificationEnabled:!1},{ref:"1a2954d2-39d2-4240-8ea5-0658159a846e",name:"BOX-456 EKH Asynchronous Flow",revision:19,archived:!1,target:{script:'(function () {\n    function isSafari() {\n        return (\n            navigator.vendor.match(/apple/i) &&\n            !navigator.userAgent.match(/crios/i) &&\n            !navigator.userAgent.match(/fxios/i) &&\n            !navigator.userAgent.match(/Opera|OPT\\//)\n        );\n    }\n\n    function sendBoxeverEvent(\n        eventType,\n        customAttributes,\n        cb = function (data) { }\n    ) {\n        var event = {\n            channel: "WEB",\n            type: "BOX454_FLOW_" + eventType,\n            page: dataLayer[0].pageName,\n            pos: _boxever_settings.pointOfSale,\n            browser_id: Boxever.getID(),\n            ext: { ...customAttributes },\n        };\n        Boxever.eventCreate(event, cb, "json");\n    }\n\n    const origins = [\n    {\n        "country": "CI",\n        "iataCode": "ABJ"\n    },\n    {\n        "country": "NG",\n        "iataCode": "ABV"\n    },\n    {\n        "country": "GH",\n        "iataCode": "ACC"\n    },\n    {\n        "country": "ET",\n        "iataCode": "ADD"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ADL"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "AKL"\n    },\n    {\n        "country": "DZ",\n        "iataCode": "ALG"\n    },\n    {\n        "country": "IN",\n        "iataCode": "AMD"\n    },\n    {\n        "country": "JO",\n        "iataCode": "AMM"\n    },\n    {\n        "country": "NL",\n        "iataCode": "AMS"\n    },\n    {\n        "country": "SE",\n        "iataCode": "ARN"\n    },\n    {\n        "country": "GR",\n        "iataCode": "ATH"\n    },\n    {\n        "country": "BH",\n        "iataCode": "BAH"\n    },\n    {\n        "country": "ES",\n        "iataCode": "BCN"\n    },\n    {\n        "country": "LB",\n        "iataCode": "BEY"\n    },\n    {\n        "country": "IQ",\n        "iataCode": "BGW"\n    },\n    {\n        "country": "GB",\n        "iataCode": "BHX"\n    },\n    {\n        "country": "TH",\n        "iataCode": "BKK"\n    },\n    {\n        "country": "IT",\n        "iataCode": "BLQ"\n    },\n    {\n        "country": "IN",\n        "iataCode": "BLR"\n    },\n    {\n        "country": "AU",\n        "iataCode": "BNE"\n    },\n    {\n        "country": "IN",\n        "iataCode": "BOM"\n    },\n    {\n        "country": "US",\n        "iataCode": "BOS"\n    },\n    {\n        "country": "BE",\n        "iataCode": "BRU"\n    },\n    {\n        "country": "IQ",\n        "iataCode": "BSR"\n    },\n    {\n        "country": "HU",\n        "iataCode": "BUD"\n    },\n    {\n        "country": "EG",\n        "iataCode": "CAI"\n    },\n    {\n        "country": "CN",\n        "iataCode": "CAN"\n    },\n    {\n        "country": "IN",\n        "iataCode": "CCU"\n    },\n    {\n        "country": "FR",\n        "iataCode": "CDG"\n    },\n    {\n        "country": "PH",\n        "iataCode": "CEB"\n    },\n    {\n        "country": "ID",\n        "iataCode": "CGK"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "CHC"\n    },\n    {\n        "country": "GN",\n        "iataCode": "CKY"\n    },\n    {\n        "country": "LK",\n        "iataCode": "CMB"\n    },\n    {\n        "country": "MA",\n        "iataCode": "CMN"\n    },\n    {\n        "country": "IN",\n        "iataCode": "COK"\n    },\n    {\n        "country": "DK",\n        "iataCode": "CPH"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "CPT"\n    },\n    {\n        "country": "PH",\n        "iataCode": "CRK"\n    },\n    {\n        "country": "BD",\n        "iataCode": "DAC"\n    },\n    {\n        "country": "TZ",\n        "iataCode": "DAR"\n    },\n    {\n        "country": "IN",\n        "iataCode": "DEL"\n    },\n    {\n        "country": "US",\n        "iataCode": "DFW"\n    },\n    {\n        "country": "SN",\n        "iataCode": "DKR"\n    },\n    {\n        "country": "RU",\n        "iataCode": "DME"\n    },\n    {\n        "country": "SA",\n        "iataCode": "DMM"\n    },\n    {\n        "country": "ID",\n        "iataCode": "DPS"\n    },\n    {\n        "country": "SN",\n        "iataCode": "DSS"\n    },\n    {\n        "country": "IE",\n        "iataCode": "DUB"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "DUR"\n    },\n    {\n        "country": "DE",\n        "iataCode": "DUS"\n    },\n    {\n        "country": "AE",\n        "iataCode": "DXB"\n    },\n    {\n        "country": "UG",\n        "iataCode": "EBB"\n    },\n    {\n        "country": "GB",\n        "iataCode": "EDI"\n    },\n    {\n        "country": "US",\n        "iataCode": "EWR"\n    },\n    {\n        "country": "AR",\n        "iataCode": "EZE"\n    },\n    {\n        "country": "IT",\n        "iataCode": "FCO"\n    },\n    {\n        "country": "DE",\n        "iataCode": "FRA"\n    },\n    {\n        "country": "BR",\n        "iataCode": "GIG"\n    },\n    {\n        "country": "GB",\n        "iataCode": "GLA"\n    },\n    {\n        "country": "BR",\n        "iataCode": "GRU"\n    },\n    {\n        "country": "CH",\n        "iataCode": "GVA"\n    },\n    {\n        "country": "DE",\n        "iataCode": "HAM"\n    },\n    {\n        "country": "VN",\n        "iataCode": "HAN"\n    },\n    {\n        "country": "HK",\n        "iataCode": "HKG"\n    },\n    {\n        "country": "TH",\n        "iataCode": "HKT"\n    },\n    {\n        "country": "JP",\n        "iataCode": "HND"\n    },\n    {\n        "country": "ZW",\n        "iataCode": "HRE"\n    },\n    {\n        "country": "IN",\n        "iataCode": "HYD"\n    },\n    {\n        "country": "US",\n        "iataCode": "IAD"\n    },\n    {\n        "country": "US",\n        "iataCode": "IAH"\n    },\n    {\n        "country": "KR",\n        "iataCode": "ICN"\n    },\n    {\n        "country": "IR",\n        "iataCode": "IKA"\n    },\n    {\n        "country": "PK",\n        "iataCode": "ISB"\n    },\n    {\n        "country": "TR",\n        "iataCode": "IST"\n    },\n    {\n        "country": "SA",\n        "iataCode": "JED"\n    },\n    {\n        "country": "US",\n        "iataCode": "JFK"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "JNB"\n    },\n    {\n        "country": "AF",\n        "iataCode": "KBL"\n    },\n    {\n        "country": "PK",\n        "iataCode": "KHI"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KIX"\n    },\n    {\n        "country": "SD",\n        "iataCode": "KRT"\n    },\n    {\n        "country": "MY",\n        "iataCode": "KUL"\n    },\n    {\n        "country": "KW",\n        "iataCode": "KWI"\n    },\n    {\n        "country": "AO",\n        "iataCode": "LAD"\n    },\n    {\n        "country": "US",\n        "iataCode": "LAX"\n    },\n    {\n        "country": "CY",\n        "iataCode": "LCA"\n    },\n    {\n        "country": "RU",\n        "iataCode": "LED"\n    },\n    {\n        "country": "GB",\n        "iataCode": "LGW"\n    },\n    {\n        "country": "PK",\n        "iataCode": "LHE"\n    },\n    {\n        "country": "GB",\n        "iataCode": "LHR"\n    },\n    {\n        "country": "PT",\n        "iataCode": "LIS"\n    },\n    {\n        "country": "GB",\n        "iataCode": "LON"\n    },\n    {\n        "country": "NG",\n        "iataCode": "LOS"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "LUN"\n    },\n    {\n        "country": "FR",\n        "iataCode": "LYS"\n    },\n    {\n        "country": "IN",\n        "iataCode": "MAA"\n    },\n    {\n        "country": "ES",\n        "iataCode": "MAD"\n    },\n    {\n        "country": "GB",\n        "iataCode": "MAN"\n    },\n    {\n        "country": "US",\n        "iataCode": "MCO"\n    },\n    {\n        "country": "OM",\n        "iataCode": "MCT"\n    },\n    {\n        "country": "SA",\n        "iataCode": "MED"\n    },\n    {\n        "country": "AU",\n        "iataCode": "MEL"\n    },\n    {\n        "country": "MX",\n        "iataCode": "MEX"\n    },\n    {\n        "country": "US",\n        "iataCode": "MIA"\n    },\n    {\n        "country": "MT",\n        "iataCode": "MLA"\n    },\n    {\n        "country": "MV",\n        "iataCode": "MLE"\n    },\n    {\n        "country": "PH",\n        "iataCode": "MNL"\n    },\n    {\n        "country": "RU",\n        "iataCode": "MOW"\n    },\n    {\n        "country": "MU",\n        "iataCode": "MRU"\n    },\n    {\n        "country": "DE",\n        "iataCode": "MUC"\n    },\n    {\n        "country": "IT",\n        "iataCode": "MXP"\n    },\n    {\n        "country": "KE",\n        "iataCode": "NBO"\n    },\n    {\n        "country": "FR",\n        "iataCode": "NCE"\n    },\n    {\n        "country": "GB",\n        "iataCode": "NCL"\n    },\n    {\n        "country": "JP",\n        "iataCode": "NRT"\n    },\n    {\n        "country": "US",\n        "iataCode": "NYC"\n    },\n    {\n        "country": "PT",\n        "iataCode": "OPO"\n    },\n    {\n        "country": "US",\n        "iataCode": "ORD"\n    },\n    {\n        "country": "NO",\n        "iataCode": "OSL"\n    },\n    {\n        "country": "CN",\n        "iataCode": "PEK"\n    },\n    {\n        "country": "AU",\n        "iataCode": "PER"\n    },\n    {\n        "country": "PK",\n        "iataCode": "PEW"\n    },\n    {\n        "country": "KH",\n        "iataCode": "PNH"\n    },\n    {\n        "country": "CZ",\n        "iataCode": "PRG"\n    },\n    {\n        "country": "CN",\n        "iataCode": "PVG"\n    },\n    {\n        "country": "SA",\n        "iataCode": "RUH"\n    },\n    {\n        "country": "TR",\n        "iataCode": "SAW"\n    },\n    {\n        "country": "CL",\n        "iataCode": "SCL"\n    },\n    {\n        "country": "US",\n        "iataCode": "SEA"\n    },\n    {\n        "country": "SC",\n        "iataCode": "SEZ"\n    },\n    {\n        "country": "US",\n        "iataCode": "SFO"\n    },\n    {\n        "country": "VN",\n        "iataCode": "SGN"\n    },\n    {\n        "country": "SG",\n        "iataCode": "SIN"\n    },\n    {\n        "country": "PK",\n        "iataCode": "SKT"\n    },\n    {\n        "country": "GB",\n        "iataCode": "STN"\n    },\n    {\n        "country": "AU",\n        "iataCode": "SYD"\n    },\n    {\n        "country": "IL",\n        "iataCode": "TLV"\n    },\n    {\n        "country": "TW",\n        "iataCode": "TPE"\n    },\n    {\n        "country": "IN",\n        "iataCode": "TRV"\n    },\n    {\n        "country": "TN",\n        "iataCode": "TUN"\n    },\n    {\n        "country": "JP",\n        "iataCode": "TYO"\n    },\n    {\n        "country": "IT",\n        "iataCode": "VCE"\n    },\n    {\n        "country": "AT",\n        "iataCode": "VIE"\n    },\n    {\n        "country": "PL",\n        "iataCode": "WAW"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YYZ"\n    },\n    {\n        "country": "HR",\n        "iataCode": "ZAG"\n    },\n    {\n        "country": "CH",\n        "iataCode": "ZRH"\n    },\n    {\n        "country": "RU",\n        "iataCode": "AAQ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "AER"\n    },\n    {\n        "country": "KZ",\n        "iataCode": "ALA"\n    },\n    {\n        "country": "JO",\n        "iataCode": "AQJ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "ASF"\n    },\n    {\n        "country": "ER",\n        "iataCode": "ASM"\n    },\n    {\n        "country": "IR",\n        "iataCode": "AWZ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "BAX"\n    },\n    {\n        "country": "RS",\n        "iataCode": "BEG"\n    },\n    {\n        "country": "IR",\n        "iataCode": "BND"\n    },\n    {\n        "country": "RU",\n        "iataCode": "BTK"\n    },\n    {\n        "country": "SK",\n        "iataCode": "BTS"\n    },\n    {\n        "country": "GE",\n        "iataCode": "BUS"\n    },\n    {\n        "country": "IN",\n        "iataCode": "CCJ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "CEK"\n    },\n    {\n        "country": "CN",\n        "iataCode": "CGO"\n    },\n    {\n        "country": "BD",\n        "iataCode": "CGP"\n    },\n    {\n        "country": "KZ",\n        "iataCode": "CIT"\n    },\n    {\n        "country": "IT",\n        "iataCode": "CTA"\n    },\n    {\n        "country": "SY",\n        "iataCode": "DAM"\n    },\n    {\n        "country": "HR",\n        "iataCode": "DBV"\n    },\n    {\n        "country": "QA",\n        "iataCode": "DOH"\n    },\n    {\n        "country": "TJ",\n        "iataCode": "DYU"\n    },\n    {\n        "country": "IQ",\n        "iataCode": "EBL"\n    },\n    {\n        "country": "AM",\n        "iataCode": "EVN"\n    },\n    {\n        "country": "CD",\n        "iataCode": "FIH"\n    },\n    {\n        "country": "KG",\n        "iataCode": "FRU"\n    },\n    {\n        "country": "AZ",\n        "iataCode": "GBB"\n    },\n    {\n        "country": "RU",\n        "iataCode": "GOJ"\n    },\n    {\n        "country": "AZ",\n        "iataCode": "GYD"\n    },\n    {\n        "country": "SO",\n        "iataCode": "HGA"\n    },\n    {\n        "country": "LK",\n        "iataCode": "HRI"\n    },\n    {\n        "country": "RU",\n        "iataCode": "HTA"\n    },\n    {\n        "country": "UA",\n        "iataCode": "IEV"\n    },\n    {\n        "country": "IR",\n        "iataCode": "IFN"\n    },\n    {\n        "country": "RU",\n        "iataCode": "IKT"\n    },\n    {\n        "country": "CN",\n        "iataCode": "INC"\n    },\n    {\n        "country": "DJ",\n        "iataCode": "JIB"\n    },\n    {\n        "country": "TZ",\n        "iataCode": "JRO"\n    },\n    {\n        "country": "SS",\n        "iataCode": "JUB"\n    },\n    {\n        "country": "UA",\n        "iataCode": "KBP"\n    },\n    {\n        "country": "RU",\n        "iataCode": "KEJ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "KGD"\n    },\n    {\n        "country": "RU",\n        "iataCode": "KJA"\n    },\n    {\n        "country": "PL",\n        "iataCode": "KRK"\n    },\n    {\n        "country": "RU",\n        "iataCode": "KRR"\n    },\n    {\n        "country": "NP",\n        "iataCode": "KTM"\n    },\n    {\n        "country": "RU",\n        "iataCode": "KUF"\n    },\n    {\n        "country": "GE",\n        "iataCode": "KUT"\n    },\n    {\n        "country": "RU",\n        "iataCode": "KZN"\n    },\n    {\n        "country": "SI",\n        "iataCode": "LJU"\n    },\n    {\n        "country": "IN",\n        "iataCode": "LKO"\n    },\n    {\n        "country": "IR",\n        "iataCode": "LRR"\n    },\n    {\n        "country": "PK",\n        "iataCode": "LYP"\n    },\n    {\n        "country": "RU",\n        "iataCode": "MCX"\n    },\n    {\n        "country": "IR",\n        "iataCode": "MHD"\n    },\n    {\n        "country": "RU",\n        "iataCode": "MRV"\n    },\n    {\n        "country": "PK",\n        "iataCode": "MUX"\n    },\n    {\n        "country": "IT",\n        "iataCode": "NAP"\n    },\n    {\n        "country": "RU",\n        "iataCode": "NBC"\n    },\n    {\n        "country": "RU",\n        "iataCode": "NJC"\n    },\n    {\n        "country": "IQ",\n        "iataCode": "NJF"\n    },\n    {\n        "country": "RU",\n        "iataCode": "NOZ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "NUX"\n    },\n    {\n        "country": "RU",\n        "iataCode": "NYM"\n    },\n    {\n        "country": "UA",\n        "iataCode": "ODS"\n    },\n    {\n        "country": "RU",\n        "iataCode": "OGZ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "OMS"\n    },\n    {\n        "country": "RO",\n        "iataCode": "OTP"\n    },\n    {\n        "country": "RU",\n        "iataCode": "OVB"\n    },\n    {\n        "country": "RU",\n        "iataCode": "PEE"\n    },\n    {\n        "country": "MY",\n        "iataCode": "PEN"\n    },\n    {\n        "country": "SD",\n        "iataCode": "PZU"\n    },\n    {\n        "country": "RU",\n        "iataCode": "RGK"\n    },\n    {\n        "country": "MM",\n        "iataCode": "RGN"\n    },\n    {\n        "country": "RU",\n        "iataCode": "ROV"\n    },\n    {\n        "country": "YE",\n        "iataCode": "SAH"\n    },\n    {\n        "country": "BA",\n        "iataCode": "SJJ"\n    },\n    {\n        "country": "GR",\n        "iataCode": "SKG"\n    },\n    {\n        "country": "MK",\n        "iataCode": "SKP"\n    },\n    {\n        "country": "OM",\n        "iataCode": "SLL"\n    },\n    {\n        "country": "RU",\n        "iataCode": "SLY"\n    },\n    {\n        "country": "BG",\n        "iataCode": "SOF"\n    },\n    {\n        "country": "RU",\n        "iataCode": "STW"\n    },\n    {\n        "country": "RU",\n        "iataCode": "SVO"\n    },\n    {\n        "country": "RU",\n        "iataCode": "SVX"\n    },\n    {\n        "country": "IR",\n        "iataCode": "SYZ"\n    },\n    {\n        "country": "UZ",\n        "iataCode": "TAS"\n    },\n    {\n        "country": "GE",\n        "iataCode": "TBS"\n    },\n    {\n        "country": "ME",\n        "iataCode": "TGD"\n    },\n    {\n        "country": "LY",\n        "iataCode": "TIP"\n    },\n    {\n        "country": "RU",\n        "iataCode": "TJM"\n    },\n    {\n        "country": "RU",\n        "iataCode": "TOF"\n    },\n    {\n        "country": "PK",\n        "iataCode": "UET"\n    },\n    {\n        "country": "RU",\n        "iataCode": "UFA"\n    },\n    {\n        "country": "RU",\n        "iataCode": "UUD"\n    },\n    {\n        "country": "RU",\n        "iataCode": "VKO"\n    },\n    {\n        "country": "RU",\n        "iataCode": "VOG"\n    },\n    {\n        "country": "RU",\n        "iataCode": "VOZ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "YKS"\n    },\n    {\n        "country": "TZ",\n        "iataCode": "ZNZ"\n    },\n    {\n        "country": "BD",\n        "iataCode": "ZYL"\n    },\n    {\n        "country": "DK",\n        "iataCode": "AAL"\n    },\n    {\n        "country": "DK",\n        "iataCode": "AAR"\n    },\n    {\n        "country": "US",\n        "iataCode": "ABI"\n    },\n    {\n        "country": "US",\n        "iataCode": "ABQ"\n    },\n    {\n        "country": "GB",\n        "iataCode": "ABZ"\n    },\n    {\n        "country": "MX",\n        "iataCode": "ACA"\n    },\n    {\n        "country": "ES",\n        "iataCode": "ACE"\n    },\n    {\n        "country": "US",\n        "iataCode": "ACK"\n    },\n    {\n        "country": "TR",\n        "iataCode": "ADA"\n    },\n    {\n        "country": "CO",\n        "iataCode": "ADZ"\n    },\n    {\n        "country": "NO",\n        "iataCode": "AES"\n    },\n    {\n        "country": "MA",\n        "iataCode": "AGA"\n    },\n    {\n        "country": "SE",\n        "iataCode": "AGH"\n    },\n    {\n        "country": "ES",\n        "iataCode": "AGP"\n    },\n    {\n        "country": "PY",\n        "iataCode": "AGT"\n    },\n    {\n        "country": "SA",\n        "iataCode": "AHB"\n    },\n    {\n        "country": "IT",\n        "iataCode": "AHO"\n    },\n    {\n        "country": "SA",\n        "iataCode": "AJF"\n    },\n    {\n        "country": "BR",\n        "iataCode": "AJU"\n    },\n    {\n        "country": "US",\n        "iataCode": "ALB"\n    },\n    {\n        "country": "ES",\n        "iataCode": "ALC"\n    },\n    {\n        "country": "NO",\n        "iataCode": "ALF"\n    },\n    {\n        "country": "IT",\n        "iataCode": "ALL"\n    },\n    {\n        "country": "SY",\n        "iataCode": "ALP"\n    },\n    {\n        "country": "US",\n        "iataCode": "ALW"\n    },\n    {\n        "country": "ID",\n        "iataCode": "AMQ"\n    },\n    {\n        "country": "US",\n        "iataCode": "ANC"\n    },\n    {\n        "country": "AG",\n        "iataCode": "ANU"\n    },\n    {\n        "country": "IT",\n        "iataCode": "AOI"\n    },\n    {\n        "country": "JP",\n        "iataCode": "AOJ"\n    },\n    {\n        "country": "GR",\n        "iataCode": "AOK"\n    },\n    {\n        "country": "MY",\n        "iataCode": "AOR"\n    },\n    {\n        "country": "MZ",\n        "iataCode": "APL"\n    },\n    {\n        "country": "RU",\n        "iataCode": "ARH"\n    },\n    {\n        "country": "TR",\n        "iataCode": "ASR"\n    },\n    {\n        "country": "PY",\n        "iataCode": "ASU"\n    },\n    {\n        "country": "EG",\n        "iataCode": "ASW"\n    },\n    {\n        "country": "US",\n        "iataCode": "ATL"\n    },\n    {\n        "country": "IN",\n        "iataCode": "ATQ"\n    },\n    {\n        "country": "EG",\n        "iataCode": "ATZ"\n    },\n    {\n        "country": "AW",\n        "iataCode": "AUA"\n    },\n    {\n        "country": "US",\n        "iataCode": "AUS"\n    },\n    {\n        "country": "US",\n        "iataCode": "AVL"\n    },\n    {\n        "country": "AU",\n        "iataCode": "AVV"\n    },\n    {\n        "country": "GR",\n        "iataCode": "AXD"\n    },\n    {\n        "country": "JP",\n        "iataCode": "AXT"\n    },\n    {\n        "country": "TR",\n        "iataCode": "AYT"\n    },\n    {\n        "country": "DO",\n        "iataCode": "AZS"\n    },\n    {\n        "country": "CO",\n        "iataCode": "BAQ"\n    },\n    {\n        "country": "CN",\n        "iataCode": "BAV"\n    },\n    {\n        "country": "IN",\n        "iataCode": "BBI"\n    },\n    {\n        "country": "BW",\n        "iataCode": "BBK"\n    },\n    {\n        "country": "BM",\n        "iataCode": "BDA"\n    },\n    {\n        "country": "ID",\n        "iataCode": "BDJ"\n    },\n    {\n        "country": "US",\n        "iataCode": "BDL"\n    },\n    {\n        "country": "ID",\n        "iataCode": "BDO"\n    },\n    {\n        "country": "IN",\n        "iataCode": "BDQ"\n    },\n    {\n        "country": "IT",\n        "iataCode": "BDS"\n    },\n    {\n        "country": "GB",\n        "iataCode": "BEB"\n    },\n    {\n        "country": "BR",\n        "iataCode": "BEL"\n    },\n    {\n        "country": "LY",\n        "iataCode": "BEN"\n    },\n    {\n        "country": "DE",\n        "iataCode": "BER"\n    },\n    {\n        "country": "MZ",\n        "iataCode": "BEW"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "BFN"\n    },\n    {\n        "country": "CO",\n        "iataCode": "BGA"\n    },\n    {\n        "country": "BB",\n        "iataCode": "BGI"\n    },\n    {\n        "country": "NO",\n        "iataCode": "BGO"\n    },\n    {\n        "country": "US",\n        "iataCode": "BGR"\n    },\n    {\n        "country": "GB",\n        "iataCode": "BHD"\n    },\n    {\n        "country": "IN",\n        "iataCode": "BHO"\n    },\n    {\n        "country": "US",\n        "iataCode": "BIL"\n    },\n    {\n        "country": "ES",\n        "iataCode": "BIO"\n    },\n    {\n        "country": "GM",\n        "iataCode": "BJL"\n    },\n    {\n        "country": "MX",\n        "iataCode": "BJX"\n    },\n    {\n        "country": "ES",\n        "iataCode": "BJZ"\n    },\n    {\n        "country": "MY",\n        "iataCode": "BKI"\n    },\n    {\n        "country": "ML",\n        "iataCode": "BKO"\n    },\n    {\n        "country": "US",\n        "iataCode": "BLI"\n    },\n    {\n        "country": "DK",\n        "iataCode": "BLL"\n    },\n    {\n        "country": "MW",\n        "iataCode": "BLZ"\n    },\n    {\n        "country": "VN",\n        "iataCode": "BMV"\n    },\n    {\n        "country": "US",\n        "iataCode": "BNA"\n    },\n    {\n        "country": "CO",\n        "iataCode": "BOG"\n    },\n    {\n        "country": "GB",\n        "iataCode": "BOH"\n    },\n    {\n        "country": "US",\n        "iataCode": "BOI"\n    },\n    {\n        "country": "NO",\n        "iataCode": "BOO"\n    },\n    {\n        "country": "ID",\n        "iataCode": "BPN"\n    },\n    {\n        "country": "BR",\n        "iataCode": "BPS"\n    },\n    {\n        "country": "PR",\n        "iataCode": "BQN"\n    },\n    {\n        "country": "IT",\n        "iataCode": "BRI"\n    },\n    {\n        "country": "GB",\n        "iataCode": "BRR"\n    },\n    {\n        "country": "BR",\n        "iataCode": "BSB"\n    },\n    {\n        "country": "ID",\n        "iataCode": "BTH"\n    },\n    {\n        "country": "MY",\n        "iataCode": "BTU"\n    },\n    {\n        "country": "US",\n        "iataCode": "BTV"\n    },\n    {\n        "country": "US",\n        "iataCode": "BUF"\n    },\n    {\n        "country": "ZW",\n        "iataCode": "BUQ"\n    },\n    {\n        "country": "US",\n        "iataCode": "BUR"\n    },\n    {\n        "country": "US",\n        "iataCode": "BWI"\n    },\n    {\n        "country": "HR",\n        "iataCode": "BWK"\n    },\n    {\n        "country": "BN",\n        "iataCode": "BWN"\n    },\n    {\n        "country": "CI",\n        "iataCode": "BYK"\n    },\n    {\n        "country": "US",\n        "iataCode": "BZN"\n    },\n    {\n        "country": "IT",\n        "iataCode": "BZO"\n    },\n    {\n        "country": "BR",\n        "iataCode": "CAC"\n    },\n    {\n        "country": "US",\n        "iataCode": "CAE"\n    },\n    {\n        "country": "IT",\n        "iataCode": "CAG"\n    },\n    {\n        "country": "GB",\n        "iataCode": "CAL"\n    },\n    {\n        "country": "BO",\n        "iataCode": "CBB"\n    },\n    {\n        "country": "VE",\n        "iataCode": "CCS"\n    },\n    {\n        "country": "TH",\n        "iataCode": "CEI"\n    },\n    {\n        "country": "IE",\n        "iataCode": "CFN"\n    },\n    {\n        "country": "GR",\n        "iataCode": "CFU"\n    },\n    {\n        "country": "BR",\n        "iataCode": "CGB"\n    },\n    {\n        "country": "DE",\n        "iataCode": "CGN"\n    },\n    {\n        "country": "CN",\n        "iataCode": "CGQ"\n    },\n    {\n        "country": "BR",\n        "iataCode": "CGR"\n    },\n    {\n        "country": "US",\n        "iataCode": "CHO"\n    },\n    {\n        "country": "GR",\n        "iataCode": "CHQ"\n    },\n    {\n        "country": "US",\n        "iataCode": "CHS"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "CIP"\n    },\n    {\n        "country": "IN",\n        "iataCode": "CJB"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CJS"\n    },\n    {\n        "country": "CN",\n        "iataCode": "CKG"\n    },\n    {\n        "country": "US",\n        "iataCode": "CLE"\n    },\n    {\n        "country": "CO",\n        "iataCode": "CLO"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CLQ"\n    },\n    {\n        "country": "US",\n        "iataCode": "CLT"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CME"\n    },\n    {\n        "country": "US",\n        "iataCode": "CMH"\n    },\n    {\n        "country": "CR",\n        "iataCode": "CMW"\n    },\n    {\n        "country": "BR",\n        "iataCode": "CNF"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CPE"\n    },\n    {\n        "country": "BR",\n        "iataCode": "CPV"\n    },\n    {\n        "country": "US",\n        "iataCode": "CRP"\n    },\n    {\n        "country": "US",\n        "iataCode": "CRW"\n    },\n    {\n        "country": "CN",\n        "iataCode": "CSX"\n    },\n    {\n        "country": "CO",\n        "iataCode": "CTG"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CTM"\n    },\n    {\n        "country": "JP",\n        "iataCode": "CTS"\n    },\n    {\n        "country": "CN",\n        "iataCode": "CTU"\n    },\n    {\n        "country": "CO",\n        "iataCode": "CUC"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CUL"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CUN"\n    },\n    {\n        "country": "CW",\n        "iataCode": "CUR"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CUU"\n    },\n    {\n        "country": "US",\n        "iataCode": "CVG"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CVM"\n    },\n    {\n        "country": "BR",\n        "iataCode": "CWB"\n    },\n    {\n        "country": "GB",\n        "iataCode": "CWL"\n    },\n    {\n        "country": "VN",\n        "iataCode": "CXR"\n    },\n    {\n        "country": "MX",\n        "iataCode": "CZM"\n    },\n    {\n        "country": "US",\n        "iataCode": "DAB"\n    },\n    {\n        "country": "VN",\n        "iataCode": "DAD"\n    },\n    {\n        "country": "US",\n        "iataCode": "DAY"\n    },\n    {\n        "country": "US",\n        "iataCode": "DCA"\n    },\n    {\n        "country": "IN",\n        "iataCode": "DED"\n    },\n    {\n        "country": "US",\n        "iataCode": "DEN"\n    },\n    {\n        "country": "IN",\n        "iataCode": "DHM"\n    },\n    {\n        "country": "QA",\n        "iataCode": "DIA"\n    },\n    {\n        "country": "IN",\n        "iataCode": "DIB"\n    },\n    {\n        "country": "TR",\n        "iataCode": "DIY"\n    },\n    {\n        "country": "CM",\n        "iataCode": "DLA"\n    },\n    {\n        "country": "CN",\n        "iataCode": "DLC"\n    },\n    {\n        "country": "VN",\n        "iataCode": "DLI"\n    },\n    {\n        "country": "TR",\n        "iataCode": "DLM"\n    },\n    {\n        "country": "GB",\n        "iataCode": "DND"\n    },\n    {\n        "country": "UA",\n        "iataCode": "DNK"\n    },\n    {\n        "country": "TR",\n        "iataCode": "DNZ"\n    },\n    {\n        "country": "UA",\n        "iataCode": "DOK"\n    },\n    {\n        "country": "BR",\n        "iataCode": "DOU"\n    },\n    {\n        "country": "DE",\n        "iataCode": "DRS"\n    },\n    {\n        "country": "US",\n        "iataCode": "DSM"\n    },\n    {\n        "country": "ES",\n        "iataCode": "EAS"\n    },\n    {\n        "country": "US",\n        "iataCode": "EAT"\n    },\n    {\n        "country": "TR",\n        "iataCode": "ECN"\n    },\n    {\n        "country": "GR",\n        "iataCode": "EFL"\n    },\n    {\n        "country": "US",\n        "iataCode": "ELP"\n    },\n    {\n        "country": "SA",\n        "iataCode": "ELQ"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "ELS"\n    },\n    {\n        "country": "GB",\n        "iataCode": "EMA"\n    },\n    {\n        "country": "ID",\n        "iataCode": "ENE"\n    },\n    {\n        "country": "TR",\n        "iataCode": "ERZ"\n    },\n    {\n        "country": "US",\n        "iataCode": "EUG"\n    },\n    {\n        "country": "NO",\n        "iataCode": "EVE"\n    },\n    {\n        "country": "GB",\n        "iataCode": "EXT"\n    },\n    {\n        "country": "US",\n        "iataCode": "EYW"\n    },\n    {\n        "country": "US",\n        "iataCode": "FAI"\n    },\n    {\n        "country": "US",\n        "iataCode": "FAT"\n    },\n    {\n        "country": "CG",\n        "iataCode": "FBM"\n    },\n    {\n        "country": "US",\n        "iataCode": "FCA"\n    },\n    {\n        "country": "MA",\n        "iataCode": "FEZ"\n    },\n    {\n        "country": "DE",\n        "iataCode": "FKB"\n    },\n    {\n        "country": "JP",\n        "iataCode": "FKS"\n    },\n    {\n        "country": "US",\n        "iataCode": "FLL"\n    },\n    {\n        "country": "BR",\n        "iataCode": "FLN"\n    },\n    {\n        "country": "US",\n        "iataCode": "FLO"\n    },\n    {\n        "country": "IT",\n        "iataCode": "FLR"\n    },\n    {\n        "country": "DE",\n        "iataCode": "FMO"\n    },\n    {\n        "country": "SL",\n        "iataCode": "FNA"\n    },\n    {\n        "country": "CN",\n        "iataCode": "FOC"\n    },\n    {\n        "country": "BR",\n        "iataCode": "FOR"\n    },\n    {\n        "country": "NO",\n        "iataCode": "FRO"\n    },\n    {\n        "country": "ES",\n        "iataCode": "FUE"\n    },\n    {\n        "country": "JP",\n        "iataCode": "FUK"\n    },\n    {\n        "country": "IN",\n        "iataCode": "GAU"\n    },\n    {\n        "country": "GB",\n        "iataCode": "GCI"\n    },\n    {\n        "country": "KY",\n        "iataCode": "GCM"\n    },\n    {\n        "country": "MX",\n        "iataCode": "GDL"\n    },\n    {\n        "country": "PL",\n        "iataCode": "GDN"\n    },\n    {\n        "country": "RU",\n        "iataCode": "GDZ"\n    },\n    {\n        "country": "US",\n        "iataCode": "GEG"\n    },\n    {\n        "country": "SA",\n        "iataCode": "GIZ"\n    },\n    {\n        "country": "GD",\n        "iataCode": "GND"\n    },\n    {\n        "country": "TR",\n        "iataCode": "GNY"\n    },\n    {\n        "country": "IT",\n        "iataCode": "GOA"\n    },\n    {\n        "country": "IN",\n        "iataCode": "GOI"\n    },\n    {\n        "country": "IN",\n        "iataCode": "GOP"\n    },\n    {\n        "country": "SE",\n        "iataCode": "GOT"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "GRJ"\n    },\n    {\n        "country": "ES",\n        "iataCode": "GRX"\n    },\n    {\n        "country": "US",\n        "iataCode": "GSO"\n    },\n    {\n        "country": "US",\n        "iataCode": "GTF"\n    },\n    {\n        "country": "GT",\n        "iataCode": "GUA"\n    },\n    {\n        "country": "IN",\n        "iataCode": "GWL"\n    },\n    {\n        "country": "CN",\n        "iataCode": "GXH"\n    },\n    {\n        "country": "EC",\n        "iataCode": "GYE"\n    },\n    {\n        "country": "BR",\n        "iataCode": "GYN"\n    },\n    {\n        "country": "TR",\n        "iataCode": "GZT"\n    },\n    {\n        "country": "JP",\n        "iataCode": "HAC"\n    },\n    {\n        "country": "DE",\n        "iataCode": "HAJ"\n    },\n    {\n        "country": "CN",\n        "iataCode": "HAK"\n    },\n    {\n        "country": "SA",\n        "iataCode": "HAS"\n    },\n    {\n        "country": "NO",\n        "iataCode": "HAU"\n    },\n    {\n        "country": "CU",\n        "iataCode": "HAV"\n    },\n    {\n        "country": "EG",\n        "iataCode": "HBE"\n    },\n    {\n        "country": "IN",\n        "iataCode": "HBX"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "HDS"\n    },\n    {\n        "country": "TH",\n        "iataCode": "HDY"\n    },\n    {\n        "country": "GR",\n        "iataCode": "HER"\n    },\n    {\n        "country": "CN",\n        "iataCode": "HET"\n    },\n    {\n        "country": "CN",\n        "iataCode": "HFE"\n    },\n    {\n        "country": "CN",\n        "iataCode": "HGH"\n    },\n    {\n        "country": "CI",\n        "iataCode": "HGO"\n    },\n    {\n        "country": "JP",\n        "iataCode": "HIJ"\n    },\n    {\n        "country": "JP",\n        "iataCode": "HKD"\n    },\n    {\n        "country": "EG",\n        "iataCode": "HMB"\n    },\n    {\n        "country": "MX",\n        "iataCode": "HMO"\n    },\n    {\n        "country": "US",\n        "iataCode": "HNL"\n    },\n    {\n        "country": "SA",\n        "iataCode": "HOF"\n    },\n    {\n        "country": "CU",\n        "iataCode": "HOG"\n    },\n    {\n        "country": "VN",\n        "iataCode": "HPH"\n    },\n    {\n        "country": "US",\n        "iataCode": "HPN"\n    },\n    {\n        "country": "CN",\n        "iataCode": "HRB"\n    },\n    {\n        "country": "EG",\n        "iataCode": "HRG"\n    },\n    {\n        "country": "UA",\n        "iataCode": "HRK"\n    },\n    {\n        "country": "JP",\n        "iataCode": "HSG"\n    },\n    {\n        "country": "TR",\n        "iataCode": "HTY"\n    },\n    {\n        "country": "VN",\n        "iataCode": "HUI"\n    },\n    {\n        "country": "MX",\n        "iataCode": "HUX"\n    },\n    {\n        "country": "US",\n        "iataCode": "HYA"\n    },\n    {\n        "country": "ES",\n        "iataCode": "IBZ"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IDR"\n    },\n    {\n        "country": "BR",\n        "iataCode": "IGU"\n    },\n    {\n        "country": "GB",\n        "iataCode": "ILY"\n    },\n    {\n        "country": "BR",\n        "iataCode": "IMP"\n    },\n    {\n        "country": "US",\n        "iataCode": "IND"\n    },\n    {\n        "country": "GB",\n        "iataCode": "INV"\n    },\n    {\n        "country": "GR",\n        "iataCode": "IOA"\n    },\n    {\n        "country": "IM",\n        "iataCode": "IOM"\n    },\n    {\n        "country": "BR",\n        "iataCode": "IOS"\n    },\n    {\n        "country": "JP",\n        "iataCode": "IWJ"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXA"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXB"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXC"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXD"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXE"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXG"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXJ"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXL"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXM"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXR"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXS"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXU"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXY"\n    },\n    {\n        "country": "IN",\n        "iataCode": "IXZ"\n    },\n    {\n        "country": "MX",\n        "iataCode": "IZT"\n    },\n    {\n        "country": "IN",\n        "iataCode": "JAI"\n    },\n    {\n        "country": "US",\n        "iataCode": "JAX"\n    },\n    {\n        "country": "IN",\n        "iataCode": "JDH"\n    },\n    {\n        "country": "BR",\n        "iataCode": "JDO"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "JEK"\n    },\n    {\n        "country": "GB",\n        "iataCode": "JER"\n    },\n    {\n        "country": "MY",\n        "iataCode": "JHB"\n    },\n    {\n        "country": "GR",\n        "iataCode": "JIK"\n    },\n    {\n        "country": "BR",\n        "iataCode": "JJD"\n    },\n    {\n        "country": "GR",\n        "iataCode": "JKH"\n    },\n    {\n        "country": "IN",\n        "iataCode": "JLR"\n    },\n    {\n        "country": "US",\n        "iataCode": "JNU"\n    },\n    {\n        "country": "GR",\n        "iataCode": "JNX"\n    },\n    {\n        "country": "ID",\n        "iataCode": "JOG"\n    },\n    {\n        "country": "BR",\n        "iataCode": "JOI"\n    },\n    {\n        "country": "BR",\n        "iataCode": "JPA"\n    },\n    {\n        "country": "IN",\n        "iataCode": "JSA"\n    },\n    {\n        "country": "GR",\n        "iataCode": "JSH"\n    },\n    {\n        "country": "GR",\n        "iataCode": "JSI"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "KAA"\n    },\n    {\n        "country": "MY",\n        "iataCode": "KBR"\n    },\n    {\n        "country": "TH",\n        "iataCode": "KBV"\n    },\n    {\n        "country": "MY",\n        "iataCode": "KCH"\n    },\n    {\n        "country": "IS",\n        "iataCode": "KEF"\n    },\n    {\n        "country": "CI",\n        "iataCode": "KEO"\n    },\n    {\n        "country": "RW",\n        "iataCode": "KGL"\n    },\n    {\n        "country": "GR",\n        "iataCode": "KGS"\n    },\n    {\n        "country": "TW",\n        "iataCode": "KHH"\n    },\n    {\n        "country": "CN",\n        "iataCode": "KHN"\n    },\n    {\n        "country": "RU",\n        "iataCode": "KHV"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "KIM"\n    },\n    {\n        "country": "JM",\n        "iataCode": "KIN"\n    },\n    {\n        "country": "GR",\n        "iataCode": "KIT"\n    },\n    {\n        "country": "MD",\n        "iataCode": "KIV"\n    },\n    {\n        "country": "TH",\n        "iataCode": "KKC"\n    },\n    {\n        "country": "NO",\n        "iataCode": "KKN"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KKX"\n    },\n    {\n        "country": "SE",\n        "iataCode": "KLR"\n    },\n    {\n        "country": "CN",\n        "iataCode": "KMG"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KMI"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KMJ"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KMQ"\n    },\n    {\n        "country": "ID",\n        "iataCode": "KNO"\n    },\n    {\n        "country": "IN",\n        "iataCode": "KNU"\n    },\n    {\n        "country": "US",\n        "iataCode": "KOA"\n    },\n    {\n        "country": "ID",\n        "iataCode": "KOE"\n    },\n    {\n        "country": "GB",\n        "iataCode": "KOI"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KOJ"\n    },\n    {\n        "country": "KH",\n        "iataCode": "KOS"\n    },\n    {\n        "country": "SE",\n        "iataCode": "KRN"\n    },\n    {\n        "country": "DK",\n        "iataCode": "KRP"\n    },\n    {\n        "country": "NO",\n        "iataCode": "KRS"\n    },\n    {\n        "country": "NO",\n        "iataCode": "KSU"\n    },\n    {\n        "country": "US",\n        "iataCode": "KTN"\n    },\n    {\n        "country": "PL",\n        "iataCode": "KTW"\n    },\n    {\n        "country": "MY",\n        "iataCode": "KUA"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KUH"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KUM"\n    },\n    {\n        "country": "GR",\n        "iataCode": "KVA"\n    },\n    {\n        "country": "CN",\n        "iataCode": "KWE"\n    },\n    {\n        "country": "CN",\n        "iataCode": "KWL"\n    },\n    {\n        "country": "TR",\n        "iataCode": "KYA"\n    },\n    {\n        "country": "US",\n        "iataCode": "LAS"\n    },\n    {\n        "country": "GB",\n        "iataCode": "LBA"\n    },\n    {\n        "country": "ID",\n        "iataCode": "LBJ"\n    },\n    {\n        "country": "MY",\n        "iataCode": "LBU"\n    },\n    {\n        "country": "GA",\n        "iataCode": "LBV"\n    },\n    {\n        "country": "ES",\n        "iataCode": "LCG"\n    },\n    {\n        "country": "BR",\n        "iataCode": "LDB"\n    },\n    {\n        "country": "GB",\n        "iataCode": "LDY"\n    },\n    {\n        "country": "ES",\n        "iataCode": "LEI"\n    },\n    {\n        "country": "DE",\n        "iataCode": "LEJ"\n    },\n    {\n        "country": "ES",\n        "iataCode": "LEN"\n    },\n    {\n        "country": "US",\n        "iataCode": "LEX"\n    },\n    {\n        "country": "US",\n        "iataCode": "LFT"\n    },\n    {\n        "country": "US",\n        "iataCode": "LGA"\n    },\n    {\n        "country": "US",\n        "iataCode": "LGB"\n    },\n    {\n        "country": "MY",\n        "iataCode": "LGK"\n    },\n    {\n        "country": "CN",\n        "iataCode": "LHW"\n    },\n    {\n        "country": "US",\n        "iataCode": "LIH"\n    },\n    {\n        "country": "PE",\n        "iataCode": "LIM"\n    },\n    {\n        "country": "CR",\n        "iataCode": "LIR"\n    },\n    {\n        "country": "SE",\n        "iataCode": "LLA"\n    },\n    {\n        "country": "MW",\n        "iataCode": "LLW"\n    },\n    {\n        "country": "ID",\n        "iataCode": "LOP"\n    },\n    {\n        "country": "ES",\n        "iataCode": "LPA"\n    },\n    {\n        "country": "BO",\n        "iataCode": "LPB"\n    },\n    {\n        "country": "LA",\n        "iataCode": "LPQ"\n    },\n    {\n        "country": "TH",\n        "iataCode": "LPT"\n    },\n    {\n        "country": "US",\n        "iataCode": "LRD"\n    },\n    {\n        "country": "DO",\n        "iataCode": "LRM"\n    },\n    {\n        "country": "GR",\n        "iataCode": "LRS"\n    },\n    {\n        "country": "GB",\n        "iataCode": "LSI"\n    },\n    {\n        "country": "SY",\n        "iataCode": "LTK"\n    },\n    {\n        "country": "MX",\n        "iataCode": "LTO"\n    },\n    {\n        "country": "LU",\n        "iataCode": "LUX"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "LVI"\n    },\n    {\n        "country": "UA",\n        "iataCode": "LWO"\n    },\n    {\n        "country": "US",\n        "iataCode": "LWS"\n    },\n    {\n        "country": "EG",\n        "iataCode": "LXR"\n    },\n    {\n        "country": "GR",\n        "iataCode": "LXS"\n    },\n    {\n        "country": "CN",\n        "iataCode": "LYA"\n    },\n    {\n        "country": "NO",\n        "iataCode": "LYR"\n    },\n    {\n        "country": "MX",\n        "iataCode": "LZC"\n    },\n    {\n        "country": "CN",\n        "iataCode": "LZH"\n    },\n    {\n        "country": "ES",\n        "iataCode": "MAH"\n    },\n    {\n        "country": "BR",\n        "iataCode": "MAO"\n    },\n    {\n        "country": "VE",\n        "iataCode": "MAR"\n    },\n    {\n        "country": "KE",\n        "iataCode": "MBA"\n    },\n    {\n        "country": "JM",\n        "iataCode": "MBJ"\n    },\n    {\n        "country": "US",\n        "iataCode": "MCI"\n    },\n    {\n        "country": "MC",\n        "iataCode": "MCM"\n    },\n    {\n        "country": "BR",\n        "iataCode": "MCP"\n    },\n    {\n        "country": "AU",\n        "iataCode": "MCY"\n    },\n    {\n        "country": "BR",\n        "iataCode": "MCZ"\n    },\n    {\n        "country": "ID",\n        "iataCode": "MDC"\n    },\n    {\n        "country": "CC",\n        "iataCode": "MDE"\n    },\n    {\n        "country": "MM",\n        "iataCode": "MDL"\n    },\n    {\n        "country": "US",\n        "iataCode": "MDT"\n    },\n    {\n        "country": "US",\n        "iataCode": "MEM"\n    },\n    {\n        "country": "US",\n        "iataCode": "MFE"\n    },\n    {\n        "country": "US",\n        "iataCode": "MFR"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "MFU"\n    },\n    {\n        "country": "NI",\n        "iataCode": "MGA"\n    },\n    {\n        "country": "BR",\n        "iataCode": "MGF"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "MGH"\n    },\n    {\n        "country": "SO",\n        "iataCode": "MGQ"\n    },\n    {\n        "country": "US",\n        "iataCode": "MHT"\n    },\n    {\n        "country": "MX",\n        "iataCode": "MID"\n    },\n    {\n        "country": "CN",\n        "iataCode": "MIG"\n    },\n    {\n        "country": "CI",\n        "iataCode": "MJC"\n    },\n    {\n        "country": "GR",\n        "iataCode": "MJT"\n    },\n    {\n        "country": "ES",\n        "iataCode": "MJV"\n    },\n    {\n        "country": "US",\n        "iataCode": "MKE"\n    },\n    {\n        "country": "ES",\n        "iataCode": "MLN"\n    },\n    {\n        "country": "GR",\n        "iataCode": "MLO"\n    },\n    {\n        "country": "TR",\n        "iataCode": "MLX"\n    },\n    {\n        "country": "GB",\n        "iataCode": "MME"\n    },\n    {\n        "country": "US",\n        "iataCode": "MMH"\n    },\n    {\n        "country": "SE",\n        "iataCode": "MMX"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "MNR"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "MNS"\n    },\n    {\n        "country": "BR",\n        "iataCode": "MOC"\n    },\n    {\n        "country": "NO",\n        "iataCode": "MOL"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "MQP"\n    },\n    {\n        "country": "FR",\n        "iataCode": "MRS"\n    },\n    {\n        "country": "US",\n        "iataCode": "MRY"\n    },\n    {\n        "country": "US",\n        "iataCode": "MSO"\n    },\n    {\n        "country": "US",\n        "iataCode": "MSP"\n    },\n    {\n        "country": "LS",\n        "iataCode": "MSU"\n    },\n    {\n        "country": "US",\n        "iataCode": "MSY"\n    },\n    {\n        "country": "MX",\n        "iataCode": "MTY"\n    },\n    {\n        "country": "BW",\n        "iataCode": "MUB"\n    },\n    {\n        "country": "UY",\n        "iataCode": "MVD"\n    },\n    {\n        "country": "US",\n        "iataCode": "MVY"\n    },\n    {\n        "country": "TZ",\n        "iataCode": "MWZ"\n    },\n    {\n        "country": "JP",\n        "iataCode": "MYE"\n    },\n    {\n        "country": "JP",\n        "iataCode": "MYJ"\n    },\n    {\n        "country": "US",\n        "iataCode": "MYR"\n    },\n    {\n        "country": "MY",\n        "iataCode": "MYY"\n    },\n    {\n        "country": "MX",\n        "iataCode": "MZT"\n    },\n    {\n        "country": "IN",\n        "iataCode": "NAG"\n    },\n    {\n        "country": "FJ",\n        "iataCode": "NAN"\n    },\n    {\n        "country": "BS",\n        "iataCode": "NAS"\n    },\n    {\n        "country": "BR",\n        "iataCode": "NAT"\n    },\n    {\n        "country": "CN",\n        "iataCode": "NGB"\n    },\n    {\n        "country": "JP",\n        "iataCode": "NGS"\n    },\n    {\n        "country": "VN",\n        "iataCode": "NHA"\n    },\n    {\n        "country": "NE",\n        "iataCode": "NIM"\n    },\n    {\n        "country": "MR",\n        "iataCode": "NKC"\n    },\n    {\n        "country": "CN",\n        "iataCode": "NKG"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "NLA"\n    },\n    {\n        "country": "CN",\n        "iataCode": "NNG"\n    },\n    {\n        "country": "MG",\n        "iataCode": "NOS"\n    },\n    {\n        "country": "NC",\n        "iataCode": "NOU"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "NPE"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "NPL"\n    },\n    {\n        "country": "GB",\n        "iataCode": "NQY"\n    },\n    {\n        "country": "CM",\n        "iataCode": "NSI"\n    },\n    {\n        "country": "RU",\n        "iataCode": "NSK"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "NSN"\n    },\n    {\n        "country": "JP",\n        "iataCode": "NTQ"\n    },\n    {\n        "country": "DE",\n        "iataCode": "NUE"\n    },\n    {\n        "country": "BR",\n        "iataCode": "NVT"\n    },\n    {\n        "country": "GB",\n        "iataCode": "NWI"\n    },\n    {\n        "country": "MM",\n        "iataCode": "NYT"\n    },\n    {\n        "country": "US",\n        "iataCode": "OAK"\n    },\n    {\n        "country": "MX",\n        "iataCode": "OAX"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OBO"\n    },\n    {\n        "country": "US",\n        "iataCode": "OGG"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OIM"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OIR"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OIT"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OKA"\n    },\n    {\n        "country": "US",\n        "iataCode": "OKC"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OKD"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OKE"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OKJ"\n    },\n    {\n        "country": "NO",\n        "iataCode": "OLA"\n    },\n    {\n        "country": "IT",\n        "iataCode": "OLB"\n    },\n    {\n        "country": "US",\n        "iataCode": "OMA"\n    },\n    {\n        "country": "JP",\n        "iataCode": "ONJ"\n    },\n    {\n        "country": "US",\n        "iataCode": "ONT"\n    },\n    {\n        "country": "BR",\n        "iataCode": "OPS"\n    },\n    {\n        "country": "US",\n        "iataCode": "ORF"\n    },\n    {\n        "country": "US",\n        "iataCode": "ORH"\n    },\n    {\n        "country": "IE",\n        "iataCode": "ORK"\n    },\n    {\n        "country": "SE",\n        "iataCode": "OSD"\n    },\n    {\n        "country": "HR",\n        "iataCode": "OSI"\n    },\n    {\n        "country": "MA",\n        "iataCode": "OUD"\n    },\n    {\n        "country": "BF",\n        "iataCode": "OUG"\n    },\n    {\n        "country": "ES",\n        "iataCode": "OVD"\n    },\n    {\n        "country": "GW",\n        "iataCode": "OXB"\n    },\n    {\n        "country": "HT",\n        "iataCode": "PAP"\n    },\n    {\n        "country": "GR",\n        "iataCode": "PAS"\n    },\n    {\n        "country": "IN",\n        "iataCode": "PAT"\n    },\n    {\n        "country": "MX",\n        "iataCode": "PAZ"\n    },\n    {\n        "country": "MX",\n        "iataCode": "PBC"\n    },\n    {\n        "country": "IN",\n        "iataCode": "PBD"\n    },\n    {\n        "country": "US",\n        "iataCode": "PBI"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "PBZ"\n    },\n    {\n        "country": "ID",\n        "iataCode": "PDG"\n    },\n    {\n        "country": "PT",\n        "iataCode": "PDL"\n    },\n    {\n        "country": "MX",\n        "iataCode": "PDS"\n    },\n    {\n        "country": "US",\n        "iataCode": "PDX"\n    },\n    {\n        "country": "CO",\n        "iataCode": "PEI"\n    },\n    {\n        "country": "BR",\n        "iataCode": "PFB"\n    },\n    {\n        "country": "US",\n        "iataCode": "PHL"\n    },\n    {\n        "country": "US",\n        "iataCode": "PHX"\n    },\n    {\n        "country": "US",\n        "iataCode": "PIT"\n    },\n    {\n        "country": "ID",\n        "iataCode": "PKU"\n    },\n    {\n        "country": "CN",\n        "iataCode": "PKX"\n    },\n    {\n        "country": "TC",\n        "iataCode": "PLS"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "PLZ"\n    },\n    {\n        "country": "ES",\n        "iataCode": "PMI"\n    },\n    {\n        "country": "IT",\n        "iataCode": "PMO"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "PMR"\n    },\n    {\n        "country": "ES",\n        "iataCode": "PNA"\n    },\n    {\n        "country": "IT",\n        "iataCode": "PNL"\n    },\n    {\n        "country": "IN",\n        "iataCode": "PNQ"\n    },\n    {\n        "country": "IN",\n        "iataCode": "PNY"\n    },\n    {\n        "country": "BR",\n        "iataCode": "PNZ"\n    },\n    {\n        "country": "BR",\n        "iataCode": "POA"\n    },\n    {\n        "country": "MZ",\n        "iataCode": "POL"\n    },\n    {\n        "country": "PG",\n        "iataCode": "POM"\n    },\n    {\n        "country": "DO",\n        "iataCode": "POP"\n    },\n    {\n        "country": "TT",\n        "iataCode": "POS"\n    },\n    {\n        "country": "PL",\n        "iataCode": "POZ"\n    },\n    {\n        "country": "BR",\n        "iataCode": "PPB"\n    },\n    {\n        "country": "PF",\n        "iataCode": "PPT"\n    },\n    {\n        "country": "VN",\n        "iataCode": "PQC"\n    },\n    {\n        "country": "MX",\n        "iataCode": "PQM"\n    },\n    {\n        "country": "SC",\n        "iataCode": "PRI"\n    },\n    {\n        "country": "US",\n        "iataCode": "PSC"\n    },\n    {\n        "country": "PR",\n        "iataCode": "PSE"\n    },\n    {\n        "country": "US",\n        "iataCode": "PSP"\n    },\n    {\n        "country": "IT",\n        "iataCode": "PSR"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "PTG"\n    },\n    {\n        "country": "PA",\n        "iataCode": "PTY"\n    },\n    {\n        "country": "DO",\n        "iataCode": "PUJ"\n    },\n    {\n        "country": "US",\n        "iataCode": "PUW"\n    },\n    {\n        "country": "HR",\n        "iataCode": "PUY"\n    },\n    {\n        "country": "US",\n        "iataCode": "PVD"\n    },\n    {\n        "country": "BR",\n        "iataCode": "PVH"\n    },\n    {\n        "country": "MX",\n        "iataCode": "PVR"\n    },\n    {\n        "country": "US",\n        "iataCode": "PWM"\n    },\n    {\n        "country": "MX",\n        "iataCode": "PXM"\n    },\n    {\n        "country": "PT",\n        "iataCode": "PXO"\n    },\n    {\n        "country": "VN",\n        "iataCode": "PXU"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "PZB"\n    },\n    {\n        "country": "CV",\n        "iataCode": "RAI"\n    },\n    {\n        "country": "IN",\n        "iataCode": "RAJ"\n    },\n    {\n        "country": "MA",\n        "iataCode": "RAK"\n    },\n    {\n        "country": "BR",\n        "iataCode": "RAO"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "RCB"\n    },\n    {\n        "country": "US",\n        "iataCode": "RDM"\n    },\n    {\n        "country": "IN",\n        "iataCode": "RDP"\n    },\n    {\n        "country": "US",\n        "iataCode": "RDU"\n    },\n    {\n        "country": "BR",\n        "iataCode": "REC"\n    },\n    {\n        "country": "IT",\n        "iataCode": "REG"\n    },\n    {\n        "country": "KH",\n        "iataCode": "REP"\n    },\n    {\n        "country": "GR",\n        "iataCode": "RHO"\n    },\n    {\n        "country": "US",\n        "iataCode": "RIC"\n    },\n    {\n        "country": "JP",\n        "iataCode": "RIS"\n    },\n    {\n        "country": "LV",\n        "iataCode": "RIX"\n    },\n    {\n        "country": "ES",\n        "iataCode": "RJL"\n    },\n    {\n        "country": "SE",\n        "iataCode": "RNB"\n    },\n    {\n        "country": "JP",\n        "iataCode": "RNJ"\n    },\n    {\n        "country": "DK",\n        "iataCode": "RNN"\n    },\n    {\n        "country": "US",\n        "iataCode": "RNO"\n    },\n    {\n        "country": "US",\n        "iataCode": "ROA"\n    },\n    {\n        "country": "US",\n        "iataCode": "ROC"\n    },\n    {\n        "country": "IN",\n        "iataCode": "RPR"\n    },\n    {\n        "country": "MU",\n        "iataCode": "RRG"\n    },\n    {\n        "country": "US",\n        "iataCode": "RSW"\n    },\n    {\n        "country": "RE",\n        "iataCode": "RUN"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "RYL"\n    },\n    {\n        "country": "SV",\n        "iataCode": "SAL"\n    },\n    {\n        "country": "US",\n        "iataCode": "SAN"\n    },\n    {\n        "country": "HN",\n        "iataCode": "SAP"\n    },\n    {\n        "country": "US",\n        "iataCode": "SAT"\n    },\n    {\n        "country": "MY",\n        "iataCode": "SBW"\n    },\n    {\n        "country": "ES",\n        "iataCode": "SCQ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "SCW"\n    },\n    {\n        "country": "US",\n        "iataCode": "SDF"\n    },\n    {\n        "country": "JP",\n        "iataCode": "SDJ"\n    },\n    {\n        "country": "MY",\n        "iataCode": "SDK"\n    },\n    {\n        "country": "SE",\n        "iataCode": "SDL"\n    },\n    {\n        "country": "DO",\n        "iataCode": "SDQ"\n    },\n    {\n        "country": "ES",\n        "iataCode": "SDR"\n    },\n    {\n        "country": "BR",\n        "iataCode": "SDU"\n    },\n    {\n        "country": "SE",\n        "iataCode": "SFT"\n    },\n    {\n        "country": "RU",\n        "iataCode": "SGC"\n    },\n    {\n        "country": "CN",\n        "iataCode": "SHE"\n    },\n    {\n        "country": "US",\n        "iataCode": "SHV"\n    },\n    {\n        "country": "CN",\n        "iataCode": "SIA"\n    },\n    {\n        "country": "CV",\n        "iataCode": "SID"\n    },\n    {\n        "country": "UA",\n        "iataCode": "SIP"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "SIS"\n    },\n    {\n        "country": "US",\n        "iataCode": "SJC"\n    },\n    {\n        "country": "MX",\n        "iataCode": "SJD"\n    },\n    {\n        "country": "CR",\n        "iataCode": "SJO"\n    },\n    {\n        "country": "BR",\n        "iataCode": "SJP"\n    },\n    {\n        "country": "GR",\n        "iataCode": "SKU"\n    },\n    {\n        "country": "US",\n        "iataCode": "SLC"\n    },\n    {\n        "country": "ZM",\n        "iataCode": "SLI"\n    },\n    {\n        "country": "MX",\n        "iataCode": "SLP"\n    },\n    {\n        "country": "BR",\n        "iataCode": "SLZ"\n    },\n    {\n        "country": "US",\n        "iataCode": "SMF"\n    },\n    {\n        "country": "GR",\n        "iataCode": "SMI"\n    },\n    {\n        "country": "US",\n        "iataCode": "SNA"\n    },\n    {\n        "country": "CU",\n        "iataCode": "SNU"\n    },\n    {\n        "country": "ID",\n        "iataCode": "SOC"\n    },\n    {\n        "country": "ID",\n        "iataCode": "SOQ"\n    },\n    {\n        "country": "GB",\n        "iataCode": "SOU"\n    },\n    {\n        "country": "ES",\n        "iataCode": "SPC"\n    },\n    {\n        "country": "HR",\n        "iataCode": "SPU"\n    },\n    {\n        "country": "CI",\n        "iataCode": "SPY"\n    },\n    {\n        "country": "ID",\n        "iataCode": "SRG"\n    },\n    {\n        "country": "US",\n        "iataCode": "SRQ"\n    },\n    {\n        "country": "BR",\n        "iataCode": "SSA"\n    },\n    {\n        "country": "EG",\n        "iataCode": "SSH"\n    },\n    {\n        "country": "TR",\n        "iataCode": "SSX"\n    },\n    {\n        "country": "DO",\n        "iataCode": "STI"\n    },\n    {\n        "country": "US",\n        "iataCode": "STL"\n    },\n    {\n        "country": "DE",\n        "iataCode": "STR"\n    },\n    {\n        "country": "US",\n        "iataCode": "STS"\n    },\n    {\n        "country": "VG",\n        "iataCode": "STT"\n    },\n    {\n        "country": "IN",\n        "iataCode": "STV"\n    },\n    {\n        "country": "ID",\n        "iataCode": "SUB"\n    },\n    {\n        "country": "IT",\n        "iataCode": "SUF"\n    },\n    {\n        "country": "NO",\n        "iataCode": "SVG"\n    },\n    {\n        "country": "ES",\n        "iataCode": "SVQ"\n    },\n    {\n        "country": "CN",\n        "iataCode": "SWA"\n    },\n    {\n        "country": "SX",\n        "iataCode": "SXM"\n    },\n    {\n        "country": "IN",\n        "iataCode": "SXR"\n    },\n    {\n        "country": "JP",\n        "iataCode": "SYO"\n    },\n    {\n        "country": "US",\n        "iataCode": "SYR"\n    },\n    {\n        "country": "CN",\n        "iataCode": "SYX"\n    },\n    {\n        "country": "GB",\n        "iataCode": "SYY"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "SZK"\n    },\n    {\n        "country": "PL",\n        "iataCode": "SZZ"\n    },\n    {\n        "country": "JP",\n        "iataCode": "TAK"\n    },\n    {\n        "country": "MX",\n        "iataCode": "TAM"\n    },\n    {\n        "country": "CN",\n        "iataCode": "TAO"\n    },\n    {\n        "country": "VN",\n        "iataCode": "TBB"\n    },\n    {\n        "country": "TO",\n        "iataCode": "TBU"\n    },\n    {\n        "country": "IN",\n        "iataCode": "TCR"\n    },\n    {\n        "country": "TH",\n        "iataCode": "TDX"\n    },\n    {\n        "country": "PT",\n        "iataCode": "TER"\n    },\n    {\n        "country": "MZ",\n        "iataCode": "TET"\n    },\n    {\n        "country": "ES",\n        "iataCode": "TFN"\n    },\n    {\n        "country": "ES",\n        "iataCode": "TFS"\n    },\n    {\n        "country": "MY",\n        "iataCode": "TGG"\n    },\n    {\n        "country": "HN",\n        "iataCode": "TGU"\n    },\n    {\n        "country": "VN",\n        "iataCode": "THD"\n    },\n    {\n        "country": "BR",\n        "iataCode": "THE"\n    },\n    {\n        "country": "TH",\n        "iataCode": "THS"\n    },\n    {\n        "country": "SA",\n        "iataCode": "TIF"\n    },\n    {\n        "country": "MX",\n        "iataCode": "TIJ"\n    },\n    {\n        "country": "ID",\n        "iataCode": "TIM"\n    },\n    {\n        "country": "IN",\n        "iataCode": "TIR"\n    },\n    {\n        "country": "JP",\n        "iataCode": "TJH"\n    },\n    {\n        "country": "ID",\n        "iataCode": "TKG"\n    },\n    {\n        "country": "JP",\n        "iataCode": "TKS"\n    },\n    {\n        "country": "FI",\n        "iataCode": "TKU"\n    },\n    {\n        "country": "EE",\n        "iataCode": "TLL"\n    },\n    {\n        "country": "ID",\n        "iataCode": "TMC"\n    },\n    {\n        "country": "MA",\n        "iataCode": "TNG"\n    },\n    {\n        "country": "MG",\n        "iataCode": "TNR"\n    },\n    {\n        "country": "NO",\n        "iataCode": "TOS"\n    },\n    {\n        "country": "JP",\n        "iataCode": "TOY"\n    },\n    {\n        "country": "US",\n        "iataCode": "TPA"\n    },\n    {\n        "country": "MX",\n        "iataCode": "TPQ"\n    },\n    {\n        "country": "MX",\n        "iataCode": "TRC"\n    },\n    {\n        "country": "NO",\n        "iataCode": "TRD"\n    },\n    {\n        "country": "GB",\n        "iataCode": "TRE"\n    },\n    {\n        "country": "IT",\n        "iataCode": "TRN"\n    },\n    {\n        "country": "IT",\n        "iataCode": "TRS"\n    },\n    {\n        "country": "IN",\n        "iataCode": "TRZ"\n    },\n    {\n        "country": "TW",\n        "iataCode": "TSA"\n    },\n    {\n        "country": "CN",\n        "iataCode": "TSN"\n    },\n    {\n        "country": "JP",\n        "iataCode": "TTJ"\n    },\n    {\n        "country": "US",\n        "iataCode": "TUL"\n    },\n    {\n        "country": "US",\n        "iataCode": "TUS"\n    },\n    {\n        "country": "SA",\n        "iataCode": "TUU"\n    },\n    {\n        "country": "MY",\n        "iataCode": "TWU"\n    },\n    {\n        "country": "CN",\n        "iataCode": "TYN"\n    },\n    {\n        "country": "US",\n        "iataCode": "TYS"\n    },\n    {\n        "country": "JP",\n        "iataCode": "UBJ"\n    },\n    {\n        "country": "TH",\n        "iataCode": "UBP"\n    },\n    {\n        "country": "BR",\n        "iataCode": "UDI"\n    },\n    {\n        "country": "IN",\n        "iataCode": "UDR"\n    },\n    {\n        "country": "VN",\n        "iataCode": "UIH"\n    },\n    {\n        "country": "EC",\n        "iataCode": "UIO"\n    },\n    {\n        "country": "SE",\n        "iataCode": "UME"\n    },\n    {\n        "country": "ID",\n        "iataCode": "UPG"\n    },\n    {\n        "country": "CN",\n        "iataCode": "URC"\n    },\n    {\n        "country": "TH",\n        "iataCode": "URT"\n    },\n    {\n        "country": "TH",\n        "iataCode": "UTH"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "UTN"\n    },\n    {\n        "country": "TH",\n        "iataCode": "UTP"\n    },\n    {\n        "country": "ZA",\n        "iataCode": "UTT"\n    },\n    {\n        "country": "LC",\n        "iataCode": "UVF"\n    },\n    {\n        "country": "BG",\n        "iataCode": "VAR"\n    },\n    {\n        "country": "SE",\n        "iataCode": "VBY"\n    },\n    {\n        "country": "VN",\n        "iataCode": "VCL"\n    },\n    {\n        "country": "BR",\n        "iataCode": "VDC"\n    },\n    {\n        "country": "VN",\n        "iataCode": "VDH"\n    },\n    {\n        "country": "MX",\n        "iataCode": "VER"\n    },\n    {\n        "country": "ZW",\n        "iataCode": "VFA"\n    },\n    {\n        "country": "IN",\n        "iataCode": "VGA"\n    },\n    {\n        "country": "ES",\n        "iataCode": "VGO"\n    },\n    {\n        "country": "VN",\n        "iataCode": "VII"\n    },\n    {\n        "country": "BR",\n        "iataCode": "VIX"\n    },\n    {\n        "country": "VN",\n        "iataCode": "VKG"\n    },\n    {\n        "country": "ES",\n        "iataCode": "VLC"\n    },\n    {\n        "country": "VE",\n        "iataCode": "VLN"\n    },\n    {\n        "country": "LT",\n        "iataCode": "VNO"\n    },\n    {\n        "country": "IN",\n        "iataCode": "VNS"\n    },\n    {\n        "country": "MZ",\n        "iataCode": "VNX"\n    },\n    {\n        "country": "CU",\n        "iataCode": "VRA"\n    },\n    {\n        "country": "IT",\n        "iataCode": "VRN"\n    },\n    {\n        "country": "MX",\n        "iataCode": "VSA"\n    },\n    {\n        "country": "LA",\n        "iataCode": "VTE"\n    },\n    {\n        "country": "IN",\n        "iataCode": "VTZ"\n    },\n    {\n        "country": "BO",\n        "iataCode": "VVI"\n    },\n    {\n        "country": "RU",\n        "iataCode": "VVO"\n    },\n    {\n        "country": "CV",\n        "iataCode": "VXE"\n    },\n    {\n        "country": "NA",\n        "iataCode": "WDH"\n    },\n    {\n        "country": "GB",\n        "iataCode": "WIC"\n    },\n    {\n        "country": "CN",\n        "iataCode": "WNZ"\n    },\n    {\n        "country": "PL",\n        "iataCode": "WRO"\n    },\n    {\n        "country": "CN",\n        "iataCode": "WUH"\n    },\n    {\n        "country": "NA",\n        "iataCode": "WVB"\n    },\n    {\n        "country": "CN",\n        "iataCode": "WXN"\n    },\n    {\n        "country": "BR",\n        "iataCode": "XAP"\n    },\n    {\n        "country": "CN",\n        "iataCode": "XIY"\n    },\n    {\n        "country": "CN",\n        "iataCode": "XMN"\n    },\n    {\n        "country": "US",\n        "iataCode": "XNA"\n    },\n    {\n        "country": "ES",\n        "iataCode": "XRY"\n    },\n    {\n        "country": "AT",\n        "iataCode": "XWC"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YAM"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YDF"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YEG"\n    },\n    {\n        "country": "JP",\n        "iataCode": "YGJ"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YHZ"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YKA"\n    },\n    {\n        "country": "US",\n        "iataCode": "YKM"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YLW"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YMM"\n    },\n    {\n        "country": "SA",\n        "iataCode": "YNB"\n    },\n    {\n        "country": "CN",\n        "iataCode": "YNJ"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YOW"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQB"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQG"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQM"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQQ"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQR"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQT"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQU"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQX"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YQY"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YSB"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YTM"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YTS"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YTZ"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YUL"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YVG"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YVR"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YWG"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YXE"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YYC"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YYG"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YYJ"\n    },\n    {\n        "country": "CA",\n        "iataCode": "YYT"\n    },\n    {\n        "country": "HR",\n        "iataCode": "ZAD"\n    },\n    {\n        "country": "ES",\n        "iataCode": "ZAZ"\n    },\n    {\n        "country": "CN",\n        "iataCode": "ZHA"\n    },\n    {\n        "country": "CN",\n        "iataCode": "ZHY"\n    },\n    {\n        "country": "MX",\n        "iataCode": "ZIH"\n    },\n    {\n        "country": "MX",\n        "iataCode": "ZLO"\n    },\n    {\n        "country": "RE",\n        "iataCode": "ZSE"\n    },\n    {\n        "country": "GR",\n        "iataCode": "ZTH"\n    },\n    {\n        "country": "RU",\n        "iataCode": "ABA"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ABX"\n    },\n    {\n        "country": "TR",\n        "iataCode": "ADB"\n    },\n    {\n        "country": "JP",\n        "iataCode": "AKJ"\n    },\n    {\n        "country": "WS",\n        "iataCode": "APW"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ARM"\n    },\n    {\n        "country": "TM",\n        "iataCode": "ASB"\n    },\n    {\n        "country": "JP",\n        "iataCode": "ASJ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ASP"\n    },\n    {\n        "country": "AU",\n        "iataCode": "AYQ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "BCI"\n    },\n    {\n        "country": "AU",\n        "iataCode": "BDB"\n    },\n    {\n        "country": "TR",\n        "iataCode": "BJV"\n    },\n    {\n        "country": "AU",\n        "iataCode": "BKQ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "BME"\n    },\n    {\n        "country": "AU",\n        "iataCode": "BNK"\n    },\n    {\n        "country": "AU",\n        "iataCode": "BWT"\n    },\n    {\n        "country": "AU",\n        "iataCode": "BXG"\n    },\n    {\n        "country": "RU",\n        "iataCode": "BZK"\n    },\n    {\n        "country": "AU",\n        "iataCode": "CBR"\n    },\n    {\n        "country": "AU",\n        "iataCode": "CFS"\n    },\n    {\n        "country": "KR",\n        "iataCode": "CJJ"\n    },\n    {\n        "country": "KR",\n        "iataCode": "CJU"\n    },\n    {\n        "country": "RO",\n        "iataCode": "CLJ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "CNJ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "CNS"\n    },\n    {\n        "country": "TH",\n        "iataCode": "CNX"\n    },\n    {\n        "country": "AU",\n        "iataCode": "CTL"\n    },\n    {\n        "country": "AU",\n        "iataCode": "DBO"\n    },\n    {\n        "country": "AU",\n        "iataCode": "DPO"\n    },\n    {\n        "country": "AU",\n        "iataCode": "DRW"\n    },\n    {\n        "country": "US",\n        "iataCode": "DTW"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "DUD"\n    },\n    {\n        "country": "CN",\n        "iataCode": "DYG"\n    },\n    {\n        "country": "AU",\n        "iataCode": "EMD"\n    },\n    {\n        "country": "TR",\n        "iataCode": "ESB"\n    },\n    {\n        "country": "PT",\n        "iataCode": "FAO"\n    },\n    {\n        "country": "UZ",\n        "iataCode": "FEG"\n    },\n    {\n        "country": "PT",\n        "iataCode": "FNC"\n    },\n    {\n        "country": "JP",\n        "iataCode": "GAJ"\n    },\n    {\n        "country": "BW",\n        "iataCode": "GBE"\n    },\n    {\n        "country": "GY",\n        "iataCode": "GEO"\n    },\n    {\n        "country": "AU",\n        "iataCode": "GET"\n    },\n    {\n        "country": "AU",\n        "iataCode": "GFF"\n    },\n    {\n        "country": "AU",\n        "iataCode": "GLT"\n    },\n    {\n        "country": "KR",\n        "iataCode": "GMP"\n    },\n    {\n        "country": "AU",\n        "iataCode": "GOV"\n    },\n    {\n        "country": "RU",\n        "iataCode": "GRV"\n    },\n    {\n        "country": "RU",\n        "iataCode": "GSV"\n    },\n    {\n        "country": "GU",\n        "iataCode": "GUM"\n    },\n    {\n        "country": "AU",\n        "iataCode": "HBA"\n    },\n    {\n        "country": "US",\n        "iataCode": "HDN"\n    },\n    {\n        "country": "FI",\n        "iataCode": "HEL"\n    },\n    {\n        "country": "AU",\n        "iataCode": "HID"\n    },\n    {\n        "country": "KR",\n        "iataCode": "HIN"\n    },\n    {\n        "country": "JP",\n        "iataCode": "HNA"\n    },\n    {\n        "country": "US",\n        "iataCode": "HOU"\n    },\n    {\n        "country": "AU",\n        "iataCode": "HTI"\n    },\n    {\n        "country": "AU",\n        "iataCode": "HVB"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ISA"\n    },\n    {\n        "country": "JP",\n        "iataCode": "ISG"\n    },\n    {\n        "country": "IQ",\n        "iataCode": "ISU"\n    },\n    {\n        "country": "JP",\n        "iataCode": "ITM"\n    },\n    {\n        "country": "JP",\n        "iataCode": "IZO"\n    },\n    {\n        "country": "GR",\n        "iataCode": "JMK"\n    },\n    {\n        "country": "GR",\n        "iataCode": "JTR"\n    },\n    {\n        "country": "NG",\n        "iataCode": "KAN"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KCZ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "KGI"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KIJ"\n    },\n    {\n        "country": "JP",\n        "iataCode": "KKJ"\n    },\n    {\n        "country": "KR",\n        "iataCode": "KPO"\n    },\n    {\n        "country": "AU",\n        "iataCode": "KTA"\n    },\n    {\n        "country": "KR",\n        "iataCode": "KUV"\n    },\n    {\n        "country": "KR",\n        "iataCode": "KWJ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "LDH"\n    },\n    {\n        "country": "AU",\n        "iataCode": "LEA"\n    },\n    {\n        "country": "RU",\n        "iataCode": "LPK"\n    },\n    {\n        "country": "AU",\n        "iataCode": "LRE"\n    },\n    {\n        "country": "AU",\n        "iataCode": "LST"\n    },\n    {\n        "country": "CN",\n        "iataCode": "MDG"\n    },\n    {\n        "country": "AU",\n        "iataCode": "MGB"\n    },\n    {\n        "country": "AU",\n        "iataCode": "MHU"\n    },\n    {\n        "country": "RU",\n        "iataCode": "MJZ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "MKY"\n    },\n    {\n        "country": "JP",\n        "iataCode": "MMB"\n    },\n    {\n        "country": "JP",\n        "iataCode": "MMJ"\n    },\n    {\n        "country": "RU",\n        "iataCode": "MMK"\n    },\n    {\n        "country": "JP",\n        "iataCode": "MMY"\n    },\n    {\n        "country": "AU",\n        "iataCode": "MOV"\n    },\n    {\n        "country": "MZ",\n        "iataCode": "MPM"\n    },\n    {\n        "country": "RU",\n        "iataCode": "MQF"\n    },\n    {\n        "country": "AU",\n        "iataCode": "MQL"\n    },\n    {\n        "country": "AU",\n        "iataCode": "MRZ"\n    },\n    {\n        "country": "JP",\n        "iataCode": "MSJ"\n    },\n    {\n        "country": "BY",\n        "iataCode": "MSQ"\n    },\n    {\n        "country": "US",\n        "iataCode": "MTJ"\n    },\n    {\n        "country": "NF",\n        "iataCode": "NLK"\n    },\n    {\n        "country": "UZ",\n        "iataCode": "NMA"\n    },\n    {\n        "country": "KZ",\n        "iataCode": "NQZ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "NTL"\n    },\n    {\n        "country": "AU",\n        "iataCode": "OAG"\n    },\n    {\n        "country": "OM",\n        "iataCode": "OHS"\n    },\n    {\n        "country": "JP",\n        "iataCode": "OKI"\n    },\n    {\n        "country": "AU",\n        "iataCode": "OLP"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ONS"\n    },\n    {\n        "country": "AU",\n        "iataCode": "OOL"\n    },\n    {\n        "country": "AU",\n        "iataCode": "OOM"\n    },\n    {\n        "country": "AU",\n        "iataCode": "PBO"\n    },\n    {\n        "country": "RU",\n        "iataCode": "PES"\n    },\n    {\n        "country": "RU",\n        "iataCode": "PEZ"\n    },\n    {\n        "country": "AU",\n        "iataCode": "PHE"\n    },\n    {\n        "country": "AU",\n        "iataCode": "PLO"\n    },\n    {\n        "country": "AU",\n        "iataCode": "PPP"\n    },\n    {\n        "country": "AU",\n        "iataCode": "PQQ"\n    },\n    {\n        "country": "IT",\n        "iataCode": "PSA"\n    },\n    {\n        "country": "GP",\n        "iataCode": "PTP"\n    },\n    {\n        "country": "KR",\n        "iataCode": "PUS"\n    },\n    {\n        "country": "US",\n        "iataCode": "PVC"\n    },\n    {\n        "country": "AU",\n        "iataCode": "RMA"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ROK"\n    },\n    {\n        "country": "PW",\n        "iataCode": "ROR"\n    },\n    {\n        "country": "KR",\n        "iataCode": "RSU"\n    },\n    {\n        "country": "US",\n        "iataCode": "RUT"\n    },\n    {\n        "country": "US",\n        "iataCode": "SAV"\n    },\n    {\n        "country": "JP",\n        "iataCode": "SHM"\n    },\n    {\n        "country": "PR",\n        "iataCode": "SJU"\n    },\n    {\n        "country": "UZ",\n        "iataCode": "SKD"\n    },\n    {\n        "country": "RU",\n        "iataCode": "SKX"\n    },\n    {\n        "country": "AT",\n        "iataCode": "SZG"\n    },\n    {\n        "country": "CN",\n        "iataCode": "SZX"\n    },\n    {\n        "country": "KR",\n        "iataCode": "TAE"\n    },\n    {\n        "country": "AL",\n        "iataCode": "TIA"\n    },\n    {\n        "country": "ME",\n        "iataCode": "TIV"\n    },\n    {\n        "country": "JP",\n        "iataCode": "TKN"\n    },\n    {\n        "country": "AU",\n        "iataCode": "TMW"\n    },\n    {\n        "country": "CN",\n        "iataCode": "TNA"\n    },\n    {\n        "country": "JP",\n        "iataCode": "TNE"\n    },\n    {\n        "country": "AU",\n        "iataCode": "TSV"\n    },\n    {\n        "country": "TR",\n        "iataCode": "TZX"\n    },\n    {\n        "country": "JP",\n        "iataCode": "UEO"\n    },\n    {\n        "country": "SA",\n        "iataCode": "ULH"\n    },\n    {\n        "country": "MN",\n        "iataCode": "ULN"\n    },\n    {\n        "country": "RU",\n        "iataCode": "ULY"\n    },\n    {\n        "country": "TH",\n        "iataCode": "USM"\n    },\n    {\n        "country": "KR",\n        "iataCode": "USN"\n    },\n    {\n        "country": "CN",\n        "iataCode": "WEH"\n    },\n    {\n        "country": "AU",\n        "iataCode": "WEI"\n    },\n    {\n        "country": "AU",\n        "iataCode": "WGA"\n    },\n    {\n        "country": "KR",\n        "iataCode": "WJU"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "WLG"\n    },\n    {\n        "country": "ES",\n        "iataCode": "XOC"\n    },\n    {\n        "country": "ES",\n        "iataCode": "XTI"\n    },\n    {\n        "country": "ES",\n        "iataCode": "YJB"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ZBL"\n    },\n    {\n        "country": "RU",\n        "iataCode": "ZIA"\n    },\n    {\n        "country": "AU",\n        "iataCode": "ZNE"\n    },\n    {\n        "country": "NZ",\n        "iataCode": "ZQN"\n    }\n];\n\nconst EKHPublications = [\n    {countryCode: "AE", languages: ["EN", "AR"]},\n    {countryCode: "GB", languages: ["EN"]},\n    {countryCode: "US", languages: ["EN", "EN-US"]},\n    {countryCode: "CY", languages: ["EN"]},\n    {countryCode: "DK", languages: ["DA"]},\n    {countryCode: "DE", languages: ["DE"]},\n    {countryCode: "SE", languages: ["SV"]},\n    // {countryCode: "GR", languages: ["EN"]},\n    {countryCode: "CA", languages: ["EN"]},\n    {countryCode: "BH", languages: ["EN", "AR"]},\n    {countryCode: "IL", languages: ["EN"]},\n    {countryCode: "JO", languages: ["EN"]},\n    {countryCode: "KW", languages: ["EN", "AR"]},\n    {countryCode: "LB", languages: ["EN"]},\n    {countryCode: "SA", languages: ["EN", "AR"]},\n    {countryCode: "OM", languages: ["EN", "AR"]},\n    {countryCode: "EG", languages: ["EN"]},\n    // {countryCode: "ET", languages: ["EN"]},\n    // {countryCode: "GH", languages: ["EN"]},\n    // {countryCode: "KE", languages: ["EN"]},\n    // {countryCode: "MA", languages: ["EN"]},\n    // {countryCode: "NG", languages: ["EN"]},\n    // {countryCode: "SN", languages: ["EN"]},\n    {countryCode: "ZA", languages: ["EN"]},\n    // {countryCode: "TZ", languages: ["EN"]},\n    // {countryCode: "ZW", languages: ["EN"]},\n    // {countryCode: "BD", languages: ["EN"]},\n    {countryCode: "IN", languages: ["EN"]},\n    // {countryCode: "LK", languages: ["EN"]},\n    {countryCode: "MY", languages: ["EN"]}\n];\n    function isValidOrigin(origin) {\n        return (\n            origins.find((x) => x.iataCode === origin) ||\n            origin === "DXB"\n        );\n    }\n\n    if (\n        dataLayer &&\n        dataLayer.length &&\n        dataLayer[0].pageName === "/ Home" &&\n        !isSafari()\n    ) {\n        sendBoxeverEvent("VIEWED");\n        document\n            .querySelector(".js-widget-submit")\n            .addEventListener("click", (e) => {\n                const departureAirport = document.querySelector(\n                    \'input[name="seldcity1"]\'\n                ).value;\n                const arrivalAirport = document.querySelector(\n                    \'input[name="selacity1"]\'\n                ).value;\n                const departureDate = document.querySelector(\n                    \'input[name="selddate1"]\'\n                ).value;\n                const arrivalDate = document.querySelector(\n                    \'input[name="seladate1"]\'\n                ).value;\n                const adults = document.querySelector(\n                    \'input[name="seladults"]\'\n                ).value;\n                let cabinClass = document.querySelector(\n                    \'input[name="selcabinclass"]\'\n                ).value;\n                const teens = document.querySelector(\n                    \'input[name="selteenager"]\'\n                ).value;\n                const childs = document.querySelector(\n                    \'input[name="selchildren"]\'\n                ).value;\n                const infants = document.querySelector(\n                    \'input[name="selinfants"]\'\n                ).value;\n                const children = [];\n                if (teens > 0) {\n                    for (var i = 0; i < teens; i++) {\n                        children.push(13);\n                    }\n                }\n                if (childs > 0) {\n                    for (var i = 0; i < childs; i++) {\n                        children.push(11);\n                    }\n                }\n                if (infants > 0) {\n                    for (var i = 0; i < infants; i++) {\n                        children.push(1);\n                    }\n                }\n                const cabinClassMapping = { 0: 1, 1: 8, 2: 4 };\n                const originCountry =  origins.find(x => x.iataCode === departureAirport).country;\n                if (\n                    departureAirport &&\n                    arrivalAirport &&\n                    departureDate &&\n                    arrivalDate &&\n                    adults &&\n                    cabinClass &&\n                    originCountry &&\n                    (["MLE", "MRU", "SEZ", "DPS", "HKT", "BKK"].includes(arrivalAirport) ||\n                    (arrivalAirport === "IST" && departureAirport === "DXB") ||\n                    (arrivalAirport === \'DXB\' && Math.ceil((Date.parse(arrivalDate) - Date.parse(departureDate))/(1000*60*60*24)) > 4 &&\n                        Math.ceil((Date.parse(arrivalDate) - Date.parse(departureDate))/(1000*60*60*24)) < 24\n                    )\n                    ) &&\n                    EKHPublications.find(x => x.countryCode === originCountry && x.languages.includes(dataLayer[0].languageCode)) &&\n                    isValidOrigin(departureAirport)\n                    // document.querySelector(\'.js-activate-search-holiday\') &&\n                    // ["EN"].includes(dataLayer[0].languageCode)\n                ) {\n                    sendBoxeverEvent("CLICKED", {\n                        departureAirport,\n                        arrivalAirport,\n                        departureDate,\n                        arrivalDate,\n                        adults: parseInt(adults),\n                        childAges: JSON.stringify(children),\n                        cabinClass: cabinClassMapping[cabinClass],\n                        countryCode: originCountry,\n                        cultureCode: `${dataLayer[0].languageCode === "EN-US" ? "en": dataLayer[0].languageCode.toLowerCase()}-${originCountry}`,\n                    });\n                    targetingPassed();\n                }\n            });\n    }\n})();',targetPages:[]},traffic:{type:"advancedTraffic",allocationLow:1,allocationHigh:120,splits:[{ref:"bf605570-db7b-4fbb-b83e-b0b5700ebb46",lowSplit:1,highSplit:120}],coupled:!0},variants:[{ref:"bf605570-db7b-4fbb-b83e-b0b5700ebb46",name:"Asynchronous Flow",assets:{css:"",html:"",js:"\n"}}],notificationEnabled:!1}]}catch(n){var allFlows=[]}var QA_TOOL_URL="https://d35vb5cccm4xzp.cloudfront.net/qa-tool/bx-qa-tool/bx-qa-tool.js";if(_boxever_settings&&_boxever_settings.web_flow_target&&(QA_TOOL_URL=_boxever_settings.web_flow_target+"/qa-tool/bx-qa-tool/bx-qa-tool.js"),sessionStorage.getItem("BX_WEB_FLOW_CONFIG"))try{Boxever.webFlowDebug.flows.config=JSON.parse(sessionStorage.getItem("BX_WEB_FLOW_CONFIG")),0===Object.entries(Boxever.webFlowDebug.flows.config).length?resetQAToolConfig():(Boxever.webFlowDebug.flows.config.env=Boxever.webFlowDebug.flows.config.env||"PRODUCTION",Boxever.webFlowDebug.flows.config.browserId=Boxever.browser_id||Boxever.webFlowDebug.flows.config.browserId,Boxever.webFlowDebug.flows.config.clientKey=Boxever.client_key||Boxever.webFlowDebug.flows.config.clientKey,Boxever.webFlowDebug.flows.config.bucketNumber=Boxever.webFlowDebug.flows.config.bucketNumber||Boxever.bucket_number,Boxever.webFlowDebug.flows.config.disabledFlows=Boxever.webFlowDebug.flows.config.disabledFlows||[],Boxever.webFlowDebug.flows.config.customVariantRefs=Boxever.webFlowDebug.flows.config.customVariantRefs||{})}catch(n){resetQAToolConfig()}else resetQAToolConfig();var bxQATool=Boxever.webFlowDebug.flows.config.enableQATool,guestRef=Boxever.webFlowDebug.flows.config.guestRef,guestName=Boxever.webFlowDebug.flows.config.guestName,flowRef=Boxever.webFlowDebug.flows.config.previewFlowRef,variantRef=Boxever.webFlowDebug.flows.config.previewVariantRef,isDevOrg="DEV"===Boxever.webFlowDebug.flows.config.env,currentFlowDebug;getUrlParameter("bxQATool")&&(bxQATool=Boxever.webFlowDebug.flows.config.enableQATool="false"!==getUrlParameter("bxQATool"),updateQAToolSessionInfo(Boxever.webFlowDebug.flows.config)),getUrlParameter("bxFlowRef")&&(flowRef=Boxever.webFlowDebug.flows.config.previewFlowRef=getUrlParameter("bxFlowRef"),updateQAToolSessionInfo(Boxever.webFlowDebug.flows.config)),getUrlParameter("bxVariantRef")&&(variantRef=Boxever.webFlowDebug.flows.config.previewVariantRef=getUrlParameter("bxVariantRef"),updateQAToolSessionInfo(Boxever.webFlowDebug.flows.config)),-1!==location.href.indexOf("bxGuestRef")&&getUrlParameter("bxGuestRef").length&&(guestRef=Boxever.webFlowDebug.flows.config.guestRef=getUrlParameter("bxGuestRef"),Boxever.webFlowDebug.flows.config.advancedConfigEnabled=!0,updateQAToolSessionInfo(Boxever.webFlowDebug.flows.config)),-1!==location.href.indexOf("bxGuestName")&&getUrlParameter("bxGuestName").length&&(guestName=Boxever.webFlowDebug.flows.config.guestName=getUrlParameter("bxGuestName"),updateQAToolSessionInfo(Boxever.webFlowDebug.flows.config)),-1!==location.href.indexOf("bxIsDevOrg")&&(isDevOrg=getUrlParameter("bxIsDevOrg"),Boxever.webFlowDebug.flows.config.env=isDevOrg?"DEV":"PRODUCTION",updateQAToolSessionInfo(Boxever.webFlowDebug.flows.config)),isDevOrg&&(API_PATH="https://dev-api.boxever.com");var bucketNumberEndpoint="".concat(API_PATH,"/v2/getBucket");Boxever.getBucketNumber=function(n){getBucketNumber(bucketNumberEndpoint).then((function(e){e.json().then((function(e){e&&e.bucket&&(Boxever.bucket_number=Boxever.webFlowDebug.flows.config.bucketNumber=Number(e.bucket),Boxever.setCookie("bx_bucket_number",Number(e.bucket)),Boxever.guest_ref=e.guestRef,Boxever.setCookie("bx_guest_ref",e.guestRef),Boxever.webFlowDebug.flows.config.guestRef=Boxever.webFlowDebug.flows.config.guestRef||e.guestRef,n&&"function"==typeof n&&n())}))})).catch((function(){var e=Math.floor(120*Math.random());Boxever.bucket_number=Boxever.webFlowDebug.flows.config.bucketNumber=Number(e),Boxever.setCookie("bx_bucket_number",Number(e)),n&&"function"==typeof n&&n()}))},userHasBucketNumberAndGuestRef()?(Boxever.webFlowDebug.flows.config.bucketNumber=Boxever.bucket_number=Number(Boxever.getCookie("bx_bucket_number")),Boxever.guest_ref=Boxever.getCookie("bx_guest_ref"),Boxever.webFlowDebug.flows.config.guestRef=Boxever.webFlowDebug.flows.config.guestRef||Boxever.guest_ref,initSDK()):getBucketNumber(bucketNumberEndpoint).then((function(n){n.json().then((function(n){n&&n.bucket?(Boxever.bucket_number=Boxever.webFlowDebug.flows.config.bucketNumber=Number(n.bucket),Boxever.setCookie("bx_bucket_number",Number(n.bucket)),Boxever.guest_ref=n.guestRef,Boxever.setCookie("bx_guest_ref",n.guestRef),Boxever.webFlowDebug.flows.config.guestRef=Boxever.webFlowDebug.flows.config.guestRef||Boxever.guest_ref,initSDK()):(Boxever.bucket_number=Boxever.webFlowDebug.flows.config.bucketNumber=1,initSDK())}))})).catch((function(n){Boxever.bucket_number=Boxever.webFlowDebug.flows.config.bucketNumber=1,BoxeverJERS.errors.push(n),initSDK()}))}else window.BoxeverWebLibRetryCount&&Number(window.BoxeverWebLibRetryCount)?window.BoxeverWebLibRetryCount+=1:window.BoxeverWebLibRetryCount=1,window.BoxeverWebLibRetryCount<10&&setTimeout(BoxeverWebLib,250);function updateQAToolSessionInfo(n){try{sessionStorage.setItem("BX_WEB_FLOW_CONFIG",JSON.stringify(n))}catch(n){throw n}}function userHasBucketNumberAndGuestRef(){return(Boxever.bucket_number||!!Boxever.getCookie("bx_bucket_number"))&&(Boxever.guest_ref||Boxever.getCookie("bx_guest_ref"))}function getBucketNumber(n){return fetch(n,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientKey:Boxever.client_key,browserId:Boxever.getID()})})}function getCurrentVersionNumber(){var n=_boxever_settings.web_flow_target+"/web-flow-libs/"+_boxever_settings.client_key+"/payload.json";return fetch(n)}function resetQAToolConfig(){Boxever.webFlowDebug.flows.config={enableQATool:!1,advancedConfigEnabled:!1,browserId:Boxever.browser_id,clientKey:Boxever.client_key,bucketNumber:null,guestRef:null,guestName:null,productionFlowsEnabled:!1,sandboxFlowsEnabled:!0,env:"PRODUCTION",disabledFlows:[],customVariantRefs:{},previewFlowRef:"",previewVariantRef:""}}function initSDK(){_boxever_settings.web_flow_config&&_boxever_settings.web_flow_config.autoReload&&setInterval(Boxever.loadLatestWebVersion,_boxever_settings.web_flow_config.reloadInterval||36e5),Boxever.triggerExperiences=function(){Boxever.webFlowDebug.flows.config.productionFlowsEnabled||flowRef||(Boxever.webFlowDebug.flows.config.productionFlowsEnabled=!0),allFlows.forEach((function(n){Boxever.webFlowDebug.flows.production.push({definition:n}),(currentFlowDebug=Boxever.webFlowDebug.flows.production[Boxever.webFlowDebug.flows.production.length-1]).validFlowAndVariantReferences="PASSED",Boxever.webFlowDebug.flows.config.productionFlowsEnabled?-1!==Boxever.webFlowDebug.flows.config.disabledFlows.indexOf(n.ref)?currentFlowDebug.disabled=!0:currentFlowDebug.disabled=!1:bxQATool&&flowRef?n.ref===flowRef?currentFlowDebug.disabled=!1:currentFlowDebug.disabled=!0:currentFlowDebug.disabled=!1;var e,t,r,a,o=Boxever.bucket_number;!1===n.traffic.coupled&&(e=Boxever.guest_ref,t=n.ref,r=Math.pow(2,31)-1,a=(new Int32Array((0,murmur_32__WEBPACK_IMPORTED_MODULE_1__.Z)(e+t))[0]+r)%r/r*120,o=Math.floor(Math.min(Number(a)+1,120)),currentFlowDebug.bucketNumber=o),shouldWeTriggerAVariant(o,n,currentFlowDebug)}))},Boxever.triggerExperiences(),Handlebars.registerHelper("equals",(function(n,e,t){return n==e?t.fn(this):t.inverse(this)})),Boxever.templating=Handlebars.noConflict(),bxQATool&&(flowRef&&fetchFlowInformation(flowRef,variantRef),setTimeout((function(){window.types&&(window.oldTypes=window.types,window.types=null);var n=document.createElement("bx-qa-tool");n.setAttribute("id","bx-qa-tool"),document.body.appendChild(n);var e=document.createElement("script");e.id="boxever-web-flows-qa-tool",e.type="text/javascript",e.src=QA_TOOL_URL,e.async=!0,e.defer=!0,document.querySelector("html").appendChild(e),setTimeout((function(){window.types=window.oldTypes}),1e3)}),2e3))}function callFlow(n){var e={channel:Boxever.channel,browserId:Boxever.browser_id,clientKey:Boxever.client_key,pointOfSale:Boxever.pointOfSale,params:Boxever.params};return guestRef&&(e.guestRef=guestRef),fetch(n,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:e})})}function fetchFlowInformation(n,e){Boxever.webFlowDebug.flows.sandbox[0]||(Boxever.webFlowDebug.flows.sandbox.push({disabled:!1,variantRef:e}),currentFlowDebug=Boxever.webFlowDebug.flows.sandbox[0],fetch(API_PATH+"/v2/flowInfo/"+n,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientKey:Boxever.client_key})}).then((function(n){n.json().then((function(n){currentFlowDebug.definition=Boxever.webFlowDebug.flows.sandbox[0].definition=n,n.code&&(n.code<200||n.code>299)?currentFlowDebug&&(currentFlowDebug.validFlowAndVariantReferences="FAILED",currentFlowDebug.basicPageTargeting=null,currentFlowDebug.apiResponse=null):(currentFlowDebug.validFlowAndVariantReferences="PASSED",shouldWeTriggerAVariant(Boxever.bucket_number,n,currentFlowDebug))}))})).catch((function(n){currentFlowDebug&&(currentFlowDebug.validFlowAndVariantReferences="FAILED",currentFlowDebug.basicPageTargeting=null,currentFlowDebug.apiResponse=null)})))}function checkTargetPageViewConditions(n){return!n||!n.length||n.some((function(n){return"Equals"===n.operator&&window.location.href===n.value||("Contains"===n.operator&&-1!==window.location.href.indexOf(n.value)||(!("Starts with"!==n.operator||!new RegExp("^"+n.value).test(window.location.href))||(!("Ends with"!==n.operator||!new RegExp(n.value+"$").test(window.location.href))||(!("Matches Regex"!==n.operator||!new RegExp(n.value).test(window.location.href))||(!("Matches Regex (Ignore Case)"!==n.operator||!new RegExp(n.value,"i").test(window.location.href))||("Does not equal"===n.operator&&window.location.href!==n.value||("Does not contain"===n.operator&&-1===window.location.href.indexOf(n.value)||("Does not start with"===n.operator&&!new RegExp("^"+n.value).test(window.location.href)||("Does not end with"===n.operator&&!new RegExp(n.value+"$").test(window.location.href)||("Does not match Regex"===n.operator&&!new RegExp(n.value).test(window.location.href)||("Does not match Regex (Ignore Case)"===n.operator&&!new RegExp(n.value,"i").test(window.location.href)||void 0)))))))))))}))}function shouldWeTriggerAVariant(n,e,t){var r;if(!t.disabled)if((variantRef||t.variantRef)&&(r=variantRef||t.variantRef),Boxever.webFlowDebug.flows.config.customVariantRefs&&Boxever.webFlowDebug.flows.config.customVariantRefs[e.ref]&&(r=Boxever.webFlowDebug.flows.config.customVariantRefs[e.ref]),isNumberInRange(n,e.traffic.allocationLow,e.traffic.allocationHigh)){var a=e.variants.filter((function(n){return n.ref===r}))[0];if(r&&a){var o=e.variants.filter((function(n){return n.ref===r}))[0];o?(t.userIsInAllocation="PASSED",t.variantRef=r,runSelectedVariant(e,o,t)):t.validFlowAndVariantReferences="FAILED"}else e.traffic.splits.forEach((function(r){if("PASSED"!==t.userIsInAllocation)if(isNumberInRange(n,r.lowSplit,r.highSplit)){t.userIsInAllocation="PASSED",t.variantRef=r.ref;var a=e.variants.filter((function(n){return n.ref===r.ref}))[0];runSelectedVariant(e,a,t)}else t.userIsInAllocation="FAILED"}))}else t.userIsInAllocation="FAILED"}function runSelectedVariant(flow,selectedVariant,debugFlow){var targetingPassed=triggerVariant;function doesTargetingPass(){var hasTargetPages=flow.target&&flow.target.targetPages&&flow.target.targetPages.length,hasTargetScript=flow.target&&flow.target.script;if(hasTargetPages||hasTargetScript)if(hasTargetPages&&hasTargetScript)if(checkTargetPageViewConditions(flow.target.targetPages)){debugFlow.basicPageTargeting="PASSED";try{debugFlow.advancedPageTargeting="FAILED",debugFlow.advancedPageTargetingMessage="targetingPassed() method hasn't been called",eval(flow.target.script)}catch(n){debugFlow.advancedPageTargeting="FAILED",debugFlow.advancedPageTargetingMessage="".concat(n)}}else debugFlow.basicPageTargeting="FAILED",debugFlow.advancedPageTargeting=null;else if(hasTargetPages&&!hasTargetScript)checkTargetPageViewConditions(flow.target.targetPages)?(debugFlow.basicPageTargeting="PASSED",debugFlow.advancedPageTargeting="PASSED",targetingPassed()):(debugFlow.basicPageTargeting="FAILED",debugFlow.advancedPageTargeting=null);else if(!hasTargetPages&&hasTargetScript){debugFlow.basicPageTargeting="PASSED";try{debugFlow.advancedPageTargeting="FAILED",debugFlow.advancedPageTargetingMessage="targetingPassed() method hasn't been called",eval(flow.target.script)}catch(n){debugFlow.advancedPageTargeting="FAILED",debugFlow.advancedPageTargetingMessage="".concat(n)}}else debugFlow.basicPageTargeting="PASSED",debugFlow.advancedPageTargeting="PASSED",targetingPassed();else debugFlow.basicPageTargeting="PASSED",debugFlow.advancedPageTargeting="PASSED",targetingPassed()}function triggerVariant(){var n;(debugFlow.advancedPageTargeting="PASSED",debugFlow.advancedPageTargetingMessage="",flow.ref&&selectedVariant.ref)&&callFlow(API_PATH+"/v2/callFlows/"+flow.ref+"/variants/"+selectedVariant.ref).then((function(n){return n.text()})).then((function(e){try{return JSON.parse(e)}catch(t){throw n=e,new Error("JSON cannot be parsed")}})).then((function(n){if(debugFlow.apiResponse=n,n.code&&(n.code<200||n.code>299)||n.category&&-1!==["FLOW_VARIANT_NOT_FOUND","AUDIENCE_FILTER_CODE_NOT_PASSED","NO_FLOW_EXECUTED_AUDIENCE_FILTER_FALSE","NO_FLOW_EXECUTED_TARGET_GROUP_FILTER_FAILED","NO_FLOW_EXECUTED_SEGMENT_FILTER_FAILED","AUDIENCE_SEGMENT_NOT_MATCHED","FLOW_CURRENTLY_NOT_SCHEDULED","NO_FLOW_EXECUTED_AUDIENCE_SEGMENT_FALSE","NO_FLOW_EXECUTED_NOT_SCHEDULED","NO_FLOW_EXECUTED_EXCLUDED_FROM_TEST"].indexOf(n.category)||n.status&&-1!==["FLOW_VARIANT_NOT_FOUND","AUDIENCE_FILTER_CODE_NOT_PASSED","NO_FLOW_EXECUTED_AUDIENCE_FILTER_FALSE","NO_FLOW_EXECUTED_TARGET_GROUP_FILTER_FAILED","NO_FLOW_EXECUTED_SEGMENT_FILTER_FAILED","AUDIENCE_SEGMENT_NOT_MATCHED","FLOW_CURRENTLY_NOT_SCHEDULED","NO_FLOW_EXECUTED_AUDIENCE_SEGMENT_FALSE","NO_FLOW_EXECUTED_NOT_SCHEDULED","NO_FLOW_EXECUTED_EXCLUDED_FROM_TEST"].indexOf(n.status));else{if(selectedVariant.assets){selectedVariant.assets.compiled={html:"",css:"",js:""};try{selectedVariant.assets.compiled.html=Handlebars.compile(selectedVariant.assets.html)(n)}catch(n){debugFlow.variantCode={status:"error",message:"HandlebarsJS error in HTML",developerMessage:"".concat(n)}}try{selectedVariant.assets.compiled.css=Handlebars.compile(selectedVariant.assets.css)(n)}catch(n){debugFlow.variantCode={status:"error",message:"HandlebarsJS error in CSS",developerMessage:"".concat(n)}}try{selectedVariant.assets.compiled.js=Handlebars.compile(selectedVariant.assets.js)(n)}catch(n){debugFlow.variantCode={status:"error",message:"HandlebarsJS error in JavaScript",developerMessage:"".concat(n)}}}debugFlow.variantCode||bxRenderVariant(Object.assign(selectedVariant,{context:n}),debugFlow)}})).catch((function(e){debugFlow.apiResponse={status:"FLOW_CONFIG_ERROR_TEMPLATE_RESPONSE_INVALID",message:"Invalid JSON",developerMessage:"Response value: \n ".concat(n)}}))}var lastLocationKey="__TargetingLastLocation_"+selectedVariant.ref;function dedupedDoesTargetingPass(){var n=window.location.href.split("#")[0];window[lastLocationKey]!==n&&(window[lastLocationKey]=n,doesTargetingPass())}if(window.__NEXT_DATA__){function patchHistoryMethod(n){var e=history[n];history[n]=function(){var n=e.apply(this,arguments);return setTimeout((function(){dedupedDoesTargetingPass()}),0),n}}patchHistoryMethod("pushState"),patchHistoryMethod("replaceState"),dedupedDoesTargetingPass()}else window.onpopstate=function(){doesTargetingPass()},doesTargetingPass()}function bxRenderVariant(variant,debugFlow){var result=variant,styleId="style-"+variant.ref,existingStyleTag=document.getElementById(styleId);if(existingStyleTag)document.getElementById(styleId).innerHTML=variant.assets.compiled.css;else{var styleNode=document.createElement("style");styleNode.setAttribute("id",styleId),styleNode.innerHTML=variant.assets.compiled.css,document.head.appendChild(styleNode)}function insertHTMLAfter(n){var e=document.querySelector(n),t="bx-"+variant.ref;if(document.getElementById(t))document.getElementById(t).innerHTML=variant.assets.compiled.html;else{var r=document.createElement("div");r.setAttribute("id","bx-"+variant.ref),r.innerHTML=variant.assets.compiled.html,e instanceof HTMLElement?e.appendChild(r):document.body.appendChild(r)}}function insertHTMLBefore(n){var e=document.querySelector(n),t="bx-"+variant.ref;if(document.getElementById(t))document.getElementById(t).innerHTML=variant.assets.compiled.html;else{var r=document.createElement("div");r.setAttribute("id","bx-"+variant.ref),r.innerHTML=variant.assets.compiled.html,e instanceof HTMLElement?e.prepend(r):document.body.prepend(r)}}function replaceHTML(n){var e=document.querySelector(n),t="bx-"+variant.ref;if(document.getElementById(t))document.getElementById(t).innerHTML=variant.assets.compiled.html;else{var r=document.createElement("div");if(r.setAttribute("id","bx-"+variant.ref),r.innerHTML=variant.assets.compiled.html,!(e instanceof HTMLElement))throw"HTML element not found";e.outerHTML=r.outerHTML}}function replaceHTMLExact(n){var e=document.querySelector(n);if(!(e instanceof HTMLElement))throw"HTML element not found";e.outerHTML=variant.assets.compiled.html}try{eval(variant.assets.compiled.js)}catch(n){debugFlow.variantCode={status:"error",message:"JavaScript Evaluation Error",developerMessage:"".concat(n)}}}function isNumberInRange(n,e,t){return n>=e&&n<=t}function getUrlParameter(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(location.href);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}}window.Promise||(window.Promise=promise_polyfill__WEBPACK_IMPORTED_MODULE_0__.Z),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(n,e){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(n),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t},writable:!0,configurable:!0}),BoxeverWebLib()})()})();